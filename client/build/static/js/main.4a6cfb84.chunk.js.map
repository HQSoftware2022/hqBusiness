{"version":3,"sources":["components/Alerts/Alerter.jsx","components/Navigation.jsx","components/Footer.jsx","components/Home.jsx","components/Tasks/returnTasks.js","components/Logos/PDFLogo.png","components/excelExport.js","components/Tasks/NewTask.jsx","components/Tasks/MultiEdit.jsx","components/Tasks/HoursEstimate.jsx","components/Tasks/Summary.jsx","components/Tasks/LoadDataSource.js","components/Tasks/Tasks.jsx","components/Support/SupportSummary.jsx","components/Support/QuickSupport.jsx","components/Report/components1/Closed.jsx","components/Report/components1/Reports.jsx","components/Report/components1/ReportMenu.jsx","components/Report/components1/Schedule.jsx","components/Report/Report1.js","components/Alerts/Errors.jsx","components/Products/NewVersion.jsx","components/Products/Products.jsx","components/Customers/EditList.jsx","components/Customers/Customers.jsx","components/Login/HQicon.ico","components/Login/Login.js","App.js","useToken.js","reportWebVitals.js","index.js"],"names":["getCount","fetch","then","response","json","Alerter","React","memo","props","useState","countNotification","setCountNotification","show","setShow","showAlert","setShowAlert","alerts","setAlerts","showAlertList","data","setCount","count","errorCount","setErrorCount","useEffect","setTimeout","undefined","history","useHistory","onRowDoubleClick","useCallback","rowProps","window","location","pathname","reload","push","localStorage","setItem","JSON","stringify","onRenderRow","onDoubleClick","event","onRowClick","class","onClick","effect","Effect","SCALE","className","Toast","onClose","style","width","height","Header","Body","idProperty","columns","name","header","defaultFlex","type","dataSource","minHeight","margin","theme","Alert","variant","dismissible","closeLabel","withRouter","tokenString","sessionStorage","getItem","Username","parse","username","to","removeItem","Footer","Home","getHistory","taskID","addNote","note","UserID","Minutes","requestOptions","method","headers","body","Notes","Task","userid","minutes","updateTask","taskObject","customerName","customerCode","departmentCode","userId","Company_Name","Account","Department","ActionByUserID","Issue_No","Details","Area","Reference2","Application","Reference","Contact","Reference3","Estimate","Priority","Invoice","DueDate","Requested","User","addNewTask","newTaskNo","CustomerName","CustomerCode","newDetails","newPriority","dueDate","reqDate","user","userID","ref1","contact","ref2","notes","estimate","invoice","urgent","ReqDate","Reference1","Urgent","getNewTaskID","a","newtaskID","returnCustomers","customers","returnDepartments","departments","returnUsers","id","thisTask","reasons","openHistory","makeUrgent","taskId","input","closeItem","itemId","string","itemID","downloadBlob","blob","fileName","link","document","createElement","url","URL","createObjectURL","setAttribute","position","visibility","appendChild","click","removeChild","HQDetails","NewTask","currentUserObj","filterUser","UserId","currentDepFilter","filterDepartment","currentCustFilter","filterCustomer","userToken","setDepartments","setCustomers","users","setUsers","mounted","showNewTask","setShowNewTask","tomorrow","Date","setDate","getDate","setDueDate","setReqDate","setNewDetails","setNewTaskNo","newCustomer","setNewCustomer","newDepartment","setNewDepartment","newUser","setNewUser","newRef1","setNewRef1","newContact","setNewContact","newRef2","setNewRef2","newNotes","setNewNotes","newInvoice","setNewInvoice","newEstimate","setNewEstimate","newTaskPriority","setNewTaskPriority","setUrgent","emailBody","setEmailBody","handleCloseNewTask","fortnight","setInputList","item","onSubmitNewTask","newDueDate","moment","format","newReqDate","DepToAdd","CustToAdd","Code","task","alert","onTaskCreate","inputList","forEach","e","details","addItem","nextTaskNum","thisDueDate","textToCopy","navigator","clipboard","isSecureContext","writeText","textArea","value","left","top","focus","select","Promise","res","rej","execCommand","remove","copyToClipboard","catch","console","log","handleAddClick","OverlayTrigger","placement","overlay","Tooltip","Button","getElementById","Modal","onHide","size","closeButton","Title","Form","Row","Col","Group","controlId","Control","as","onChange","target","map","customer","index","department","rows","placeholder","marginTop","xs","Label","selected","date","dateFormat","calendarStartDay","Check","inline","label","display","x","i","list","handleInputChange","length","splice","handleRemoveClick","right","open","MultiEdit","showMultiEdit","setShowMultiEdit","handleCloseMultiEdit","tempPriority","setTempPriority","tempDueDate","setTempDueDate","editIsDisabled","disabled","selectedIds","Object","keys","key","duedate","newduedate","tasks","priority","editMultiple","CustomizedAxisTick","this","y","payload","stroke","transform","dy","textAnchor","fill","PureComponent","HoursEstimate","estimateGrid","userData","setUserData","loading","setLoading","color","ariLabel","BarChart","CartesianGrid","XAxis","dataKey","interval","tick","YAxis","angle","Bar","maxBarSize","Summary","r1","setR1","r2","setR2","r3","setR3","w1","setW1","w2","setW2","w3","setW3","s1","setS1","s2","setS2","s3","setS3","g1","setG1","g2","setG2","g3","setG3","n1","setN1","n2","setN2","n3","setN3","fullCount","setFullCount","userSource","p1","p2","p3","getDataSource","priorities","p","result","c","All","maxWidth","defaultSortInfo","dir","LoadDataSource","showingClosed","filterCustCode","search","taskAmount","Search","filterPriority","isShowClosed","urgentOnly","newDataSource","rowClassName","State","itemRowClassName","Complete","Tasks","title","AllCustomers","AllDepartments","AllUsers","setDataSource","itemDataSource","setItemDataSource","setTaskAmount","setFilterUser","setFilterPriority","setFilterCustomer","setFilterDepartment","setShowingClosed","setUrgentOnly","searchString","setSearchString","reLoadDataExt","Customer_Code","setSelected","gridRef","setGridRef","historyRef","setHistoryRef","noteValue","setNoteValue","historyMinutes","setHistoryMinutes","setTaskID","setHistory","updateDueDate","setUpdateDueDate","updateReqDate","setUpdateReqDate","taskToUpdate","setTaskToUpdate","editCustomer","setEditCustomer","editDepartment","setEditDepartment","editUser","setEditUser","departmentValue","setDepartmentValue","tasksUser","setTasksUser","closedStatus","setClosedStatus","showCloseTask","setShowCloseTask","handleClose","setSelectedItems","getSelectedTask","j","ActionBy","taskDate","dataSourceArray","onSubmit","selectedItems","setReasons","reasonToClose","setReasonToClose","closingMinutes","setClosingMinutes","timeSpent","setTimeSpent","handleCloseCloseTask","handleShowCloseTask","TimeSpent","returnReasons","onSelectionChange","onSelectionItemChange","minWidth","sort","b","showPrompt","setShowPrompt","handleClosePrompt","current","toString","replace","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","exportCSV","gridData","doc","jsPDF","closedIndex","urgentIndex","p1Index","bodyData","Customer","Updated","ActionByUsername","Owner_Name","P","rowData","formatDate","headerText","autoTable","styles","fontSize","headStyles","fillColor","head","didParseCell","row","cell","fontStyle","raw","didDrawPage","setFontSize","setTextColor","PDFLogo","addImage","text","settings","docName","titleDate","save","exportPDF","handle","marginRight","marginLeft","checkboxColumn","backdrop","Margin","reOpenTask","totalTime","Time","Math","round","pageSize","internal","pageWidth","getWidth","splitTextToSize","startY","exportHistoryPDF","Tabs","onSelect","k","Tab","eventKey","editable","UserName","prevTask","defaultVisible","Reason","reason","closingNote","reasonCode","closeTask","Reference4","SupportSummary","returnSupportSummary","summary","QuickSupport","AllReasons","setCustomer","setDetails","selectedReason","setSelectedReason","setMinutes","showOther","setShowOther","phone","setPhone","email","setEmail","remote","setRemote","siteVisit","setSiteVisit","outOfHours","setOutOfHours","validated","setValidated","formRef","useRef","handleReset","reset","currentCustomer","marginBottom","ref","backgroundColor","support","SupportCode","Phone","Email","Site","Remote","OutOfHours","addQuickSupport","Closed","startDate","setStartDate","endDate","setEndDate","LoadData","sDate","eDate","getClosedTasks","selectsStart","selectsEnd","minDate","DateCompleted","DaysToComplete","exportClosedPDF","Reports","selectedChart","chartLoaded","setLoadingUser","chartType","setChartType","setData","getTimeSpent","report","getUserTimeSpent","temp","ReportMenu","breakpoint","iconShape","icon","pushNewWeek","dataArray","number","weekDay","curr","first","getDay","newest","Week","Richard","Wesley","Stephen","Neil","Gavin","Hours","Schedule","graphData","setGraphData","weekCount","ResponsiveContainer","Legend","Report1","path","exact","component","returnErrors","code","returnAlerts","submitErrors","status","detailsArray","Status","processErrors","Errors","errorList","setErrorList","setCurrentCustomer","reLoadGrid","Customer_Name","ErrorCount","NewVersion","isDisabled","product","ProductID","version","setVersion","sql","setSQL","comment","setComment","productID","Version","addUpdateHeader","updateId","UpdateId","Comment","addUpdateDetail","Sql","addUpdateSQL","reLoad","ProductName","returnProductGrid","Products","noSelected","MailingList","ProductURL","currentProduct","setCurrentProduct","products","setProducts","href","EditList","setList","Web_List_Placement","one","two","three","four","five","six","seven","eight","nine","ten","updateCustomerList","getTopSelected","Customers","customerSupportData","setCustomerSupportData","selectedCustomers","setSelectedCustomers","gridStyle","Button1","loginUser","credentials","Login","setToken","setUserName","password","setPassword","handleSubmit","checkDueDate","preventDefault","token","src","HQicon","alt","constrolId","App","getToken","useToken","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"0kBAyBMA,EAAW,WACf,OAAOC,MAAM,oBAAoBC,MAAK,SAAAC,GACpC,OAAOA,EAASC,WA4LLC,EAxLCC,IAAMC,MAAM,SAAAC,GAGxB,MAAoDC,mBAAS,GAA7D,mBAAQC,EAAR,KAA2BC,EAA3B,KACA,EAAwBF,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KAEA,EAA4BN,mBAAS,IAArC,mBAAOO,EAAP,KAAeC,EAAf,KAEMC,EAAgB,WApBjBjB,MAAM,iBAAiBC,MAAK,SAAAC,GACjC,OAAOA,EAASC,UAqBGF,MAAK,SAACiB,GACnBC,EAASC,EAAQ,GACjBJ,EAAUE,GACVN,GAAQ,OAId,EAA0BJ,mBAAS,GAAnC,mBAAOY,EAAP,KAAcD,EAAd,KACA,EAAoCX,qBAApC,mBAAOa,EAAP,KAAmBC,EAAnB,KAKAC,qBAAU,WACM,IAAVH,GACFrB,IAAWE,MAAK,SAACiB,GAEfI,EAAcJ,EAAK,GAAG,QAExBC,EAASC,EAAQ,IAUjBI,YAAW,WACTL,EAASC,EAAQ,GAEjBrB,IAAWE,MAAK,SAACiB,GAEZA,EAAK,GAAG,IAAIG,QAA2BI,IAAbJ,IAC3BC,EAAcJ,EAAK,GAAG,KAEtBR,EAAqBD,EAAkB,SA8C1C,OAIJ,CAACW,EAAOX,EAAmBY,IAE9B,IAQMK,EAAUC,cAGVC,EAAmBC,uBAAY,SAACC,GAEN,WAA1BC,OAAOC,SAASC,SAClBF,OAAOC,SAASE,QAAO,GAEvBR,EAAQS,KAAK,WAEfC,aAAaC,QAAQ,qBAAsBC,KAAKC,UAAUT,EAASZ,OACnEN,GAAQ,KACP,CAACc,IAGEc,EAAcX,uBAAY,SAACC,GAC/B,IAAQW,EAAkBX,EAAlBW,cAERX,EAASW,cAAgB,SAACC,GACxBd,EAAiBE,GACbW,GACFA,EAAcC,MAIjB,CAACd,IAEEe,EAAad,uBAAY,SAACC,EAAUY,MAEvC,IAIH,OACI,qCACA,eAAC,IAAD,CAAME,MAAM,WAAWC,QAAS,WAC9B5B,IACAP,EAAqB,IAFvB,UAIE,cAAC,IAAD,CAAmBU,MAAOX,EAAmBqC,OAAQC,SAAOC,QAC5D,cAAC,IAAD,OAIF,qBAAKC,UAAU,eAAf,SACI,eAACC,EAAA,EAAD,CAAOC,QAAS,kBAAMvC,GAAQ,IAAQD,KAAMA,EAAMyC,MAAO,CAACC,MAAM,QAASC,OAAQ,SAAjF,UACF,cAACJ,EAAA,EAAMK,OAAP,UACE,wBAAQN,UAAU,UAAlB,sBAEF,cAACC,EAAA,EAAMM,KAAP,UACA,cAAC,IAAD,CACMC,WAAW,KACXC,QA3DI,CACd,CAACC,KAAM,gBAAiBC,OAAQ,UAAWC,YAAY,EAAGC,KAAM,UAChE,CAACH,KAAM,aAAcC,OAAQ,SAAUC,YAAY,EAAGC,KAAM,WA0DlDC,WAAYhD,EACZqC,MAzDM,CAAEY,UAAU,IAAKC,OAAO,GA0D9BC,MA/DE,eAgEF1B,YAAaA,EACbG,WAAYA,WAOhB9B,GACA,qBAAKoC,UAAW,qBAAhB,SACI,cAACkB,EAAA,EAAD,CAAehB,QAAS,kBAAMrC,GAAa,IAAQsD,QAAS,SAAUC,aAAW,EAACC,WAAY,UAA9F,kCAAY,WCrGbC,mBAhGf,SAAoBhE,GAClB,IAAMiE,EAAcC,eAAeC,QAAQ,SAErCC,EADYrC,KAAKsC,MAAMJ,GACFK,SAO3B,OACE,qBAAK5B,UAAU,aAAf,SACE,qBAAKL,MAAM,kDAAX,SACE,sBAAKA,MAAM,YAAX,UACE,eAAC,IAAD,CAAMA,MAAM,eAAekC,GAAG,IAA9B,UACGH,EADH,oBAKA,8BACE,qBAAI/B,MAAM,qBAAV,UACE,oBACEA,MAAK,oBACyB,MAA5BrC,EAAMyB,SAASC,SAAmB,SAAW,IAFjD,SAKE,eAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,IAA1B,kBAEE,sBAAMlC,MAAM,UAAZ,4BAIJ,oBACEA,MAAK,oBACyB,aAA5BrC,EAAMyB,SAASC,SAA0B,SAAW,IAFxD,SAKE,cAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,WAA1B,uBAKF,oBACElC,MAAK,oBACyB,aAA5BrC,EAAMyB,SAASC,SAA0B,SAAW,IAFxD,SAKE,cAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,WAA1B,uBAKF,oBACElC,MAAK,oBACyB,cAA5BrC,EAAMyB,SAASC,SAA2B,SAAW,IAFzD,SAKE,cAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,YAA1B,wBAKF,oBACElC,MAAK,oBACyB,eAA5BrC,EAAMyB,SAASC,SAA4B,SAAW,IAF1D,SAKE,cAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,aAA1B,yBAKF,6BACE,cAAC,EAAD,MAEF,6BACE,qBAAK7B,UAAU,aAEjB,oBACEL,MAAK,oBACyB,WAA5BrC,EAAMyB,SAASC,SAAwB,SAAW,IAFtD,SAKE,cAAC,IAAD,CAAMW,MAAM,WAAWkC,GAAG,IAAIjC,QA9E7B,WACb4B,eAAeM,WAAW,SAC1BhD,OAAOC,SAASE,QAAO,IA4EX,uCC1ED8C,MAdf,WACE,OACE,qBAAK/B,UAAU,SAAf,SACE,wBAAQL,MAAM,mCAAd,SACE,qBAAKA,MAAM,YAAX,SACE,mBAAGA,MAAM,6BAAT,2DCoBKqC,I,uKCvBR,SAASC,EAAWC,GACzB,OAAOnF,MAAM,gBAAkBmF,GAC5BlF,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,UAGhB,SAASiF,EAAQC,EAAMF,EAAQG,EAAQC,GAC5C,IAAMC,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBqD,MAAOP,EACPQ,KAAMV,EACNW,OAAQR,EACRS,QAASR,KAGb,OAAOvF,MAAM,eAAgBwF,GAIxB,SAASQ,EAAWC,EAAYC,EAAcC,EAAcC,EAAgBC,GAE7EH,IACFA,EAAaD,EAAWK,aACxBH,EAAaF,EAAWM,SAEtBH,IACFA,EAAiBH,EAAWO,YAE1BH,IACFA,EAASJ,EAAWQ,gBAGtB,IAAMjB,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBsD,KAAOI,EAAWS,SAClBC,QAASV,EAAWU,QACpBf,MAAOK,EAAWL,MAClBgB,KAAMX,EAAWY,WACjBC,YAAab,EAAWc,UACxBC,QAASf,EAAWgB,WACpBC,SAAUjB,EAAWiB,SACrBC,SAAUlB,EAAWkB,SACrBC,QAASnB,EAAWmB,QACpBC,QAASpB,EAAWoB,QACpBC,UAAWrB,EAAWqB,UACtBhB,aAAcJ,EACdK,QAASJ,EACTK,WAAYJ,EACZmB,KAAMlB,KAGV,OAAOrG,MAAM,eAAgBwF,GAIxB,SAASgC,EAAWC,EAAWC,EAAaC,EAAcC,EAAYC,EAAaC,EAASC,EAAS3B,EAAgB4B,EAAMC,EAAQC,EAAMC,EAASC,EAAMC,EAAOC,EAAUC,EAASC,GACvL,IAAMhD,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBoE,QAASiB,EACT/B,KAAM4B,EACNC,aAAcA,EACdC,aAAcA,EACdR,SAAUU,EACVR,QAASS,EACTW,QAASV,EACTvB,WAAYJ,EACZmB,KAAMS,EACNU,WAAYR,EACZlB,QAASmB,EACTtB,WAAYuB,EACZxC,MAAOyC,EACPnB,SAAUoB,EACVlB,QAASmB,EACTjD,OAAQ2C,EACRU,OAAQH,KAGZ,OAAOxI,MAAM,eAAgBwF,GAIxB,SAAeoD,IAAtB,+B,4CAAO,8BAAAC,EAAA,sEACkB7I,MAAM,cADxB,cACCE,EADD,gBAEmBA,EAASC,OAF5B,cAEC2I,EAFD,yBAGEA,GAHF,4C,sBAMA,SAAeC,IAAtB,+B,4CAAO,8BAAAF,EAAA,sEACkB7I,MAAM,oBADxB,cACCE,EADD,gBAEmBA,EAASC,OAF5B,cAEC6I,EAFD,yBAGEA,GAHF,4C,sBAMA,SAAeC,IAAtB,+B,4CAAO,8BAAAJ,EAAA,sEACkB7I,MAAM,sBADxB,cACCE,EADD,gBAEqBA,EAASC,OAF9B,cAEC+I,EAFD,yBAGEA,GAHF,4C,sBAMA,SAAeC,IAAtB,+B,4CAAO,8BAAAN,EAAA,sEACkB7I,MAAM,gBADxB,cACCE,EADD,gBAEqBA,EAASC,OAF9B,cAEC+I,EAFD,yBAGEA,GAHF,4C,kEAMA,WAA+BE,GAA/B,iBAAAP,EAAA,sEACkB7I,MAAM,uBAAyBoJ,GADjD,cACClJ,EADD,gBAEkBA,EAASC,OAF3B,cAECkJ,EAFD,yBAGEA,GAHF,4C,kEAMA,8BAAAR,EAAA,sEACkB7I,MAAM,kBADxB,cACCE,EADD,gBAEiBA,EAASC,OAF1B,cAECmJ,EAFD,yBAGEA,GAHF,4C,sBAwCA,SAASC,GAAY9B,EAAWnC,GACrC,IAAME,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnB4C,OAAQsC,EACR3B,OAAQR,KAIZ,OAAOtF,MAAM,eAAgBwF,GA2BxB,SAASgE,GAAYC,EAAQC,GAClC,IAAMlE,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnB4C,OAAQsE,EACRC,MAAOA,KAGX,OAAO1J,MAAM,cAAewF,GASvB,SAASmE,GAAWC,EAAQF,GACjC,IAAIG,EAASvH,KAAKC,UAAUqH,GAEtBpE,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBuH,OAAQD,EACRH,MAAOA,KAGX,OAAO1J,MAAM,aAAcwF,G,cCnOd,I,OAAA,IAA0B,qC,UCmCnCuE,GAAe,SAACC,GAAuC,IAAjCC,EAAgC,uDAArB,iBAC7BC,EAAOC,SAASC,cAAc,KAC9BC,EAAMC,IAAIC,gBAAgBP,GAEhCE,EAAKM,aAAa,OAAQH,GAC1BH,EAAKM,aAAa,WAAYP,GAC9BC,EAAK9G,MAAMqH,SAAW,WACtBP,EAAK9G,MAAMsH,WAAa,SAExBP,SAASxE,KAAKgF,YAAYT,GAE1BA,EAAKU,QAELT,SAASxE,KAAKkF,YAAYX,I,kCCtBxBY,GAAU,CACZ,YAAgB,EAChB,cAAkB,IAClB,aAAiB,cACjB,aAAgB,KAoBpB,IAilBeC,GAjlBC1K,IAAMC,MAAM,SAAAC,GAI1B,IAAMyK,EAAiB,CACrB,OAAUzK,EAAM0K,WAAWC,OAC3B,SAAa3K,EAAM0K,WAAWtG,UAE1BwG,EAAmB5K,EAAM6K,iBACzBC,EAAoB9K,EAAM+K,eAG1B9G,EAAcC,eAAeC,QAAQ,SACrC6G,EAAYjJ,KAAKsC,MAAMJ,GACvBG,EAAW4G,EAAU1G,SACrBS,EAASiG,EAAUlF,OAGzB,EAAsC7F,mBAAS,IAA/C,mBAAO0I,EAAP,KAAoBsC,EAApB,KACA,EAAkChL,mBAAS,IAA3C,mBAAOwI,EAAP,KAAkByC,EAAlB,KACA,EAA0BjL,mBAAS,IAAnC,mBAAOkL,EAAP,KAAcC,EAAd,KAECpK,qBAAU,WACT,IAAIqK,GAAU,EAqBd,OAnBA7C,IACG9I,MAAK,SAAA+I,GACD4C,GACDH,EAAazC,MAGnBC,IACGhJ,MAAK,SAAAiJ,GACD0C,GACDJ,EAAetC,MAGrBC,IACGlJ,MAAK,SAAAyL,GACDE,GACDD,EAASD,MAIR,kBAAME,GAAU,KACtB,IAID,MAAsCpL,oBAAS,GAA/C,mBAAOqL,EAAP,KAAoBC,EAApB,KACA,EAAkCtL,oBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KAIIiL,EAAW,IAAIC,KACnBD,EAASE,QAAQF,EAASG,UAAU,GAEpC,MAA8B1L,mBAASuL,GAAvC,mBAAOjE,EAAP,KAAgBqE,EAAhB,KACA,EAA8B3L,mBAAS,IAAIwL,MAA3C,mBAAOjE,EAAP,KAAgBqE,GAAhB,KACA,GAAoC5L,mBAAS,IAA7C,qBAAOoH,GAAP,MAAmByE,GAAnB,MACA,GAAkC7L,qBAAlC,qBAAOiH,GAAP,MAAkB6E,GAAlB,MACA,GAAsC9L,mBAAS,IAA/C,qBAAO+L,GAAP,MAAoBC,GAApB,MACA,GAA0ChM,mBAAS,IAAnD,qBAAOiM,GAAP,MAAsBC,GAAtB,MACA,GAA8BlM,mBAAS,IAAvC,qBAAOmM,GAAP,MAAgBC,GAAhB,MACA,GAA8BpM,mBAAS,IAAvC,qBAAOqM,GAAP,MAAgBC,GAAhB,MACA,GAAoCtM,mBAAS,IAA7C,qBAAOuM,GAAP,MAAmBC,GAAnB,MACA,GAA8BxM,mBAAS,IAAvC,qBAAOyM,GAAP,MAAgBC,GAAhB,MACA,GAAgC1M,mBAAS,IAAzC,qBAAO2M,GAAP,MAAiBC,GAAjB,MACA,GAAoC5M,mBAAS,IAA7C,qBAAO6M,GAAP,MAAmBC,GAAnB,MACA,GAAsC9M,mBAAS,IAA/C,qBAAO+M,GAAP,MAAoBC,GAApB,MACA,GAA8ChN,mBAAS,GAAvD,qBAAOiN,GAAP,MAAwBC,GAAxB,MAEA,GAA4BlN,mBAAS,MAArC,qBAAOgI,GAAP,MAAemF,GAAf,MAIA,GAAkCnN,mBAAS,IAA3C,qBAAOoN,GAAP,MAAkBC,GAAlB,MAGMC,GAAqB,WACvBhC,GAAe,GAEftK,YAAW,WAET,IAAIuM,EAAY,IAAI/B,KACpB+B,EAAU9B,QAAQ8B,EAAU7B,UAAU,IAEtCG,GAAc,IACdqB,GAAmB,GACnBvB,EAAW4B,GACX3B,GAAW,IAAIJ,MACfc,GAAW,IACXE,GAAc,IACdE,GAAW,IACXE,GAAY,IACZI,GAAe,IACfF,GAAc,IACdZ,GAAiB,IACjBF,GAAe,IAEfmB,GAAU,MAEVK,GAAa,CAAC,CAACC,KAAM,QACpB,MAcDC,GAAkB,WAIpB,IAAIC,EAAaC,IAAOtG,GAASuG,OAAO,uBACpCC,EAAaF,IAAOrG,GAASsG,OAAO,uBAEpCE,EAAW,GACXC,EAAY,GAKdA,OAD4B/M,IAA3B8K,GAAY5E,aACD0D,EAEAkB,GAIZgC,OADsB9M,IAArBgL,GAAcgC,KACJtD,EAEAsB,GAIb7D,IAAe3I,MAAK,SAAAyO,GAClBpC,GAAaoC,EAAK,GAAG,KAEO,IAAzBF,EAAU7G,aACXgH,MAAM,4BACkB,IAAhBJ,EAASE,KACjBE,MAAO,8BACoB,IAAnBhC,GAAQzB,OAChByD,MAAO,yBAGPnH,EAAWkH,EAAK,GAAG,IAAKF,EAAU9G,aAAc8G,EAAU7G,aAAcC,GAAY6F,GAAiBU,EAAYG,EAAYC,EAASE,KAAM9J,EAAUgI,GAAQzB,OAAQ2B,GAASE,GAAYE,GAASE,GAAUI,GAAaF,GAAY7E,IACvOe,GAAYmF,EAAK,GAAG,IAAKpJ,GACzBsJ,GAAaF,EAAK,GAAG,KAGE,KAApBG,GAAU,GAAGZ,MAEdY,GAAUC,SAAQ,SAAAC,IAhLhC,SAAiBL,EAAMM,GACrB,IAAMxJ,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBoE,QAASqI,EACT7J,OAAQuJ,KAGL1O,MAAM,YAAawF,GAwKZyJ,CAAQP,EAAK,GAAG,IAAKK,EAAEd,SAK3BH,MAIFtM,YAAW,WACTjB,EAAMsC,YACN,SAQF+L,GAAe,SAACM,GACpB,IAAIC,EAAcf,IAAOtG,GAASuG,OAAO,cAEzCR,GAAa,2BAAD,OAA4BqB,EAA5B,0BAAyDzH,GAAzD,4BAAsFG,GAAtF,6BAAqH6F,GAArH,uBAAmJd,GAAQhI,SAA3J,wBAAmLwK,IAajM,SAAyBC,GAEvB,GAAIC,UAAUC,WAAavN,OAAOwN,gBAE9B,OAAOF,UAAUC,UAAUE,UAAUJ,GAGrC,IAAIK,EAAWtF,SAASC,cAAc,YAStC,OARAqF,EAASC,MAAQN,EAEjBK,EAASrM,MAAMqH,SAAW,QAC1BgF,EAASrM,MAAMuM,KAAO,YACtBF,EAASrM,MAAMwM,IAAM,YACrBzF,SAASxE,KAAKgF,YAAY8E,GAC1BA,EAASI,QACTJ,EAASK,SACF,IAAIC,SAAQ,SAACC,EAAKC,GAErB9F,SAAS+F,YAAY,QAAUF,IAAQC,IACvCR,EAASU,YA5BjBC,CAFgB,gBAAYlB,EAAZ,wBAAuCtH,GAAvC,yBAAkE6F,GAAlE,mBAA4Fd,GAAQhI,SAApG,oBAAwHwK,IAGrIkB,OAAM,kBAAMC,QAAQC,IAAI,YAC3BzP,GAAa,IA+BjB,OAAkCN,mBAAS,CAAC,CAACyN,KAAM,MAAnD,qBAAOY,GAAP,MAAkBb,GAAlB,MAmBQwC,GAAiB,WACrBxC,GAAa,GAAD,mBAAKa,IAAL,CAAgB,CAAEZ,KAAM,QAItC,OACI,qCACA,cAACwC,EAAA,EAAD,CAA8BC,UAAU,SACtCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,sBAFJ,SAOA,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC5CpB,QAAU,WAlJXiJ,GAAe,GACfc,GAAW5B,GAEXxJ,YAAW,WACT2I,SAAS2G,eAAT,+BAAgDrD,KAAmB7C,UACnE,IAgJEoC,GAAcrI,IAEhB1B,UAAU,qBANV,SAQG,cAAC,KAAD,OAfiB,WAmBpB,eAAC8N,EAAA,EAAD,CAAOpQ,KAAMkL,EAAamF,OAAQlD,GAAoBmD,KAAK,KAA3D,UACA,cAACF,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,cAACH,EAAA,EAAMI,MAAP,gCAEF,eAACJ,EAAA,EAAMvN,KAAP,WAGE,eAAC4N,EAAA,EAAD,WACA,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,yBAAtB,UACA,2CACE,eAACJ,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAO1G,EAAUtB,aACjDiK,SAAY,SAAA5C,GAAC,OAAGvC,GAAelK,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADvD,UAEE,wBAAQA,MAAQpN,KAAKC,UAAU8I,GAA/B,SAAoDA,EAAkB3D,eAEtE,wBAAQgI,MAAOpN,KAAKC,UAAUuI,IAA9B,SAA2CA,GAAUpD,eAEnDsB,EAAU6I,KAAI,SAACC,EAAUC,GACvB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAM9B,cAACT,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,2BAAtB,UACA,6CACE,eAACJ,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAOxG,EAAY1C,WACnDmL,SAAY,SAAA5C,GAAC,OAAGrC,GAAiBpK,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADzD,UAEE,wBAAQA,MAAQpN,KAAKC,UAAU4I,GAA/B,SAAmDA,EAAiB3E,aAElE0C,EAAY2I,KAAI,SAACG,EAAYD,GAC3B,OAAGC,EAAWxL,aAAa2E,EAAiB3E,WACnC,wBAAoBkJ,MAAOpN,KAAKC,UAAUyP,GAA1C,SAAwDA,EAAWxL,YAAtDuL,GAEb,gBAOnB,cAACT,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,qBAAtB,UACE,sCACA,eAACJ,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAOhE,EAAM/G,SAC7CgN,SAAY,SAAA5C,GAAC,OAAGnC,GAAWtK,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADnD,UAEE,wBAAQA,MAAQpN,KAAKC,UAAUyI,GAA/B,SAAiDA,EAAerG,WAE9D+G,EAAMmG,KAAI,SAAC7J,EAAM+J,GACjB,OAAG/J,EAAKrD,WAAWqG,EAAerG,SACzB,wBAAoB+K,MAAOpN,KAAKC,UAAUyF,GAA1C,SAAkDA,EAAKrD,UAA1CoN,GACR,mBAOxB,eAACV,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,kBAAvC,UACE,0CACA,cAACJ,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,iBACZxC,MAAO9H,GACP+J,SAAY,SAAA5C,GAAC,OAAG1C,GAAc0C,EAAE6C,OAAOlC,QACvC5L,KAAK,OACLmN,KAAK,YAIX,cAACK,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,gBAAvC,UACE,wCACA,cAACJ,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,eACZxC,MAAOvC,GACPwE,SAAY,SAAA5C,GAAC,OAAG3B,GAAY2B,EAAE6C,OAAOlC,QACrC5L,KAAK,OACLmN,KAAK,eAOb,eAACG,EAAA,EAAKG,MAAN,CAAYG,GAAIL,IAAKpO,UAAU,OAAOuO,UAAU,gBAAgBpO,MAAO,CAAC+O,UAAW,GAAnF,UACQ,cAACb,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKiB,MAAN,qBAEF,cAACf,EAAA,EAAD,UACE,cAAC,IAAD,CACEgB,SAAUxK,EACV6J,SAAU,SAACY,GAAD,OAAUpG,EAAWoG,IAC/BC,WAAa,aACbC,iBAAkB,MAItB,cAACnB,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKiB,MAAN,2BAEF,cAACf,EAAA,EAAD,UACE,cAAC,IAAD,CACEgB,SAAUvK,EACV4J,SAAU,SAACY,GAAD,OAAUnG,GAAWmG,IAC/BC,WAAa,aACbC,iBAAkB,SAM1B,eAACrB,EAAA,EAAKG,MAAN,CAAYG,GAAIL,IAAKpO,UAAU,OAAOuO,UAAU,uBAAuBpO,MAAO,CAAC+O,UAAW,GAA1F,UACA,cAACb,EAAA,EAAD,CAAKc,GAAI,EAAT,SACM,cAAChB,EAAA,EAAKiB,MAAN,mBAEF,eAACf,EAAA,EAAD,CAAKc,GAAI,EAAT,UACE,cAAChB,EAAA,EAAKsB,MAAN,CACEzB,KAAK,KACL0B,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,yBACJuI,SAAY,SAAA5C,GAAC,OAAGrB,GAAmB,MAErC,cAAC0D,EAAA,EAAKsB,MAAN,CACEzB,KAAK,KACL0B,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,yBACJuI,SAAY,SAAA5C,GAAC,OAAGrB,GAAmB,MAErC,cAAC0D,EAAA,EAAKsB,MAAN,CACEzB,KAAK,KACL0B,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,yBACJuI,SAAY,SAAA5C,GAAC,OAAGrB,GAAmB,SAGzC,cAAC4D,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,gDAEF,cAACd,EAAA,EAAD,UACE,cAACF,EAAA,EAAKK,QAAN,CACErO,MAAO,CAACyP,QAAQ,UAChB5B,KAAK,KACLS,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO7C,GACP8E,SAAY,SAAA5C,GAAC,OAAGjC,GAAWiC,EAAE6C,OAAOlC,YAGxC,cAAC4B,EAAA,EAAD,CAAKc,GAAI,EAAT,SACF,cAAChB,EAAA,EAAKiB,MAAN,6BAEF,cAACf,EAAA,EAAD,UACM,cAACF,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAOzC,GACP0E,SAAY,SAAA5C,GAAC,OAAG7B,GAAW6B,EAAE6C,OAAOlC,QACpCuB,KAAK,YAKb,eAACG,EAAA,EAAKG,MAAN,CAAYG,GAAIL,IAAKpO,UAAU,OAAOuO,UAAU,kBAAkBpO,MAAO,CAAC+O,UAAW,GAArF,UACI,cAACb,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKiB,MAAN,2BAEF,cAACf,EAAA,EAAD,UACE,cAACF,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO3C,GACP4E,SAAY,SAAA5C,GAAC,OAAG/B,GAAc+B,EAAE6C,OAAOlC,QACvCuB,KAAK,SAGT,cAACK,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKiB,MAAN,0BAEF,cAACf,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAOnC,GACPoE,SAAY,SAAA5C,GAAC,OAAGvB,GAAeuB,EAAE6C,OAAOlC,QACxCuB,KAAK,SAGT,cAACK,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,cAAChB,EAAA,EAAKiB,MAAN,yBAEF,cAACf,EAAA,EAAD,UACE,cAACF,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAOrC,GACPsE,SAAY,SAAA5C,GAAC,OAAGzB,GAAcyB,EAAE6C,OAAOlC,QACvCuB,KAAK,eAMhB,gCACG,cAACG,EAAA,EAAKiB,MAAN,qBACHxD,GAAUgD,KAAI,SAACiB,EAAGC,GACnB,OACE,qBAAK9P,UAAU,MAAf,SACE,eAACmO,EAAA,EAAKG,MAAN,CAAYG,GAAIL,IAAKG,UAAU,WAAWpO,MAAO,CAAC+O,UAAW,GAA7D,UACI,cAACb,EAAA,EAAD,UACA,cAACF,EAAA,EAAKK,QAAN,CACIR,KAAK,KACLS,GAAG,WACHO,KAAM,EACNnO,KAAK,OACLH,KAAK,OACL+L,MAAOoD,EAAE7E,KACT0D,SAAU,SAAA5C,GAAC,OAvRD,SAACA,EAAGgD,GAC1B,MAAwBhD,EAAE6C,OAAlBjO,EAAR,EAAQA,KAAM+L,EAAd,EAAcA,MACRsD,EAAI,YAAOnE,IACjBmE,EAAKjB,GAAOpO,GAAQ+L,EACpB1B,GAAagF,GAmRcC,CAAkBlE,EAAGgE,QAGxC,cAACzB,EAAA,EAAD,CAAKc,GAAI,EAAT,SAC0B,IAArBvD,GAAUqE,QACT,cAACzC,EAAA,EAAD,CAAiCC,UAAU,SAC3CC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,qBAAZ,yBAFF,SAOE,cAACyH,EAAA,EAAD,CAAQI,KAAK,KAAKhO,UAAU,OAAOmB,QAAQ,YAAYvB,QAAS,kBA3R1D,SAAAkP,GACxB,IAAMiB,EAAI,YAAOnE,IACjBmE,EAAKG,OAAOpB,EAAO,GACnB/D,GAAagF,GAwR2EI,CAAkBL,IAAxF,SAA4F,cAAC,KAAD,OAP1E,gBAY1B,cAACzB,EAAA,EAAD,CAAKc,GAAI,EAAT,SACKvD,GAAUqE,OAAS,IAAMH,GACxB,cAACtC,EAAA,EAAD,CAA8BC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,sBAFF,SAOA,cAACyH,EAAA,EAAD,CAAQI,KAAK,KAAK7M,QAAQ,YAAYvB,QAAS2N,GAA/C,SAA+D,cAAC,KAAD,OAP3C,2BAmBlC,eAACO,EAAA,EAAM/L,OAAP,WAEE,cAACoM,EAAA,EAAKsB,MAAN,CACI5O,KAAK,WACL8O,MAAM,cACNxP,MAAO,CAACa,OAAO,EAAGoP,MAAM,KACxB1B,SAAY,SAAA5C,GAERpB,GADU,OAATnF,GACS,EAEA,SAKlB,cAACqI,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASiL,GAArC,mBAGA,cAAC+C,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAAS,WACjCqL,MADF,+BASJ,eAAC6C,EAAA,EAAD,CACEE,KAAK,KACLtQ,KAAME,EACNmQ,OAAQ,kBAAMlQ,GAAa,IAC3B,kBAAgB,gBAJlB,UAME,cAACiQ,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,eAACH,EAAA,EAAMI,MAAP,CAAa/H,GAAG,sBAAhB,kBACQ3B,GADR,gBAIF,eAACsJ,EAAA,EAAMvN,KAAP,yCAEE,uBACA,cAACqN,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAAS,WArYvCd,OAAOuR,KAAK1F,KAqY+C3K,UAAU,sBAAjE,SACA,cAAC,KAAD,kB,UCjbKsQ,GAvLGlT,IAAMC,MAAK,SAAAC,GAE3B,MAA4BC,mBAAS,GAArC,mBAAOgI,EAAP,KAAemF,EAAf,KAOA,EAA0CnN,oBAAS,GAAnD,mBAAOgT,EAAP,KAAsBC,EAAtB,KAMMC,EAAuB,WAC3BD,GAAiB,IAGnB,EAAwCjT,qBAAxC,mBAAOmT,EAAP,KAAqBC,EAArB,KACA,EAAsCpT,qBAAtC,mBAAOqT,EAAP,KAAoBC,EAApB,KA8DMC,GAAiB,EAYrB,OATEA,EAFCzR,KAAKC,UAAUhC,EAAM+R,UAAUY,OAAO,EAYrC,qCAEA,cAACzC,EAAA,EAAD,CAAgCC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,oBAAZ,2BAFJ,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC9CpB,QAAU,WA9Fb4Q,GAAiB,IAkGbxQ,UAAU,qBACV+Q,SAAUD,EANR,SAQF,cAAC,KAAD,OAfoB,aAqBxB,eAAChD,EAAA,EAAD,CAAOpQ,KAAM6S,EAAexC,OAAQ0C,EAApC,UACE,cAAC3C,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,cAACH,EAAA,EAAMI,MAAP,sCAEA,eAACJ,EAAA,EAAMvN,KAAP,WACA,cAAC4N,EAAA,EAAKiB,MAAN,wBACI,uBACA,cAACjB,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6E,EAAgB,MAElC,cAACxC,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6E,EAAgB,MAElC,cAACxC,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6E,EAAgB,MAElC,uBACA,cAACxC,EAAA,EAAKiB,MAAN,oCACA,cAAC,IAAD,CACEC,SAAUuB,EACVlC,SAAU,SAACY,GACTuB,EAAevB,IAEjBC,WAAa,aACbC,iBAAkB,IAGpB,cAACrB,EAAA,EAAKsB,MAAN,CACE5O,KAAK,WACL8O,MAAM,cACNxP,MAAO,CAACa,OAAO,GACf0N,SAAY,SAAA5C,GACRpB,EAAU,SAIpB,eAACoD,EAAA,EAAM/L,OAAP,WACE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAAS6Q,EAArC,oBAGA,cAAC7C,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAtJR,WACxB4Q,GAAiB,GAGjB,IAAMQ,EAAa,GAEjBC,OAAOC,KAAK5T,EAAM+R,UAAUxD,SAAQ,SAASsF,GAC3CH,EAAY9R,KAAKiS,GAcf5K,GAAW4K,EAbD,IAAT5L,EAaeA,EAEA,SAQtB,IAAI6L,EAAU,GACXR,IACDQ,EAASjG,IAAOyF,GAAaxF,OAAO,iCAMpB5M,IAAfkS,GAAsC,KAAVU,GJgE5B,SAAuBJ,EAAapM,EAAayM,GACtD,IAAIzK,EAASvH,KAAKC,UAAU0R,GAGtBzO,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBgS,MAAO1K,EACP2K,SAAU3M,EACVwM,QAASC,KAKNtU,MAAM,gBAAiBwF,GI9E1BiP,CAAaR,EAAaN,EAAcU,GAO1CT,IACAE,IACAnG,EAAU,GAEVnM,YAAW,WACTjB,EAAMsC,YACN,MAiGI,sC,iICrLJ6R,G,gKACF,WACE,MAAkCC,KAAKpU,MAA/BuS,EAAR,EAAQA,EAAG8B,EAAX,EAAWA,EAAWC,GAAtB,EAAcC,OAAd,EAAsBD,SAEtB,OACE,mBAAGE,UAAS,oBAAejC,EAAf,YAAoB8B,EAApB,KAAZ,SACE,sBAAM9B,EAAG,EAAG8B,EAAG,EAAGI,GAAI,EAAGC,WAAW,QAAQC,KAAK,OAAOH,UAAU,aAAlE,SACGF,EAAQnF,c,GAPYyF,iBAkDlBC,OA/Bf,WAEI,IAUIC,EAVJ,EAAgC7U,mBAAS,IAAzC,mBAAO8U,EAAP,KAAiBC,EAAjB,KACA,EAA8B/U,oBAAS,GAAvC,mBAAOgV,EAAP,KAAgBC,EAAhB,KAqBA,OApBAlU,qBAAU,WACNkU,GAAW,GATRzV,MAAM,wBACVC,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,UASHF,MAAK,SAAA8O,GACfwG,EAAYxG,GACZ0G,GAAW,QAEhB,IAICJ,GADS,IAAVG,EACgB,cAAC,KAAD,CAAUE,MAAM,UAAUpS,OAAQ,IAAKD,MAAO,IAAKsS,SAAS,YAE5D,eAACC,GAAA,EAAD,CAAUvS,MAAO,IAAKC,OAAQ,IAAKpC,KAAMoU,EAAzC,UACK,cAACO,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,GAAI0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MACzD,cAACC,GAAA,EAAD,CAAQtD,MAAO,CAAElD,MAAO,QAASyG,OAAQ,GAAI1L,SAAU,iBACvD,cAAC,KAAD,IACA,cAAC2L,GAAA,EAAD,CAAKL,QAAQ,WAAWb,KAAK,UAAUmB,WAAY,QAIvE,mCACChB,KC2KMiB,I,OA9MCjW,IAAMC,MAAM,SAAAC,GAIxB,MAAwBC,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAEA,EAAoBJ,qBAApB,mBAAO+V,EAAP,KAAWC,EAAX,KACA,EAAoBhW,qBAApB,mBAAOiW,EAAP,KAAWC,EAAX,KACA,EAAoBlW,qBAApB,mBAAOmW,EAAP,KAAWC,EAAX,KACA,EAAoBpW,qBAApB,mBAAOqW,EAAP,KAAWC,EAAX,KACA,EAAoBtW,qBAApB,mBAAOuW,EAAP,KAAWC,EAAX,KACA,EAAoBxW,qBAApB,mBAAOyW,EAAP,KAAWC,EAAX,KACA,EAAoB1W,qBAApB,mBAAO2W,EAAP,KAAWC,EAAX,KACA,EAAoB5W,qBAApB,mBAAO6W,EAAP,KAAWC,EAAX,KACA,EAAoB9W,qBAApB,mBAAO+W,EAAP,KAAWC,EAAX,KACA,EAAoBhX,qBAApB,mBAAOiX,EAAP,KAAWC,EAAX,KACA,EAAoBlX,qBAApB,oBAAOmX,GAAP,MAAWC,GAAX,MACA,GAAoBpX,qBAApB,qBAAOqX,GAAP,MAAWC,GAAX,MACA,GAAoBtX,qBAApB,qBAAOuX,GAAP,MAAWC,GAAX,MACA,GAAoBxX,qBAApB,qBAAOyX,GAAP,MAAWC,GAAX,MACA,GAAoB1X,qBAApB,qBAAO2X,GAAP,MAAWC,GAAX,MAEA,GAAkC5X,qBAAlC,qBAAO6X,GAAP,MAAkBC,GAAlB,MA0BMC,GAAa,CACf,CAACnP,GAAI,EAAG7B,KAAM,UAAWiR,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC3C,CAACtP,GAAI,EAAG7B,KAAM,SAAUiR,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC1C,CAACtP,GAAI,EAAG7B,KAAM,UAAWiR,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC3C,CAACtP,GAAI,EAAG7B,KAAM,QAASiR,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACzC,CAACtP,GAAI,EAAG7B,KAAM,OAAQiR,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAItCC,GAAgB,WAClB,IAAMC,EAAa,CAAC,EAAE,EAAE,GAGxBL,GAAWzJ,SAAQ,SAAA9G,GACf4Q,EAAW9J,SAAQ,SAAA+J,GNyGL,IAAC5Q,EAAQuM,GAARvM,EMxGDD,EAAKoB,GNwGIoL,EMxGAqE,ENyG1B7Y,MAAM,eAAiBiI,EAAS,IAAMuM,GAAUvU,MAAK,SAAAC,GACxD,OAAOA,EAASC,WMzGLF,MAAK,SAAA6Y,GAEW,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdrC,EAAMsC,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdnC,EAAMoC,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdjC,EAAMkC,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACd/B,EAAMgC,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACd7B,EAAM8B,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACd3B,EAAM4B,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdzB,EAAM0B,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdvB,EAAMwB,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdrB,EAAMsB,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdnB,EAAMoB,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdjB,GAAMkB,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdf,GAAMgB,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdb,GAAMc,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdX,GAAMY,EAAO,GAAG,KAEP,IAAV9Q,EAAKoB,IAAc,IAAJyP,GACdT,GAAMU,EAAO,GAAG,eAQ9B1X,GAAQ,WNyDTpB,MAAM,iBAAiBC,MAAK,SAAAC,GAC/B,OAAOA,EAASC,UMzDCF,MAAK,SAAA8Y,GAChBT,GAAaS,EAAE,GAAG,SAItBjG,GAAE,EACNvR,qBAAU,WACC,IAAJuR,KACC6F,KACAvX,KACA0R,IAAI,MAOZ,IAAM/O,GAAa,CACf,CAACqF,GAAI,EAAG7B,KAAM,UAAWiR,GAAIjC,EAAIkC,GAAIhC,EAAIiC,GAAI/B,EAAIqC,IAAK,CAACzC,EAAGE,EAAGE,IAC7D,CAACvN,GAAI,EAAG7B,KAAM,SAAUiR,GAAI3B,EAAI4B,GAAI1B,EAAI2B,GAAIzB,EAAI+B,IAAK,CAACnC,EAAGE,EAAGE,IAC5D,CAAC7N,GAAI,EAAG7B,KAAM,UAAWiR,GAAIrB,EAAIsB,GAAIpB,EAAIqB,GAAInB,EAAIyB,IAAK,CAAC7B,EAAGE,EAAGE,IAC7D,CAACnO,GAAI,EAAG7B,KAAM,QAASiR,GAAIf,EAAIgB,GAAId,GAAIe,GAAIb,GAAImB,IAAK,CAACvB,EAAGE,GAAGE,KAC3D,CAACzO,GAAI,EAAG7B,KAAM,OAAQiR,GAAIT,GAAIU,GAAIR,GAAIS,GAAIP,GAAIa,IAAK,CAACjB,GAAGE,GAAGE,MAY9D,OACI,qCAEA,cAAC1H,EAAA,EAAD,CAA8BC,UAAU,SACtCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,gCAFJ,SAOI,cAACyH,EAAA,EAAD,CAAShO,QAAU,WAvInBjC,GADM,IAAPD,GA0ICgY,KACAvX,MAEJgC,MAAO,CAACa,OAAO,OACbG,QAAS,YANP,SAQA,cAAC,KAAD,OAfgB,WAqBpB,qBAAKnB,UAAU,UAAf,SACA,eAACC,EAAA,EAAD,CAAOC,QAAS,kBAAMvC,GAAQ,IAAQD,KAAMA,EAAMyC,MAAO,CAACC,MAAM,QAASC,OAAQ,SAAjF,UACE,cAACJ,EAAA,EAAMK,OAAP,UACE,yBAAQN,UAAU,UAAlB,iCAAuDoV,QAGzD,eAACnV,EAAA,EAAMM,KAAP,WACA,qBAAKP,UAAU,eAAf,SACI,cAAC,IAAD,CACEQ,WAAW,KACXC,QAnJI,CACZ,CAACC,KAAM,OAAQC,OAAQ,OAAQqV,SAAS,IAAKnV,KAAM,UACnD,CAACH,KAAM,KAAMC,OAAQ,IAAKqV,SAAS,GAAInV,KAAM,UAC7C,CAACH,KAAM,KAAMC,OAAQ,IAAKqV,SAAS,GAAInV,KAAM,UAC7C,CAACH,KAAM,KAAMC,OAAQ,IAAKqV,SAAS,GAAInV,KAAM,UAC7C,CAACH,KAAM,MAAOC,OAAQ,MAAOqV,SAAS,GAAInV,KAAM,WA+IxCC,WAAYA,GACZX,MA9IM,CAAEY,UAAU,IAAKC,OAAO,GA+I9BC,MAvJE,eAwJFgV,gBA1JW,CAAEvV,KAAM,MAAOwV,KAAM,OA6JpC,qBAAKlW,UAAU,iBAAf,SACI,cAAC,GAAD,qBCrNT,SAASmW,GAAgBpR,EAAMwM,EAAU6E,EAAeC,EAAgBtH,EAAYxJ,EAAQ+Q,GAM/F,IACIC,EAAa,EAQbC,EAASF,EACC,KAAXA,IACDE,EAAS,mBAqBX,MALmB,CACjBvY,KAdsB,SAAC+J,EAAYyO,EAAgBC,EAAcrO,EAAgBlF,EAAgBwT,EAAYH,GAC3G,OAAOzZ,MAAM,eAAiBiL,EAAa,IAAMyO,EAAiB,IAAMC,EAAe,IAAMrO,EAAiB,IAAMlF,EAAiB,IAAMwT,EAAa,IAAMH,GAAQxZ,MAAK,SAAAC,GAEzK,OAAOA,EAASC,OAAOF,MAAK,SAAAiB,GAE1B,OADAsY,EAAatY,EAAKgS,OACX,CAAEhS,OAAME,MAAOF,EAAKgS,cAIpB2G,CApBI7R,EACIwM,EACF6E,EACEC,EACAtH,EACJxJ,EAegGiR,GAMjHrY,MAAOoY,G,4CC6Bb,IAAMM,GAAe,SAAC,GAAW,IAAV5Y,EAAS,EAATA,KAGrB,MAAmB,MAAfA,EAAK6Y,MACA,2BACe,IAAd7Y,EAAKyH,OACN,wBAEF,qBAIHqR,GAAmB,SAAC,GAExB,IAAmB,IAFe,EAAT9Y,KAEjB+Y,SACN,MAAO,iCAi0CIC,OAzzCf,WAEE/P,SAASgQ,MAAQ,sBAGjB,IAAM3V,EAAcC,eAAeC,QAAQ,SACrC6G,EAAYjJ,KAAKsC,MAAMJ,GAEvBc,EAASiG,EAAUlF,OAEnB+T,EAAe,CACnB,YAAc,EACd,cAAgB,EAChB,aAAe,gBACf,aAAe,GAEXC,EAAiB,CACrB,KAAQ,EACR,WAAc,mBAEVC,EAAW,CACf,SAAY,gBACZ,OAAU,GAENtP,EAAiB,CACrB,OAAUO,EAAUlF,OACpB,SAAakF,EAAU1G,UAGzB,EAAoCrE,mBAAS,IAA7C,mBAAOuD,EAAP,KAAmBwW,EAAnB,KACA,EAA4C/Z,mBAAS,IAArD,mBAAOga,EAAP,KAAuBC,EAAvB,KACA,EAAoCja,qBAApC,mBAAOgZ,EAAP,KAAmBkB,EAAnB,KAEA,EAAoCla,mBAASwK,GAA7C,mBAAOC,EAAP,KAAmB0P,EAAnB,KACA,EAA4Cna,mBAAS,GAArD,mBAAOkZ,EAAP,KAAuBkB,GAAvB,KACA,GAA4Cpa,mBAAS4Z,GAArD,qBAAO9O,GAAP,MAAuBuP,GAAvB,MACA,GAAgDra,mBAAS6Z,GAAzD,qBAAOjP,GAAP,MAAyB0P,GAAzB,MACA,GAA0Cta,oBAAS,GAAnD,qBAAO6Y,GAAP,MAAsB0B,GAAtB,MACA,GAAoCva,oBAAS,GAA7C,qBAAOoZ,GAAP,MAAmBoB,GAAnB,MACA,GAAwCxa,mBAAS,IAAjD,qBAAOya,GAAP,MAAqBC,GAArB,MAKMC,GAAgB,WACpBZ,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,MAC9Jma,GAAY,KAId9Z,qBAAU,WACR,IAAIqK,GAAU,EA4Cd,OA1CA2O,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,MAE9J6H,IACG9I,MAAK,SAAA+I,GACD4C,GACDH,GAAazC,MAGnBC,IACGhJ,MAAK,SAAAiJ,GACD0C,GACDJ,GAAetC,MAGrBC,IACGlJ,MAAK,SAAAyL,GACDE,GACDD,GAASD,MAGO,IAAjBgO,GACDvP,SAAS2G,eAAe,kBAAkBlG,QAExB,IAAjB8O,GACDvP,SAAS2G,eAAe,kBAAkBlG,QAExB,IAAjB8O,GACDvP,SAAS2G,eAAe,kBAAkBlG,QAevC,kBAAMgB,GAAU,KACtB,CAACX,EAAYyO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,KAEhH,OAA8Bza,mBAAS,MAAvC,qBAAO8a,GAAP,MAAgBC,GAAhB,MACA,GAAoC/a,mBAAS,MAA7C,qBAAOgb,GAAP,MAAmBC,GAAnB,MAEA,GAAkCjb,mBAAS,IAA3C,qBAAOkb,GAAP,MAAkBC,GAAlB,MACA,GAA4Cnb,qBAA5C,qBAAOob,GAAP,MAAuBC,GAAvB,MAUA,GAAsCrb,mBAAS,IAA/C,qBAAO0I,GAAP,MAAoBsC,GAApB,MACA,GAAkChL,mBAAS,IAA3C,qBAAOwI,GAAP,MAAkByC,GAAlB,MACA,GAA0BjL,mBAAS,IAAnC,qBAAOkL,GAAP,MAAcC,GAAd,MAEI,GAAsBnL,qBAA1B,qBAAK2E,GAAL,MAAa2W,GAAb,MAEA,GAA8Btb,mBAAS,IAAvC,qBAAOkB,GAAP,MAAgBqa,GAAhB,MAEA,GAA0Cvb,mBAAS,IAAIwL,MAAvD,qBAAOgQ,GAAP,MAAsBC,GAAtB,MACA,GAA0Czb,mBAAS,IAAIwL,MAAvD,qBAAOkQ,GAAP,MAAsBC,GAAtB,MAEA,GAAwC3b,mBAAS,IAAjD,qBAAO4b,GAAP,MAAqBC,GAArB,MAEA,GAAwC7b,mBAAS,IAAjD,qBAAO8b,GAAP,MAAqBC,GAArB,MACA,GAA4C/b,mBAAS,IAArD,qBAAOgc,GAAP,MAAuBC,GAAvB,MACA,GAAgCjc,mBAAS,IAAzC,qBAAOkc,GAAP,MAAiBC,GAAjB,MACA,GAA8Cnc,mBAAS,IAAvD,qBAAOoc,GAAP,MAAwBC,GAAxB,MACA,GAAkCrc,mBAAS,IAA3C,qBAAOsc,GAAP,MAAkBC,GAAlB,MAGA,GAAwCvc,mBAAS,KAAjD,qBAAOwc,GAAP,MAAqBC,GAArB,MAIA,GAAwBzc,oBAAS,GAAjC,qBAAOG,GAAP,MAAaC,GAAb,MACA,GAA0CJ,oBAAS,GAAnD,qBAAO0c,GAAP,MAAsBC,GAAtB,MAEA,GAAkC3c,mBAAS,IAA3C,qBAAOoN,GAAP,MAAkBC,GAAlB,MAEMuP,GAAc,WAClBxc,IAAQ,GACRya,GAAY,IACZQ,KACAwB,MAKIzb,GAAmBC,uBAAY,SAACC,GAEpC,IR7BsB2H,EQ6BlBtE,EAASrD,EAASZ,KAAK2E,KAE3B4U,GR/BsBhR,EQ+BK3H,EAASZ,KAAK2E,KR9BpC7F,MAAM,aAAeyJ,GAAQxJ,MAAK,SAAAC,GACvC,OAAOA,EAASC,YAjGb,SAAP,kCQgIImd,CAAgBnY,GAAQlF,MAAK,SAAAyO,GAC3B2N,GAAgB3N,EAAK,IAGrBuN,GAAiB,IAAIjQ,KAAK0C,EAAK,GAAGrH,UAClC8U,GAAiB,IAAInQ,KAAK0C,EAAK,GAAGpH,YAClC,IAAI,IAAIyL,EAAE,EAAGA,EAAE7J,GAAYgK,OAAQH,IAC9B7J,GAAY6J,GAAGtE,OAAOC,EAAK,GAAGlI,YAC/BqW,GAAmB3T,GAAY6J,IAGnC,IAAI,IAAIwK,EAAE,EAAGA,EAAE7R,GAAMwH,OAAQqK,IACxB7O,EAAK,GAAG8O,WAAW9R,GAAM6R,GAAGrS,QAC7B6R,GAAarR,GAAM6R,IAKvBN,GAAgBvO,EAAK,GAAGqL,OAIxB,IAAI1F,EAAS,IAAIrI,KAAK0C,EAAK,GAAGrH,SAC1BoW,EAAWrP,IAAOiG,GAAShG,OAAO,cAEtCR,GAAa,2BAAD,OAA4Ba,EAAK,GAAGhI,SAApC,4BAAgEgI,EAAK,GAAGpI,aAAxE,0BAAsGoI,EAAK,GAAGhI,SAA9G,4BAA0IgI,EAAK,GAAG/H,QAAlJ,6BAA8K+H,EAAK,GAAGvH,SAAtL,wBAA8MsW,OAlCpM7c,IAAQ,GA2ChCY,YAAW,WACP2I,SAAS2G,eAAe,cAAcjB,UAMxC,IAEFiM,GAAU3W,GAIVD,EAAWC,GACRlF,MAAK,SAAAyB,GACJqa,GAAWra,QAGd,CAACwH,GAAawC,KAEXlJ,GAAcX,uBAAY,SAACC,GAC/B,IAAQW,EAAkBX,EAAlBW,cAERiY,EAAc5Y,EAAS4b,gBAAgBxK,QAGvCpR,EAASW,cAAgB,SAACC,GACxBd,GAAiBE,GACbW,GACFA,EAAcC,MAMjB,CAACd,KAGE+b,GAAW,YAGfP,UAKuB3b,IAApBib,GAASxR,QACVlF,EAAWoW,GAAcE,GAAa5U,aAAc4U,GAAa3U,aAAc6U,GAAe/N,KAAMqO,GAAU5R,SAG9GlF,EAAWoW,GAAcE,GAAa5U,aAAc4U,GAAa3U,aAAc6U,GAAe/N,KAAMiO,GAASxR,QAS7G9F,EAFkB,QAAU0X,GAAUnY,SAAW,OAAS+X,GAAS/X,SAE9CQ,GAAQG,IAmB/B,GAdiB,KAAdoW,KACDtW,EAAQsW,GAAWvW,GAAQG,EAAQsW,IACnCD,GAAa,KAEfY,GAAgB,IAChBI,GAAY,IAEZnb,YAAW,WACT+Y,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,QAC9J,UAKiBO,IAAhBmc,GAA2B,CAC5B,IAAM3J,EAAa,GAEnBC,OAAOC,KAAKyJ,IAAe9O,SAAQ,SAASsF,GAC1CH,EAAY9R,KAAKiS,IAEgB,IAA9BwJ,GAAcxJ,GAAK6F,SACpBtQ,GAAUyK,EAAK,GAIfzK,GAAUyK,EAAK,MAQE,KAApBvF,GAAU,GAAGZ,OAEdY,GAAUC,SAAQ,SAAAC,IAzUxB,SAAiBL,EAAMM,GACrB,IAAMxJ,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBoE,QAASqI,EACT7J,OAAQuJ,KAGL1O,MAAM,YAAawF,GAiUpByJ,CAAQmN,GAAa1V,SAAUqI,EAAEd,SAGnCD,GAAa,CAAC,CAACC,KAAM,QAQzB,GAA8BzN,mBAAS,IAAvC,qBAAO8I,GAAP,MAAgBuU,GAAhB,MACA,GAA0Crd,mBAAS,IAAnD,qBAAOsd,GAAP,MAAsBC,GAAtB,MACA,GAA4Cvd,qBAA5C,qBAAOwd,GAAP,MAAuBC,GAAvB,MAqBA,GAAkCzd,mBAAS,GAA3C,qBAAO0d,GAAP,MAAkBC,GAAlB,MAEMC,GAAuB,WAC3BjB,IAAiB,GAEjBc,GAAkB,GAClBF,GAAiB,IACjBI,GAAa,IAETE,GAAsB,WR9LvB,IAAuB5U,KQ+LbtE,GR9LRnF,MAAM,iBAAmByJ,GAAQxJ,MAAK,SAAAC,GAC3C,OAAOA,EAASC,WQ8LbF,MAAK,SAAA+P,GAEJmO,GAAanO,EAAI,GAAGsO,WACpBnB,IAAiB,MRhTlB,WAAP,+BQmTIoB,GACGte,MAAK,SAAAqJ,GACJuU,GAAWvU,OAMjB,GAAgC9I,mBAAS,IAAzC,qBAAO8R,GAAP,MAAiB+I,GAAjB,MAEMmD,GAAoB3c,uBAAY,YAAmB,IAAhByQ,EAAe,EAAfA,UACzB,IAAXA,GACD+I,GAAY/I,KAMb,IAIH,GAA0C9R,qBAA1C,qBAAOod,GAAP,MAAsBP,GAAtB,MAEMoB,GAAwB5c,uBAAY,YAAmB,IAAhByQ,EAAe,EAAfA,UAE7B,IAAXA,GACD+K,GAAiB/K,KAMlB,IAWG5O,GAAU,CACd,CAACC,KAAK,OAAQC,OAAO,KAAME,KAAM,SAAUD,YAAa,EAAGoV,SAAS,IACpE,CAACtV,KAAK,WAAYC,OAAO,WAAYC,YAAa,EAAGoV,SAAU,IAAKyF,SAAU,KAC9E,CAAC/a,KAAK,UAAWC,OAAO,UAAWC,YAAa,EAAG6a,SAAU,KAC7D,CAAC/a,KAAK,OAAQC,OAAO,aAAcC,YAAa,EAAGoV,SAAU,KAC7D,CAACtV,KAAK,cAAeC,OAAO,QAASC,YAAa,EAAGoV,SAAU,KAC/D,CAACtV,KAAK,aAAcC,OAAO,QAASC,YAAa,EAAGoV,SAAU,KAC9D,CAACtV,KAAK,eAAgBC,OAAO,eAAgBC,YAAa,GAC1D,CAACF,KAAK,YAAaC,OAAO,YAAaC,YAAa,EAAGoV,SAAU,IAC/D0F,KAAM,SAAC9V,EAAG+V,GAIR,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGlC,CAACjb,KAAK,UAAWC,OAAO,UAAWC,YAAa,EAAGoV,SAAU,IAC3D0F,KAAM,SAAC9V,EAAG+V,GAIR,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGlC,CAACjb,KAAK,UAAWC,OAAO,WAAYC,YAAa,EAAGoV,SAAU,IAC5D0F,KAAM,SAAC9V,EAAG+V,GAIR,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGlC,CAACjb,KAAK,OAAQC,OAAO,WAAYE,KAAM,SAAUD,YAAa,EAAGoV,SAAU,KAC3E,CAACtV,KAAK,UAAWC,OAAO,UAAWE,KAAM,SAAUD,YAAa,GAChE,CAACF,KAAK,IAAKC,OAAO,IAAKE,KAAM,SAAUD,YAAa,EAAGoV,SAAU,IACjE,CAACtV,KAAK,mBAAoBC,OAAO,OAAQC,YAAa,GACtD,CAACF,KAAK,aAAcC,OAAO,QAASC,YAAa,IAqB7CiH,GAAU,CACd,YAAgB,EAChB,cAAkB,IAClB,aAAiB,cACjB,aAAgB,KAkBlB,GAAoCtK,oBAAS,GAA7C,qBAAOqe,GAAP,MAAmBC,GAAnB,MACMC,GAAoB,kBAAMD,IAAc,IA4C9C,GAAkCte,mBAAS,CAAC,CAACyN,KAAM,MAAnD,qBAAOY,GAAP,MAAkBb,GAAlB,MAmBQwC,GAAiB,WACrBxC,GAAa,GAAD,mBAAKa,IAAL,CAAgB,CAAEZ,KAAM,QAIxC,OACE,qCACA,qBAAIhL,UAAU,sBAAd,oBAA4CuW,KAC5C,sBAAKvW,UAAU,aAAf,UACE,sBAAKA,UAAU,oBAAf,UAEA,cAAC,GAAD,CAASgI,WAAYA,EAAaG,iBAAkBA,GAAkBE,eAAgBA,GAAgBzI,QAASsY,KAE/G,cAAC,GAAD,CAAW7I,SAAUA,GAAUzP,QAASsY,KAExC,cAAC1K,EAAA,EAAD,CAAmCC,UAAU,SAC3CC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,gBAAZ,2BAFJ,SAOK,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC7CpB,QAAU,WACPgY,GAAkBT,GAClBO,EAAcL,GAEdQ,GAAoBT,GACpBlQ,SAAS2G,eAAe,sBAAsBlG,SAN/C,SASD,cAAC,KAAD,OAhBgB,gBAoBpB,cAAC6F,EAAA,EAAD,CAA8BC,UAAU,SAChCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,qBAFV,SAOQ,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC3CpB,QAAS,WACP0X,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,OAFhK,SAKE,cAAC,KAAD,OAZU,cAiBnB,cAACkQ,EAAA,EAAKK,QAAN,CAAe/B,MAAOuL,GAAc7X,MAAO,CAACC,MAAM,IAAKY,OAAQ,OAAQiO,YAAY,YAC1EP,SAAY,SAAA5C,GACVmM,GAAgBnM,EAAE6C,OAAOlC,UAK7B,eAAC0B,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAU+I,IAAiBlI,MAAO,CAACC,MAAM,IAAKY,OAAQ,OAC1F0N,SAAY,SAAA5C,GACV8L,GAAkBvY,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAF1C,UAKA,wBAAQA,MAAOpN,KAAKC,UAAU6X,GAA9B,SAA8CA,EAAa1S,eAC3D,wBAAQgI,MAAOpN,KAAKC,UAAUuI,IAA9B,SAA2CA,GAAUpD,eAEnDsB,GAAU6I,KAAI,SAACC,EAAUC,GACvB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,SAKhC,eAACX,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAU0I,GAAc7H,MAAO,CAACC,MAAM,IAAKY,OAAQ,OAC/E0N,SAAY,SAAA5C,GAGV4L,EAAcrY,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAJ9C,UAMQ,wBAAQA,MAAQpN,KAAKC,UAAUyI,GAA/B,SAAiDA,EAAerG,WAE9D+G,GAAMmG,KAAI,SAAC7J,EAAM+J,GACf,OAAG/J,EAAKrD,WAAWqG,EAAerG,SACzB,wBAAoB+K,MAAOpN,KAAKC,UAAUyF,GAA1C,SAAkDA,EAAKrD,UAA1CoN,GAEV,QAGhB,wBAAQrC,MAAOpN,KAAKC,UAAU+X,GAA9B,0BAGN,eAAClJ,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAU6I,IAAmBhI,MAAO,CAACC,MAAM,IAAKY,OAAQ,OAClF0N,SAAY,SAAA5C,GAAC,OAAG+L,GAAoBxY,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADpE,UAEU,wBAAQA,MAAOpN,KAAKC,UAAU8X,GAA9B,SAAgDA,EAAe7T,aAE7D0C,GAAY2I,KAAI,SAACG,EAAYD,GAC3B,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUyP,GAA1C,SAAwDA,EAAWxL,YAAtDuL,SAKlC,sBAAK9O,UAAU,kBAAkBG,MAAO,CAACa,OAAQ,OAAjD,UACA,cAACmN,EAAA,EAAKsB,MAAN,CACMC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6L,GAAkB,MAEpC,cAACxJ,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6L,GAAkB,MAEpC,cAACxJ,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG6L,GAAkB,MAEpC,cAACxJ,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,MACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,qBACJuI,SAAY,SAAA5C,GAAC,OAAG6L,GAAkB,SAI1C,cAACxJ,EAAA,EAAKsB,MAAN,CACQ5O,KAAK,WACL8O,MAAM,SACNjB,SAAY,SAAA5C,GAERgM,IADkB,IAAhB1B,KAMNjW,MAAO,CAACa,OAAQ,SAGxB,cAACmN,EAAA,EAAKsB,MAAN,CACQ5O,KAAK,WACL8O,MAAM,cACNjB,SAAY,SAAA5C,GAERiM,IADe,IAAbpB,KAONxW,MAAO,CAACa,OAAQ,SAExB,sBAAKhB,UAAU,qBAAf,UAEA,cAAC,GAAD,IAEA,cAACwN,EAAA,EAAD,CAAgCC,UAAU,SAClCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,gBAAZ,6BAFV,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAahB,MAAO,CAACa,OAAO,OAC3CpB,QAAU,YN7wBM,SAACyY,GAMtBA,EAAQ0D,QAAQ9d,KAAK2Q,KAAI,SAAC3Q,GAIxB,OAHAA,EAAKyF,QAAUzF,EAAKyF,QAAQsY,WAAWC,QAAQ,IAAI,IACnDhe,EAAK,gBAAkBA,EAAK,gBAAgB+d,WAAWC,QAAQ,IAAI,IACnEhe,EAAKyF,QAAUzF,EAAKyF,QAAQuY,QAAQ,iBAAkB,IAC/C,QAOT,IACMC,EAAK,CAAEC,OAAQ,CAAE,KADZC,SAAWC,cAAchE,EAAQ0D,QAAQ9d,OACfqe,WAAY,CAAC,SAC5CC,EAAcH,SAAWF,EAAI,CAAEM,SAAU,OAAQ3b,KAAM,UACvDkG,EAAO,IAAI0V,KAAK,CAACF,GAAc,CAAC1b,KAjBrB,oFAoBjBiG,GAAaC,GMwvBL2V,CADiBrE,KAFrB,SAOA,cAAC,KAAD,OAdkB,aAkBpB,cAAC7K,EAAA,EAAD,CAAgCC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,cAAZ,2BAFJ,SAOK,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC7CpB,QAAU,YNnvBZ,SAAoB+c,EAAU9N,GACnC,IAAI+N,EAAM,IAAIC,WAAM,YAAa,MAC7BC,EAAc,GACdC,EAAc,GACdC,EAAU,GAGVC,EAAW,GAEbA,EAD0B,IAAzBpO,EAASsJ,cACA,CAAC,CACTwE,EAASZ,QAAQ9d,KAAK,GAAG2E,KACzB+Z,EAASZ,QAAQ9d,KAAK,GAAGif,SACzBP,EAASZ,QAAQ9d,KAAK,GAAGyF,QACzBiZ,EAASZ,QAAQ9d,KAAK,GAAG0F,KACzBgZ,EAASZ,QAAQ9d,KAAK,GAAG4F,YACzB8Y,EAASZ,QAAQ9d,KAAK,GAAGoG,UACzBsY,EAASZ,QAAQ9d,KAAK,GAAG8F,QACzB4Y,EAASZ,QAAQ9d,KAAK,GAAG,gBACzB0e,EAASZ,QAAQ9d,KAAK,GAAGkf,QACzBR,EAASZ,QAAQ9d,KAAK,GAAGmG,QACzBuY,EAASZ,QAAQ9d,KAAK,GAAGkG,QACzBwY,EAASZ,QAAQ9d,KAAK,GAAGiG,SACzByY,EAASZ,QAAQ9d,KAAK,GAAGmf,iBACzBT,EAASZ,QAAQ9d,KAAK,GAAGof,aAGjB,CAAC,CACTV,EAASZ,QAAQ9d,KAAK,GAAG2E,KACzB+Z,EAASZ,QAAQ9d,KAAK,GAAGyF,QACzBiZ,EAASZ,QAAQ9d,KAAK,GAAG0F,KACzBgZ,EAASZ,QAAQ9d,KAAK,GAAG4F,YACzB8Y,EAASZ,QAAQ9d,KAAK,GAAGoG,UACzBsY,EAASZ,QAAQ9d,KAAK,GAAG8F,QACzB4Y,EAASZ,QAAQ9d,KAAK,GAAG,gBACzB0e,EAASZ,QAAQ9d,KAAK,GAAGkf,QACzBR,EAASZ,QAAQ9d,KAAK,GAAGmG,QACzBuY,EAASZ,QAAQ9d,KAAK,GAAGkG,QACzBwY,EAASZ,QAAQ9d,KAAK,GAAGiG,SACzByY,EAASZ,QAAQ9d,KAAK,GAAGmf,iBACzBT,EAASZ,QAAQ9d,KAAK,GAAGof,aAIO,MAAjCV,EAASZ,QAAQ9d,KAAK,GAAG6Y,OAC1BgG,EAAY5d,KAAK,IAGkB,IAAlCyd,EAASZ,QAAQ9d,KAAK,GAAGyH,QAC1BqX,EAAY7d,KAAK,GAGa,IAA7Byd,EAASZ,QAAQ9d,KAAK,GAAGqf,GAC1BN,EAAQ9d,KAAK,GAIf,IADA,IAAIqe,EAAU,GACNzN,EAAE,EAAGA,EAAE6M,EAASZ,QAAQ9d,KAAKgS,OAAQH,IAEzCyN,EAD0B,IAAzB1O,EAASsJ,cACA,CACRwE,EAASZ,QAAQ9d,KAAK6R,GAAGlN,KACzB+Z,EAASZ,QAAQ9d,KAAK6R,GAAGoN,SACzBP,EAASZ,QAAQ9d,KAAK6R,GAAGpM,QACzBiZ,EAASZ,QAAQ9d,KAAK6R,GAAGnM,KACzBgZ,EAASZ,QAAQ9d,KAAK6R,GAAGjM,YACzB8Y,EAASZ,QAAQ9d,KAAK6R,GAAGzL,UACzBsY,EAASZ,QAAQ9d,KAAK6R,GAAG/L,QACzB4Y,EAASZ,QAAQ9d,KAAK6R,GAAG,gBACzB6M,EAASZ,QAAQ9d,KAAK6R,GAAGqN,QACzBR,EAASZ,QAAQ9d,KAAK6R,GAAG1L,QACzBuY,EAASZ,QAAQ9d,KAAK6R,GAAG3L,QACzBwY,EAASZ,QAAQ9d,KAAK6R,GAAG5L,SACzByY,EAASZ,QAAQ9d,KAAK6R,GAAGsN,iBACzBT,EAASZ,QAAQ9d,KAAK6R,GAAGuN,YAGjB,CACRV,EAASZ,QAAQ9d,KAAK6R,GAAGlN,KACzB+Z,EAASZ,QAAQ9d,KAAK6R,GAAGpM,QACzBiZ,EAASZ,QAAQ9d,KAAK6R,GAAGnM,KACzBgZ,EAASZ,QAAQ9d,KAAK6R,GAAGjM,YACzB8Y,EAASZ,QAAQ9d,KAAK6R,GAAGzL,UACzBsY,EAASZ,QAAQ9d,KAAK6R,GAAG/L,QACzB4Y,EAASZ,QAAQ9d,KAAK6R,GAAG,gBACzB6M,EAASZ,QAAQ9d,KAAK6R,GAAGqN,QACzBR,EAASZ,QAAQ9d,KAAK6R,GAAG1L,QACzBuY,EAASZ,QAAQ9d,KAAK6R,GAAG3L,QACzBwY,EAASZ,QAAQ9d,KAAK6R,GAAG5L,SACzByY,EAASZ,QAAQ9d,KAAK6R,GAAGsN,iBACzBT,EAASZ,QAAQ9d,KAAK6R,GAAGuN,YAMO,MAAjCV,EAASZ,QAAQ9d,KAAK6R,GAAGgH,OAC1BgG,EAAY5d,KAAK4Q,IAGkB,IAAlC6M,EAASZ,QAAQ9d,KAAK6R,GAAGpK,QAC1BqX,EAAY7d,KAAK4Q,GAGa,IAA7B6M,EAASZ,QAAQ9d,KAAK6R,GAAGwN,GAC1BN,EAAQ9d,KAAK4Q,GAGfmN,EAAS/d,KAAKqe,GAIhB,IAAIC,EAAarS,IAAO,IAAIpC,MAAQqC,OAAO,gBAEvCqS,EAAa5O,EAASpK,aAAe,mBAAqB+Y,EAE1D7c,EAAO,GAETA,EAD0B,IAAzBkO,EAASsJ,cACF,CAAC,OAAQ,WAAY,UAAW,OAAQ,UAAW,YAAa,YAAa,SAAU,UAAW,WAAY,UAAW,IAAK,OAAQ,SAEtI,CAAC,OAAQ,UAAW,OAAQ,UAAW,YAAa,YAAa,SAAU,UAAW,WAAY,IAAK,OAAQ,UAAW,SAGpIyE,EAAIc,UAAU,CACZC,OAAQ,CAAEC,SAAU,GACpB3c,MAAO,OACP4c,WAAY,CAACC,UAAW,CAAC,GAAI,GAAI,KACjCC,KAAM,CAACpd,GACP+B,KAAMua,EACNe,aAAc,SAAS/f,GAErB,IAAK,IAAI6R,EAAE,EAAGA,EAAEgN,EAAY7M,OAAQH,IAC/B7R,EAAKggB,IAAInP,QAAQgO,EAAYhN,KAC9B7R,EAAKigB,KAAKP,OAAOG,UAAW,CAAC,GAAI,IAAK,MAG1C,IAAK,IAAIhO,EAAE,EAAGA,EAAEiN,EAAY9M,OAAQH,IAC/B7R,EAAKggB,IAAInP,QAAQiO,EAAYjN,KAC9B7R,EAAKigB,KAAKP,OAAOQ,UAAW,QAGhC,IAAK,IAAIrO,EAAE,EAAGA,EAAEkN,EAAQ/M,OAAQH,IAC3B7R,EAAKggB,IAAInP,QAAQkO,EAAQlN,IAAsB,IAAhB7R,EAAKigB,KAAKE,MAE1CngB,EAAKigB,KAAKP,OAAOG,UAAW,CAAC,IAAK,IAAK,OAI7CO,YAAa,SAAUpgB,GAErB2e,EAAI0B,YAAY,IAChB1B,EAAI2B,aAAa,IACbC,IACF5B,EAAI6B,SAASD,GAAS,MAAO,GAAI,GAAI,KAAM,GAAIA,GAAS,OAAQ,GAElE5B,EAAI8B,KAAKjB,EAAYxf,EAAK0gB,SAAS3d,OAAO0L,KAAO,GAAI,IAErDkQ,EAAI0B,YAAY,IAIlBtd,OAAQ,CAAE2L,IAAK,MAGjB,IAAIiS,EAAU,GAEVC,EAAY1T,IAAO,IAAIpC,MAAQqC,OAAO,YAGxCwT,EAD0B,IAAzB/P,EAASsJ,cACA,uBAEAtJ,EAASpK,aAAe,UAAYoa,EAGhDjC,EAAIkC,KAAKF,GMykBCG,CADiB1G,GACGhQ,KAHrB,SAOD,cAAC,KAAD,OAdgB,mBA4BZ,qBAAKrI,UAAU,WAAf,SAER,cAAC,IAAD,CAEE6W,aAAcA,GACdmI,OAAQ1G,GACR9X,WAAW,OACXC,QAASA,GACTK,WAAYA,EACZX,MArUY,CAChBE,OAAQ,OACR4e,YAAa,GACbC,WAAY,IAmURje,MA3TQ,eA4TR1B,YAAaA,GACb8P,SAAUA,GACV8P,gBAAc,EACd5D,kBAAmBA,GACnBtF,gBApXkB,CAAEvV,KAAM,OAAQwV,KAAM,OA0X1C,eAACpI,EAAA,EAAD,CAAOpQ,KAAMA,GAAMqQ,OAAQoM,GAAanM,KAAK,KAAKoR,SAAS,SAA3D,UACE,eAACtR,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,UACE,eAACH,EAAA,EAAMI,MAAP,oBAAoBhM,MAEpB,cAACsL,EAAA,EAAD,CAAkCC,UAAU,SAC9CC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,cAAZ,mCAFA,SAOF,cAACyH,EAAA,EAAD,CAAQzM,QAAS,SAAShB,MAAO,CAACkf,OAAO,GAAK7X,SAAS,WAAYkF,KAAM,KACvE9M,QAAS,WACP,IAAI6G,EAAM,KAENA,EADuB,OAAtB0S,GAAazT,OACN,EAEA,KAEZa,GAAWrE,GAAQuE,GACnB0T,KACAO,MAVJ,SAaI,cAAC,IAAD,OApBkB,eAwBL,MAAfX,IACA,cAACnM,EAAA,EAAD,CAAQzM,QAAS,SAAShB,MAAO,CAACkf,OAAO,GAAI7X,SAAU,WAAYkF,KAAK,KACxE9M,QAAS,WACPua,KRjsBL,SAAoB1O,GACzB,IAAMlJ,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnB4C,OAAQuJ,KAGL1O,MAAM,cAAewF,GQ0rBlB+c,CAAWpd,IACX3D,YAAW,WACT+Y,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,QAC7J,KANL,yBAYe,MAAf8b,IACA,cAACvM,EAAA,EAAD,CAAiCC,UAAU,SACzCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,gBAAZ,6BAFJ,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,SAAShB,MAAO,CAACkf,OAAQ,GAAI7X,SAAU,WAAYkF,KAAK,KACxE9M,QAAU,WACRua,KACAiB,KACAV,MAJF,SAQE,cAAC,KAAD,OAfgB,cAsBxB,cAAClN,EAAA,EAAD,CAAgCC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,cAAZ,mCAFJ,SAOK,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACqH,SAAU,WAAY4I,MAAM,KAClExQ,QAAU,YN7lBZ,SAA2B+c,EAAUlR,GAC1C,IAAImR,EAAM,IAAIC,WAAM,YAAa,MAG7BY,EAAahS,EAAKhI,SAAW,QAAUgI,EAAK/H,QAM5C6b,EAAW5C,EAASZ,QAAQ9d,KAAK,GAAGqE,QAEpC2a,EAAU,CAAC,CACbN,EAASZ,QAAQ9d,KAAK,GAAGyD,SACzBib,EAASZ,QAAQ9d,KAAK,GAAGuhB,KACzB7C,EAASZ,QAAQ9d,KAAK,GAAG0E,MACzBga,EAASZ,QAAQ9d,KAAK,GAAGqE,UAGS,MAAjCqa,EAASZ,QAAQ9d,KAAK,GAAG6Y,OAjBV,GAkBJ5X,KAAK,GAGnB,IAAI,IAAI4Q,EAAE,EAAGA,EAAE6M,EAASZ,QAAQ9d,KAAKgS,OAAQH,IAAI,CAC/C,IAAIyN,EAAU,CACZZ,EAASZ,QAAQ9d,KAAK6R,GAAGpO,SACzBib,EAASZ,QAAQ9d,KAAK6R,GAAG0P,KACzB7C,EAASZ,QAAQ9d,KAAK6R,GAAGnN,MACzBga,EAASZ,QAAQ9d,KAAK6R,GAAGxN,SAE3B2a,EAAS/d,KAAKqe,GAEdgC,GAAwB5C,EAASZ,QAAQ9d,KAAK6R,GAAGxN,QAQnD,IAAIQ,EAAU,iBALdyc,EAAYE,KAAKC,MAAOH,EAAU,GAAI,KAAK,KAKC,SAI5C3C,EAAIc,UAAU,CACZC,OAAQ,CAAEC,SAAU,GACpB3c,MAAO,OACP4c,WAAY,CAACC,UAAW,CAAC,GAAI,GAAI,KACjCC,KAAM,CAAC,CAAC,OAAQ,OAAQ,QAAS,YACjCrb,KAAMua,EACNoB,YAAa,SAAUpgB,GAErB2e,EAAI0B,YAAY,IAChB1B,EAAI2B,aAAa,IACbC,IACF5B,EAAI6B,SAASD,GAAS,MAAO,GAAI,GAAI,KAAM,GAAIA,GAAS,OAAQ,GAGlE5B,EAAI0B,YAAY,GAEhB1B,EAAI0B,YAAY,IAChB1B,EAAI8B,KAAKjB,EAAYxf,EAAK0gB,SAAS3d,OAAO0L,KAAO,GAAI,IACrDkQ,EAAI0B,YAAY,IAChB1B,EAAI2B,aAAa,KAGjB,IAAIoB,EAAW/C,EAAIgD,SAASD,SACxBE,EAAYF,EAASvf,MAAQuf,EAASvf,MAAQuf,EAASG,WACvDpB,EAAO9B,EAAImD,gBAAgBtU,EAAK9I,MAAOkd,EAAY,IAAK,IAC5DjD,EAAI8B,KAAKA,EAAMzgB,EAAK0gB,SAAS3d,OAAO0L,KAAO,GAAI,IAE/CkQ,EAAI8B,KAAK5b,EAAS,IAAK7E,EAAK0gB,SAAS3d,OAAO0L,OAM9CsT,OAAQ,KAGV,IAAIpB,EAAUnT,EAAKhI,SAKnBmZ,EAAIkC,KAAKF,GM6gBCqB,CAJiB1H,GAIUY,KAN5B,SAUD,cAAC,KAAD,OAjBgB,aAqBlB,cAAC3L,EAAA,EAAD,CAAgCC,UAAU,SACtCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,eAAZ,0BAFN,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASua,IAAeO,GAAUva,MAAO,CAACqH,SAAU,WAAY4I,MAAM,IAAlG,SACE,cAAC,IAAD,OARgB,aAYlB,cAAC5C,EAAA,EAAD,CAAiCC,UAAU,SACzCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,gBAAZ,wBAFJ,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACqH,SAAU,WAAY4I,MAAM,KAAMxQ,QAAS,WApZvFd,OAAOuR,KAAK1F,KAoZJ,SACE,cAAC,KAAD,OARgB,cAYtB,cAAC6C,EAAA,EAAD,CAAgCC,UAAU,SACtCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,eAAZ,uBAFN,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAAS,WACnCic,IAAc,GACdle,IAAQ,IACPwC,MAAO,CAACqH,SAAU,WAAY4I,MAAM,KAHvC,SAIE,cAAC,KAAD,OAXgB,gBAgBpB,cAACtC,EAAA,EAAMvN,KAAP,UACA,eAAC2f,EAAA,EAAD,CAAMlgB,UAAU,OAAOmgB,SAAU,SAACC,GACzB,aAAJA,GACDlZ,SAAS2G,eAAT,2BAA4CsL,GAAajV,WAAYyD,SAFzE,UAKI,eAAC0Y,EAAA,EAAD,CAAKC,SAAS,UAAUpJ,MAAM,UAA9B,UACE,eAAC/I,EAAA,EAAD,WAEE,eAACA,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,aAAvC,UACE,cAACJ,EAAA,EAAKiB,MAAN,2BACA,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,iBACZxC,MAAOgM,GACP/J,SAAY,SAAA5C,GAAC,OAAG4M,GAAa5M,EAAE6C,OAAOlC,QACtC5L,KAAK,YAKT,eAACsN,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,oBAAvC,UACA,cAACJ,EAAA,EAAKiB,MAAN,8BACA,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,QACHO,KAAM,EACNnO,KAAK,SACLoO,YAAY,aACZxC,MAAOkM,GACPjK,SAAY,SAAA5C,GAAC,OAAG8M,GAAkB9M,EAAE6C,OAAOlC,gBAI/C,cAAC,IAAD,CACEhM,QArdS,CACrB,CAACC,KAAM,WAAYC,OAAQ,QAC3B,CAACD,KAAM,OAAQC,OAAQ,QACvB,CAACD,KAAM,QAASC,OAAQ,QAAS8a,SAAU,KAC3C,CAAC/a,KAAM,UAAWC,OAAQ,YAkddG,WAAYrC,GACZ8hB,UAAU,EACVpgB,MA5eO,CACnBY,UAAW,KA4eCie,OAAQxG,QAGZ,eAAC6H,EAAA,EAAD,CAAKC,SAAS,WAAWpJ,MAAM,OAA/B,UACA,eAAC/I,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,0BAAtB,UACA,2CACE,eAACJ,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAO1G,GAAUtB,aACnDiK,SAAY,SAAA5C,GACVwN,GAAgBja,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAFxC,UAKE,iCAAS0M,GAAa9V,eACtB,wBAAQoJ,MAAOpN,KAAKC,UAAUuI,IAA9B,SAA2CA,GAAUpD,eAEnDsB,GAAU6I,KAAI,SAACC,EAAUC,GACzB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAM5B,cAACT,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,sBAAtB,UACA,cAACJ,EAAA,EAAKiB,MAAN,CAAYjP,MAAO,CAACyP,QAAQ,UAA5B,yBACE,eAACzB,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAOxG,GAAY1C,WACrDmL,SAAY,SAAA5C,GACV0N,GAAkBna,KAAKsC,MAAMmK,EAAE6C,OAAOlC,QACtCY,QAAQC,IAAIjO,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAHpC,UAME,wBAAQA,MAAOpN,KAAKC,UAAUqa,IAA9B,SAAiDA,GAAgBpW,aAE/D0C,GAAY2I,KAAI,SAACG,EAAYD,GAC7B,OAAG6K,GAAgBpW,aAAawL,EAAWxL,WAClC,wBAAoBkJ,MAAOpN,KAAKC,UAAUyP,GAA1C,SAAwDA,EAAWxL,YAAtDuL,GAEV,gBAMpB,cAACT,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYC,UAAU,sBAAtB,UACE,cAACJ,EAAA,EAAKiB,MAAN,CAAYjP,MAAO,CAACyP,QAAQ,UAA5B,kBACA,eAACzB,EAAA,EAAKK,QAAN,CAAcR,KAAK,KAAKS,GAAG,SAAShC,MAAOhE,GAAM+X,SAC/C9R,SAAY,SAAA5C,GAAK4N,GAAYra,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADnD,UAKE,wBAAQA,MAAOoN,GAAf,SAA2BA,GAAUnY,WAEnC+G,GAAMmG,KAAI,SAAC7J,EAAM+J,GACjB,OAAG+K,GAAUnY,WAAWqD,EAAKrD,SACpB,wBAAoB+K,MAAOpN,KAAKC,UAAUyF,GAA1C,SAAkDA,EAAKrD,UAA1CoN,GAEV,mBAOtB,eAACV,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,mBAAvC,UACE,cAACJ,EAAA,EAAKiB,MAAN,uBACA,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,aACZxC,MAAO0M,GAAazV,QACpBgL,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEE/c,QAASoI,EAAE6C,OAAOlC,YAGtB5L,KAAK,cAIX,cAACwN,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,iBAAvC,UACE,cAACJ,EAAA,EAAKiB,MAAN,qBACA,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,WACZxC,MAAO0M,GAAaxW,MACpB+L,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEE9d,MAAOmJ,EAAE6C,OAAOlC,YAGpB5L,KAAK,iBAKb,eAACuN,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WACE,cAACF,EAAA,EAAKiB,MAAN,oCACA,cAAC,IAAD,CACEC,SAAU0J,GACVrK,SAAU,SAACY,GAAD,OAAU8J,IAAgB,SAAAqH,GAGlC,OAFAzH,GAAiB,IAAIjQ,KAAKuG,IAEnB,2BACFmR,GADL,IAEErc,QAAS+G,IAAOmE,GAAMlE,OAAO,iCAIjCmE,WAAa,aACbC,iBAAkB,OAGtB,eAACnB,EAAA,EAAD,WACE,cAACF,EAAA,EAAKiB,MAAN,0CACA,cAAC,IAAD,CACEC,SAAU4J,GACVvK,SAAU,SAACY,GAAD,OAAU8J,IAAgB,SAAAqH,GAGlC,OAFAvH,GAAiB5J,GAEV,2BACFmR,GADL,IAEEpc,UAAW8G,IAAOmE,GAAMlE,OAAO,iCAInCmE,WAAa,aACbC,iBAAkB,OAGtB,eAACnB,EAAA,EAAD,WACE,cAACF,EAAA,EAAKiB,MAAN,gCACE,uBACF,cAACjB,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,qBACJuI,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEEvc,SAAU,UAIhB,cAACiK,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,qBACJuI,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEEvc,SAAU,UAIhB,cAACiK,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,IACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,qBACJuI,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEEvc,SAAU,gBAMpB,eAACkK,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,mBAAmBpO,MAAO,CAAC+O,UAAW,IAA7E,UACE,cAACf,EAAA,EAAKiB,MAAN,2BACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0M,GAAarV,UACpB4K,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEE3c,UAAWgI,EAAE6C,OAAOlC,mBAMhC,cAAC4B,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,eAAepO,MAAO,CAAC+O,UAAW,IAAzE,UACE,cAACf,EAAA,EAAKiB,MAAN,2BACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0M,GAAavV,WACpB8K,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEE7c,WAAYkI,EAAE6C,OAAOlC,sBAQnC,eAAC2B,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,mBAAvC,UACA,cAACJ,EAAA,EAAKiB,MAAN,yBACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0M,GAAanV,WACpB0K,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEEzc,WAAY8H,EAAE6C,OAAOlC,mBAM/B,cAAC4B,EAAA,EAAD,UACG,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,mBAAvC,UACC,cAACJ,EAAA,EAAKiB,MAAN,wBACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0M,GAAalV,SACpByK,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEExc,SAAU6H,EAAE6C,OAAOlC,mBAM/B,cAAC4B,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,kBAAvC,UACA,cAACJ,EAAA,EAAKiB,MAAN,uBACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0M,GAAahV,QACpBuK,SAAY,SAAA5C,GAAC,OAAGsN,IAAgB,SAAAqH,GAC9B,OAAO,2BACFA,GADL,IAEEtc,QAAS2H,EAAE6C,OAAOlC,yBAQlC,cAAC0B,EAAA,EAAKiB,MAAN,qBACDxD,GAAUgD,KAAI,SAACiB,EAAGC,GACnB,OACE,qBAAK9P,UAAU,MAAf,SACE,eAACmO,EAAA,EAAKG,MAAN,CAAYG,GAAIL,IAAKG,UAAU,WAAWpO,MAAO,CAAC+O,UAAW,GAA7D,UACI,cAACb,EAAA,EAAD,UACA,cAACF,EAAA,EAAKK,QAAN,CACIR,KAAK,KACLS,GAAG,WACHO,KAAM,EACNnO,KAAK,OACLH,KAAK,OACL+L,MAAOoD,EAAE7E,KACT0D,SAAU,SAAA5C,GAAC,OA3rBD,SAACA,EAAGgD,GAC1B,MAAwBhD,EAAE6C,OAAlBjO,EAAR,EAAQA,KAAM+L,EAAd,EAAcA,MACRsD,EAAI,YAAOnE,IACjBmE,EAAKjB,GAAOpO,GAAQ+L,EACpB1B,GAAagF,GAurBcC,CAAkBlE,EAAGgE,QAGxC,cAACzB,EAAA,EAAD,CAAKc,GAAI,EAAT,SAC0B,IAArBvD,GAAUqE,QACT,cAACzC,EAAA,EAAD,CAAiCC,UAAU,SAC3CC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,qBAAZ,yBAFF,SAOE,cAACyH,EAAA,EAAD,CAAQI,KAAK,KAAKhO,UAAU,OAAOmB,QAAQ,YAAYvB,QAAS,kBA/rB1D,SAAAkP,GACxB,IAAMiB,EAAI,YAAOnE,IACjBmE,EAAKG,OAAOpB,EAAO,GACnB/D,GAAagF,GA4rB2EI,CAAkBL,IAAxF,SAA4F,cAAC,KAAD,OAP1E,gBAY1B,cAACzB,EAAA,EAAD,CAAKc,GAAI,EAAT,SACKvD,GAAUqE,OAAS,IAAMH,GACxB,cAACtC,EAAA,EAAD,CAA8BC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,sBAFF,SAOA,cAACyH,EAAA,EAAD,CAAQI,KAAK,KAAK7M,QAAQ,YAAYvB,QAAS2N,GAA/C,SAA+D,cAAC,KAAD,OAP3C,wBAmBjC,cAAC8S,EAAA,EAAD,CAAKC,SAAS,QAAQpJ,MAAM,QAA5B,SACA,cAAC,IAAD,CACO1W,WAAW,KACX6O,SAAUsL,GACVwE,gBAAc,EACd5D,kBAAmBC,GACnB/a,QAnzBO,CACnB,CAACC,KAAM,KAAMC,OAAQ,KAAM+f,gBAAe,GAC1C,CAAChgB,KAAM,UAAWC,OAAQ,UAAW8a,SAAS,MAkzBlC3a,WAAYyW,EACZpX,MAzyBK,CACjBY,UAAW,KAyyBC8V,aAAcE,GACdwJ,UAAU,cAWpB,eAACzS,EAAA,EAAD,CAAOpQ,KAAMuc,GAAelM,OAAQoN,GAApC,UACE,cAACrN,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,eAACH,EAAA,EAAMI,MAAP,0BAA0BhM,QAE5B,eAAC4L,EAAA,EAAMvN,KAAP,WACA,cAAC4N,EAAA,EAAKG,MAAN,CAAYC,UAAU,yBAAtB,SACI,eAACJ,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpG,GAAQsa,OACrCjS,SAAY,SAAA5C,GAAC,OAAGgP,GAAiBzb,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SADzD,UAEI,wBAAQA,MAAO,GAAf,uCAEApG,GAAQuI,KAAI,SAACgS,EAAQ9R,GACnB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUshB,GAA1C,SAAoDA,EAAOD,QAA9C7R,WAK1B,eAACX,EAAA,EAAKiB,MAAN,0BAAyB6L,MACzB,eAAC9M,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,oBAAvC,UACE,cAACJ,EAAA,EAAKiB,MAAN,kCACE,cAACjB,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAOsO,GACP9L,YAAY,wBACZP,SAAY,SAAA5C,GAAC,OAAGkP,GAAkBlP,EAAE6C,OAAOlC,gBAGrD,eAACqB,EAAA,EAAM/L,OAAP,WAEE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASub,GAArC,oBAIA,cAACvN,EAAA,EAAD,CAAQzM,QAAQ,SAASvB,QAASub,IAx+BhB,WACxBA,KAEA,IAAI0F,EAAc,gBAAkBhG,GAAc8F,YAC1BniB,IAArBqc,GAAcrP,MACfrJ,EAAQ0e,EAAa3e,GAAQG,EAAQ0Y,IR9QpC,SAAmB7Y,EAAQ4e,EAAYhe,GAC5C,IAAIwM,EAAO,IAAIvG,KAETxG,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBsD,KAAOV,EACPsJ,KAAMsV,EACNxe,QAASQ,EACTiG,KAAMuG,KAGHvS,MAAM,cAAewF,GQkQxBwe,CAAU7e,GAAQ2Y,GAAcrP,KAAMuP,MAEtCrP,MAAM,yCACN0P,MAGF7c,YAAW,WACT+Y,EAAcnB,GAAenO,EAAWC,OAAQwO,EAAgBL,GAAe/N,GAAe8P,cAAehQ,GAAiBqD,KAAMmL,GAAYqB,IAAc/Z,QAC9J,KAEF+c,MAw9BM,8BAOJ,eAAClN,EAAA,EAAD,CAAOpQ,KAAMke,GAAY7N,OAAQ+N,GAAjC,UACE,cAAChO,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,eAACH,EAAA,EAAMI,MAAP,2BAA2BhM,QAE7B,eAAC4L,EAAA,EAAMvN,KAAP,kDAAiD2B,GAAjD,QACA,eAAC4L,EAAA,EAAM/L,OAAP,WACE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASkc,GAArC,oBAGA,cAAClO,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAASkc,IAr1B1B,WAGfA,KAEAnW,IAAe3I,MAAK,SAAAyO,GAClBoN,GAAUpN,EAAK,GAAG,KAGlBlH,EAAWkH,EAAK,GAAG,IAAK0N,GAAa9V,aAAc8V,GAAa7V,QAAS6V,GAAazV,QAASyV,GAAajV,SAAUiV,GAAa/U,QAAS+U,GAAa9U,UAAW8U,GAAa5V,WAAY4V,GAAakE,WAAYlE,GAAaoB,SAAUpB,GAAarV,UAAWqV,GAAanV,WAAYmV,GAAavV,WAAYuV,GAAaxW,MAAOwW,GAAa6H,WAAY7H,GAAahV,QAASgV,GAAazT,QACvYY,GAAYmF,EAAK,GAAG,IAAKpJ,GAEzB+W,IAAgB,SAAAqH,GACd,OAAO,2BACFA,GADL,IAEEhd,SAAUgI,EAAK,GAAG,SAItBxJ,EAAWwJ,EAAK,GAAG,KAChBzO,MAAK,SAAAyB,GACJqa,GAAWra,GAEXA,EAAQoN,SAAQ,SAAAb,GACEA,EAAK1I,WAEvB3E,IAAQ,MAKZY,YAAW,WACT2Z,OAEA,SAmzBE,2B,8CCv3CV,WAAoCrJ,GAApC,iBAAAjJ,EAAA,sEAC2B7I,MAAM,yBAA2B8R,GAD5D,cACU5R,EADV,gBAE4BA,EAASC,OAFrC,cAEU6I,EAFV,yBAGWA,GAHX,4C,sBA8Dekb,OAxDf,SAAwBpS,GAEpB,MAAoCtR,mBAAS,IAA7C,mBAAOuD,EAAP,KAAmBwW,EAAnB,KAgCA,OAfAhZ,qBAAU,WACN,IAAIqK,GAAU,EAYd,O,4CARAuY,CAAqBrS,EAASA,UACzB7R,MAAK,SAAAmkB,GACDxY,GAED2O,EAAc6J,MAIf,kBAAMxY,GAAU,KACzB,CAACkG,IAEC,mCACA,cAAC,IAAD,CAKApO,QArCY,CACZ,CAACC,KAAK,WAAYC,OAAO,OAAQE,KAAM,QAASD,YAAa,GAC7D,CAACF,KAAK,WAAYC,OAAO,OAASC,YAAa,GAC/C,CAACF,KAAK,UAAWC,OAAO,UAAWC,YAAa,EAAG2f,UAAS,GAC5D,CAAC7f,KAAK,YAAaC,OAAO,OAAQC,YAAa,IAkC/CE,WAAYA,EACZX,MAhCc,CACdY,UAAW,IACXke,YAAa,GACbC,WAAY,IA8BZje,MA3BU,oB,8CCXlB,8BAAA2E,EAAA,sEAC2B7I,MAAM,oBADjC,cACUE,EADV,gBAE4BA,EAASC,OAFrC,cAEU6I,EAFV,yBAGWA,GAHX,4C,oEAKA,8BAAAH,EAAA,sEAC2B7I,MAAM,yBADjC,cACUE,EADV,gBAE0BA,EAASC,OAFnC,cAEUmJ,EAFV,yBAGWA,GAHX,4C,sBAyYe+a,OA7Wf,WACIla,SAASgQ,MAAQ,wBAEjB,IAAM3V,EAAcC,eAAeC,QAAQ,SAGrCY,EAFYhD,KAAKsC,MAAMJ,GAEJ6B,OAEnB+T,EAAe,CACjB,YAAc,EACd,cAAgB,EAChB,aAAe,kBACf,aAAe,GAGbkK,EAAa,CAAC7V,KAAM,EAAGmV,OAAQ,iBAErC,EAAgCpjB,mBAAS4Z,GAAzC,mBAAOtI,EAAP,KAAiByS,EAAjB,KACA,EAAkC/jB,mBAAS,IAA3C,mBAAOwI,EAAP,KAAkByC,EAAlB,KACA,EAA8BjL,mBAAS,IAAvC,mBAAOwO,EAAP,KAAgBwV,EAAhB,KACA,EAAwBhkB,mBAAS,IAAIwL,MAArC,mBAAOuG,EAAP,KAAatG,EAAb,KACA,EAA8BzL,mBAAS,IAAvC,mBAAO8I,EAAP,KAAgBuU,EAAhB,KACA,EAA4Crd,mBAAS8jB,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA8BlkB,mBAAS,GAAvC,mBAAOuF,EAAP,KAAgB4e,EAAhB,KACA,EAAkCnkB,oBAAS,GAA3C,mBAAOokB,EAAP,KAAkBC,EAAlB,KACA,EAA0BrkB,mBAAS,KAAnC,mBAAOskB,EAAP,KAAcC,EAAd,KACA,EAA0BvkB,mBAAS,KAAnC,mBAAOwkB,EAAP,KAAcC,EAAd,KACA,GAA4BzkB,mBAAS,KAArC,qBAAO0kB,GAAP,MAAeC,GAAf,MACA,GAAkC3kB,mBAAS,KAA3C,qBAAO4kB,GAAP,MAAkBC,GAAlB,MACA,GAAoC7kB,mBAAS,KAA7C,qBAAO8kB,GAAP,MAAmBC,GAAnB,MAEA,GAAkC/kB,oBAAS,GAA3C,qBAAOglB,GAAP,MAAkBC,GAAlB,MACMC,GAAUC,iBAAO,MAEvBpkB,qBAAU,WAEN,IAAIqK,GAAU,EAed,O,2CAbA7C,GACK9I,MAAK,SAAA+I,GACC4C,GACHH,EAAazC,M,2CAGrBuV,GACKte,MAAK,SAAAqJ,GACDsC,GACDiS,EAAWvU,MAIZ,kBAAMsC,GAAU,KAEzB,IAGF,IAwBMga,GAAc,WAChBF,GAAQ1G,QAAQ6G,QAChBJ,IAAa,GAEbjB,EAAW,IACXvY,EAAQ,IAAID,MACZ0Y,EAAkBJ,GAClBK,EAAW,GACXI,EAAS,KACTE,EAAS,KACTE,GAAU,KACVE,GAAa,KACbE,GAAc,KAGd,IAAIO,EAAkBhU,EACtByS,EAAYnK,GACZ5Y,YAAW,WACP+iB,EAAYuB,KACb,KAKP,OACI,qCACA,qBAAK1iB,MAAO,CAACC,MAAM,MAAMoH,SAAU,QAAS4I,MAAO,MAAOlB,UAAW,KAAM4T,aAAa,OAAxF,SACA,eAAC3U,EAAA,EAAD,CAAM4U,IAAKN,GAASF,UAAWA,GAA/B,UACA,eAACpU,EAAA,EAAKG,MAAN,CAAYC,UAAU,kBAAtB,UACI,cAACJ,EAAA,EAAKiB,MAAN,yBACA,eAACjB,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAUuP,GAAW1O,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,EAAGZ,MAAM,OACjGsO,SAAY,SAAA5C,GACVwV,EAAYjiB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,QAGhCvF,SAAS2G,eAAe,oBAAoBjB,SALlD,UAQE,wBAAQH,MAAOpN,KAAKC,UAAU6X,GAA9B,SAA8CA,EAAa1S,eAEzDsB,EAAU6I,KAAI,SAACC,EAAUC,GACvB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,YAK9B,cAACX,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,mBAAvC,SACI,cAACJ,EAAA,EAAKK,QAAN,CACIC,GAAG,WACHO,KAAM,EACNC,YAAY,aACZxC,MAAOV,EACP2C,SAAY,SAAA5C,GAAC,OAAGyV,EAAWzV,EAAE6C,OAAOlC,QACpC5L,KAAK,OACLV,MAAO,CAAC6iB,gBAAgB,eAGhC,cAAC7U,EAAA,EAAKG,MAAN,UACI,cAAC,IAAD,CACIe,SAAUC,EACVZ,SAAU,SAACY,GAAD,OAAUtG,EAAQsG,IAC5BC,WAAa,aACbC,iBAAkB,MAG1B,eAACrB,EAAA,EAAKG,MAAN,WACA,cAACH,EAAA,EAAKiB,MAAN,mCACI,cAACjB,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,IACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,kBACFuI,SAAU,SAAA5C,GACN4V,EAAW,GACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,KACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,mBACFuI,SAAU,SAAA5C,GACN4V,EAAW,IACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,MACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,oBACFuI,SAAU,SAAA5C,GACN4V,EAAW,KACXE,GAAa,MAGrB,cAACzT,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,QACNjP,KAAK,SACLG,KAAK,QACLsF,GAAE,qBACFuI,SAAU,SAAA5C,GACN4V,IACAE,GAAa,OAIL,IAAZD,GACA,cAACxT,EAAA,EAAKK,QAAN,CACAC,GAAG,WACHO,KAAM,EACNC,YAAY,UACZxC,MAAO3J,EACP4L,SAAY,SAAA5C,GAAC,OAAG4V,EAAW5V,EAAE6C,OAAOlC,QACpC5L,KAAK,OACLV,MAAO,CAACqH,SAAS,WAAY4I,MAAM,EAAIhQ,MAAO,IAAKwP,QAAS,eAIpE,eAACzB,EAAA,EAAKG,MAAN,WACI,cAACH,EAAA,EAAKiB,MAAN,oCACA,cAACjB,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,QACNjP,KAAK,SACLG,KAAK,WACLsF,GAAE,qBACFuI,SAAY,SAAA5C,GAENgW,EADU,MAARD,EACO,IAEA,QAInB,cAAC1T,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,QACNjP,KAAK,SACLG,KAAK,WACLsF,GAAE,qBACFuI,SAAY,SAAA5C,GAENkW,EADU,MAARD,EACO,IAEA,QAInB,cAAC5T,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,gBACNjP,KAAK,SACLG,KAAK,WACLsF,GAAE,sBACFuI,SAAY,SAAA5C,GAENoW,GADW,MAATD,GACQ,IAEA,QAIpB,cAAC9T,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,aACNjP,KAAK,SACLG,KAAK,WACLsF,GAAE,yBACFuI,SAAY,SAAA5C,GAENsW,GADc,MAAZD,GACW,IAEA,QAIvB,cAAChU,EAAA,EAAKsB,MAAN,CACIC,QAAM,EACNC,MAAM,eACNjP,KAAK,SACLG,KAAK,WACLsF,GAAE,0BACFuI,SAAY,SAAA5C,GAENwW,GADe,MAAbD,GACY,IAEA,WAK5B,eAAClU,EAAA,EAAKG,MAAN,CAAYC,UAAU,uBAAtB,UACI,cAACJ,EAAA,EAAKiB,MAAN,2CACA,eAACjB,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpG,EAAQsa,OAAQxgB,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,EAAGZ,MAAM,OACvFsO,SAAY,SAAA5C,GAAC,OAAG2V,EAAkBpiB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAD1D,UAEI,wBAAQA,MAAO4U,EAAf,SAA4BA,EAAWV,SAEvCta,EAAQuI,KAAI,SAACgS,EAAQ9R,GACnB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUshB,GAA1C,SAAoDA,EAAOD,QAA9C7R,YAK9B,cAACtB,EAAA,EAAD,CAAgCC,UAAU,SACtCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,eAAZ,kBAFN,SAOI,cAACyH,EAAA,EAAD,CAAQhO,QAvSC,WAEb,IAAI4d,EAAarS,IAAOmE,GAAMlE,OAAO,uBAErCiC,QAAQC,IAAIxK,GACe,oBAAxB+L,EAASpK,aACRiH,MAAM,4BACU,KAAVK,EACNL,MAAM,sBACU,IAAV5I,EACN4I,MAAM,mBACsB,IAAtB8V,EAAehW,KACrBE,MAAM,4BA1FlB,SAAyBuX,EAASlX,EAASyR,EAAY1a,EAAS+e,EAAOE,EAAOE,EAAQE,EAAWE,EAAY1B,EAAQte,GACjH,IAAME,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnB4jB,YAAaD,EACb3e,KAAMjC,EACN0G,KAAMyU,EACN9Z,QAASqI,EACToX,MAAOtB,EACPuB,MAAOrB,EACPsB,KAAMlB,EACN7f,QAASQ,EACTwgB,OAAQrB,EACRtB,OAAQA,EACR4C,WAAYlB,KAGTtlB,MAAM,oBAAqBwF,GA2E1BihB,CAAgB3U,EAASqU,YAAanX,EAASyR,EAAY1a,EAAS+e,EAAOE,EAAOE,GAAQE,GAAWE,GAAYb,EAAehW,KAAMnJ,GACtIsgB,OAuR2B3iB,UAAU,sBAAsBmB,QAAQ,YAAnE,SACI,6BAAI,cAAC,IAAD,SARQ,kBAcpB,qBAAKhB,MAAO,CAACC,MAAM,MAAMoH,SAAU,WAAYkF,KAAM,MAAOwC,UAAW,MAAvE,SACI,cAAC,GAAD,CAAgBL,SAAUA,EAASqU,oB,OChHhCO,OAzQf,WAEI,IAAMliB,EAAcC,eAAeC,QAAQ,SACrC6G,EAAYjJ,KAAKsC,MAAMJ,GAIvB4V,EAAe,CACjB,YAAc,EACd,cAAgB,EAChB,aAAe,gBACf,aAAe,GAUXpP,EAAiB,CACrB,OAAUO,EAAUlF,OACpB,SAAakF,EAAU1G,UAKrBiG,EAAU,CACZ,YAAgB,EAChB,cAAkB,IAClB,aAAiB,cACjB,aAAgB,KAIpB,EAAoCtK,mBAAS,IAA7C,mBAAOuD,EAAP,KAAmBwW,EAAnB,KAGA,EAA8B/Z,mBAAS,MAAvC,mBAAO8a,EAAP,KAAgBC,EAAhB,KAIA,EAAkC/a,mBAAS,IAA3C,mBAAOwI,EAAP,KAAkByC,EAAlB,KACA,EAA0BjL,mBAAS,IAAnC,mBAAOkL,EAAP,KAAcC,EAAd,KAEA,EAAoCnL,mBAASwK,GAA7C,mBAAOC,EAAP,KAAmB0P,EAAnB,KACA,EAA4Cna,mBAAS4Z,GAArD,mBAAO9O,EAAP,KAAuBuP,EAAvB,KAII9O,EAAW,IAAIC,KACnBD,EAASE,QAAQF,EAASG,UAAU,GACpC,MAAkC1L,mBAAS,IAAIwL,MAA/C,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA8BpmB,mBAASuL,GAAvC,mBAAO8a,EAAP,KAAgBC,EAAhB,KAEAvlB,qBAAU,WACN,IAAIqK,GAAU,EAyBZ,OAtBFmb,EAASJ,EAAWE,EAASvb,EAAgBL,GAG7ClC,IACC9I,MAAK,SAAA+I,GACC4C,GACLH,EAAazC,MASfG,IACGlJ,MAAK,SAAAyL,GACDE,GACDD,EAASD,MAIN,kBAAME,GAAU,KAC3B,CAACX,EAAYK,EAAe8P,cAAeuL,EAAWE,IAGxD,IAMMnjB,EAAU,CACZ,CAACC,KAAK,OAAQC,OAAO,KAAME,KAAM,SAAUD,YAAa,EAAGoV,SAAS,IACpE,CAACtV,KAAK,WAAYC,OAAO,WAAYC,YAAa,EAAGoV,SAAU,IAAKyF,SAAU,KAC9E,CAAC/a,KAAK,UAAWC,OAAO,UAAWC,YAAa,EAAG6a,SAAU,KAC7D,CAAC/a,KAAK,aAAcC,OAAO,QAASC,YAAa,GACjD,CAACF,KAAK,mBAAoBC,OAAO,eAAgBC,YAAa,GAC9D,CAACF,KAAK,YAAaC,OAAO,YAAaC,YAAa,EAAGoV,SAAU,IAC/D0F,KAAM,SAAC9V,EAAG+V,GAIR,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGlC,CAACjb,KAAK,gBAAiBC,OAAO,gBAAiBC,YAAa,EAAGoV,SAAU,IACvE0F,KAAM,SAAC9V,EAAG+V,GAIR,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGlC,CAACjb,KAAK,WAAYC,OAAO,WAAYC,YAAa,EAAGoV,SAAU,KAC/D,CAACtV,KAAK,YAAaC,OAAO,gBAAiBC,YAAa,EAAGoV,SAAU,KACrE,CAACtV,KAAK,iBAAkBC,OAAO,mBAAoBC,YAAa,EAAGoV,SAAU,MAG3E8N,EAAW,SAACJ,EAAWE,EAASvb,EAAgBL,GACpD,IAAI+b,EAAQ5Y,IAAOuY,GAAWtY,OAAO,uBACjC4Y,EAAQ7Y,IAAOyY,GAASxY,OAAO,uBAG/BnN,EApIV,SAAwB4Q,EAAU9J,EAAM2e,EAAWE,GAIjD,OAAO7mB,MAAM,qBAAuB8R,EAAW,IAAM9J,EAAO,IAAM2e,EAAY,IAAME,GAChF5mB,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,UA+HP+mB,CAAe5b,EAAe8P,cAAenQ,EAAWC,OAAQ8b,EAAOC,GAElF1M,EAAcrZ,IAGhB,OACI,sBAAK0B,MAAM,gBAAX,UAEE,sBAAKK,UAAU,YAAf,UAEI,qBAAKA,UAAU,OAAf,SACE,oBAAIL,MAAM,oBAAV,4BAGF,qBAAKK,UAAU,OAAf,SAEI,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAU+I,GAC9CqG,SAAY,SAAA5C,GACV8L,EAAkBvY,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAF1C,UAKA,wBAAQA,MAAOpN,KAAKC,UAAU6X,GAA9B,SAA8CA,EAAa1S,eAC3D,wBAAQgI,MAAOpN,KAAKC,UAAUuI,GAA9B,SAA2CA,EAAUpD,eAEnDsB,EAAU6I,KAAI,SAACC,EAAUC,GACvB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,WAO5B,qBAAK9O,UAAU,OAAf,SACE,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAU0I,GAC5C0G,SAAY,SAAA5C,GAGV4L,EAAcrY,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAJxC,UAME,wBAAQA,MAAQpN,KAAKC,UAAUyI,GAA/B,SAAiDA,EAAerG,WAE9D+G,EAAMmG,KAAI,SAAC7J,EAAM+J,GACf,OAAG/J,EAAKrD,WAAWqG,EAAerG,SACzB,wBAAoB+K,MAAOpN,KAAKC,UAAUyF,GAA1C,SAAkDA,EAAKrD,UAA1CoN,GAEV,QAGhB,wBAAQrC,MAAOpN,KAAKC,UA3Jf,CACf,SAAY,gBACZ,OAAU,IAyJA,4BAKJ,qBAAKK,MAAM,OAAX,SACE,cAAC,IAAD,CACA0P,SAAUqU,EACVhV,SAAU,SAACY,GACTqU,EAAarU,IAEf4U,cAAY,EACZR,UAAWA,EACXE,QAASA,EACTrU,WAAa,iBAIf,qBAAK5P,MAAM,OAAX,SACE,cAAC,IAAD,CACA0P,SAAUuU,EACVlV,SAAU,SAACY,GACTuU,EAAWvU,IAEb6U,YAAU,EACVT,UAAWA,EACXE,QAASA,EACTQ,QAASV,EACTnU,WAAa,iBAIf,sBAAKvP,UAAU,OAAf,UACE,cAACwN,EAAA,EAAD,CACEE,QACA,cAACC,EAAA,EAAD,CAASxH,GAAG,cAAZ,2BAFF,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YACfvB,QAAU,YTrBtB,SAA0B+c,EAAU9N,GACzC,IAAI+N,EAAM,IAAIC,WAAM,YAAa,MAC7BC,EAAc,GAIdG,EAAU,CAAC,CACbN,EAASZ,QAAQ9d,KAAK,GAAG2E,KACzB+Z,EAASZ,QAAQ9d,KAAK,GAAGyF,QACzBiZ,EAASZ,QAAQ9d,KAAK,GAAGoG,UACzBsY,EAASZ,QAAQ9d,KAAK,GAAGomB,cACzB1H,EAASZ,QAAQ9d,KAAK,GAAGqmB,eACzB3H,EAASZ,QAAQ9d,KAAK,GAAGod,UACzBsB,EAASZ,QAAQ9d,KAAK,GAAGmf,mBAGS,MAAjCT,EAASZ,QAAQ9d,KAAK,GAAG6Y,OAC1BgG,EAAY5d,KAAK,GAGnB,IAAI,IAAI4Q,EAAE,EAAGA,EAAE6M,EAASZ,QAAQ9d,KAAKgS,OAAQH,IAAI,CAC/C,IAAIyN,EAAU,CACdZ,EAASZ,QAAQ9d,KAAK6R,GAAGlN,KACzB+Z,EAASZ,QAAQ9d,KAAK6R,GAAGpM,QACzBiZ,EAASZ,QAAQ9d,KAAK6R,GAAGzL,UACzBsY,EAASZ,QAAQ9d,KAAK6R,GAAGuU,cACzB1H,EAASZ,QAAQ9d,KAAK6R,GAAGwU,eACzB3H,EAASZ,QAAQ9d,KAAK6R,GAAGuL,UACzBsB,EAASZ,QAAQ9d,KAAK6R,GAAGsN,kBAGW,MAAjCT,EAASZ,QAAQ9d,KAAK6R,GAAGgH,OAC1BgG,EAAY5d,KAAK4Q,GAEnBmN,EAAS/d,KAAKqe,GAIhB,IAAIC,EAAarS,IAAO,IAAIpC,MAAQqC,OAAO,gBAEvCqS,EAAa5O,EAASpK,aAAe,yBAA2B+Y,EAIpEZ,EAAIc,UAAU,CACZC,OAAQ,CAAEC,SAAU,GACpB3c,MAAO,OACP4c,WAAY,CAACC,UAAW,CAAC,GAAI,GAAI,KACjCC,KAAM,CAAC,CAAC,OAAQ,UAAW,YAAa,YAAa,OAAQ,OAAQ,SACrErb,KAAMua,EACNe,aAAc,SAAS/f,GAErB,IAAK,IAAI6R,EAAE,EAAGA,EAAEgN,EAAY7M,OAAQH,IAC/B7R,EAAKggB,IAAInP,QAAQgO,EAAYhN,KAC9B7R,EAAKigB,KAAKP,OAAOG,UAAW,CAAC,GAAI,IAAK,OAI5CO,YAAa,SAAUpgB,GAErB2e,EAAI0B,YAAY,IAChB1B,EAAI2B,aAAa,IACbC,IACF5B,EAAI6B,SAASD,GAAS,MAAO,GAAI,GAAI,KAAM,GAAIA,GAAS,OAAQ,GAElE5B,EAAI8B,KAAKjB,EAAYxf,EAAK0gB,SAAS3d,OAAO0L,KAAO,GAAI,IAErDkQ,EAAI0B,YAAY,IAIlBtd,OAAQ,CAAE2L,IAAK,MAGjB,IAAIiS,EAAU,GAEVC,EAAY1T,IAAO,IAAIpC,MAAQqC,OAAO,YAGxCwT,EAD0B,IAAzB/P,EAASsJ,cACA,6BAEAtJ,EAASpK,aAAe,gBAAkBoa,EAGtDjC,EAAIkC,KAAKF,GS7DW2F,CADiBlM,EACShQ,IAH9B,SAQE,cAAC,KAAD,OAfgB,aAmBpB,cAACmF,EAAA,EAAD,CACEE,QACA,cAACC,EAAA,EAAD,CAASxH,GAAG,kBAAZ,qBAFF,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAAC+e,WAAW,QAC9Ctf,QAAU,WACPkkB,EAASJ,EAAWE,EAASvb,EAAgBL,IAFjD,SAME,cAAC,KAAD,OAbgB,iBAoB1B,qBAAKhI,UAAU,cAAf,SACE,cAAC,IAAD,CAEEgf,OAAQ1G,EACR9X,WAAW,OACXC,QAASA,EACTK,WAAYA,EACZX,MAnKQ,CAChBY,UAAW,QAmKHE,MAtKI,uB,IC/FZwQ,G,gKACJ,WACE,MAAkCC,KAAKpU,MAA/BuS,EAAR,EAAQA,EAAG8B,EAAX,EAAWA,EAAWC,GAAtB,EAAcC,OAAd,EAAsBD,SAEtB,OACE,mBAAGE,UAAS,oBAAejC,EAAf,YAAoB8B,EAApB,KAAZ,SACE,sBAAM9B,EAAG,EAAG8B,EAAG,EAAGI,GAAI,EAAGC,WAAW,QAAQC,KAAK,OAAOH,UAAU,aAAlE,SACGF,EAAQnF,c,GAPcyF,iBAwRlBsS,OA1Qf,WAGI,IAAI1b,EAAW,IAAIC,KACnBD,EAASE,QAAQF,EAASG,UAAU,GACpC,IAiEIwb,EAmFAC,EApJJ,EAAkCnnB,mBAAS,IAAIwL,MAA/C,mBAAO2a,EAAP,KAAkBC,EAAlB,KACA,EAA8BpmB,mBAASuL,GAAvC,mBAAO8a,EAAP,KAAgBC,EAAhB,KACA,EAA8BtmB,oBAAS,GAAvC,mBAAOgV,EAAP,KAAgBC,EAAhB,KACA,EAAsCjV,oBAAS,GAA/C,mBAAoBonB,GAApB,WACA,EAA0BpnB,mBAAS,IAAnC,mBAAOkL,EAAP,KAAcC,EAAd,KACA,EAAkCnL,mBAAS,GAA3C,mBAAOqnB,EAAP,KAAkBC,EAAlB,KAKMtjB,EAAcC,eAAeC,QAAQ,SACrC6G,EAAYjJ,KAAKsC,MAAMJ,GAGvBwG,EAAiB,CACnB,OAAUO,EAAUlF,OACpB,SAAakF,EAAU1G,UAE3B,EAAoCrE,mBAASwK,GAA7C,mBAAOC,EAAP,KAAmB0P,EAAnB,KAEA,EAAwBna,mBAAS,IAAjC,mBAAOU,EAAP,KAAa6mB,EAAb,KACA,EAAgCvnB,mBAAS,IAAzC,mBAAO8U,EAAP,KAAiBC,EAAjB,KAqJF,OAlJEhU,qBAAU,WAERkU,GAAW,GACXmS,GAAe,GACf,IAAIZ,EAAQ5Y,IAAOuY,GAAWtY,OAAO,uBACjC4Y,EAAQ7Y,IAAOyY,GAASxY,OAAO,wBAzDzC,SAAsBsY,EAAWE,EAAS5b,GACxC,OAAOjL,MAAM,kBAAkB2mB,EAAU,IAAIE,EAAQ,IAAI5b,GACtDhL,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,WAyDjB6nB,CAAahB,EAAOC,EAAOhc,EAAWC,QAAQjL,MAAK,SAAAgoB,GACjDF,EAAQE,GACRxS,GAAW,MAzDnB,SAA0BkR,EAAWE,GACnC,OAAO7mB,MAAM,sBAAsB2mB,EAAU,IAAIE,GAC9C5mB,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,UA0DjB+nB,CAAiBlB,EAAOC,GAAOhnB,MAAK,SAAAgoB,GAClC1S,EAAY0S,GACZL,GAAe,MAGjBze,IACClJ,MAAK,SAAAyL,GACFC,EAASD,MAGE,IAAZmc,GACD1d,SAAS2G,eAAe,kBAAkBlG,QAE7B,IAAZid,GACD1d,SAAS2G,eAAe,kBAAkBlG,QAE7B,IAAZid,GACD1d,SAAS2G,eAAe,kBAAkBlG,QAG5C0F,QAAQC,IAAI+E,KACX,CAACqR,EAAWE,EAAS5b,IAST,IAAZ4c,EACDH,EAAgB,sBAAKzkB,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SAEE,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,KAAMC,OAAQ,IAAKpC,KAAMA,EAA1C,UACE,cAAC2U,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,IAAK0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MAC1D,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IAEA,cAACE,GAAA,EAAD,CAAKL,QAAQ,cAAcb,KAAK,UAAUmB,WAAY,KACtD,cAACD,GAAA,EAAD,CAAKL,QAAQ,WAAWb,KAAK,UAAUmB,WAAY,UAG3D,qBAAKpT,UAAU,kBAAf,SACA,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,IAAKC,OAAQ,IAAKpC,KAAMoU,EAAzC,UACQ,cAACO,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,IAAK0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MAC1D,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IAEA,cAACE,GAAA,EAAD,CAAKL,QAAQ,iBAAiBb,KAAK,UAAUmB,WAAY,KACzD,cAACD,GAAA,EAAD,CAAKL,QAAQ,cAAcb,KAAK,UAAUmB,WAAY,aAKvD,IAAZwR,EACTH,EAAgB,sBAAKzkB,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,KAAMC,OAAQ,IAAKpC,KAAMA,EAA1C,UACE,cAAC2U,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,IAAK0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MAC1D,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IAEA,cAACE,GAAA,EAAD,CAAKL,QAAQ,WAAWb,KAAK,UAAUmB,WAAY,UAG3D,qBAAKpT,UAAU,kBAAf,SACA,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,IAAKC,OAAQ,IAAKpC,KAAMoU,EAAzC,UACQ,cAACO,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,GAAI0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MACzD,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IAGA,cAACE,GAAA,EAAD,CAAKL,QAAQ,cAAcb,KAAK,UAAUmB,WAAY,aAKvD,IAAZwR,IACTH,EACY,sBAAKzkB,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SAEE,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,KAAMC,OAAQ,IAAKpC,KAAMA,EAA1C,UACE,cAAC2U,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,IAAK0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MAC1D,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IAEA,cAACE,GAAA,EAAD,CAAKL,QAAQ,cAAcb,KAAK,UAAUmB,WAAY,UAK1D,qBAAKpT,UAAU,kBAAf,SACI,eAAC2S,GAAA,EAAD,CAAUvS,MAAO,IAAKC,OAAQ,IAAKpC,KAAMoU,EAAzC,UACE,cAACO,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,WAAWzS,OAAQ,GAAI0S,SAAU,EAAGC,KAAM,cAAC,GAAD,MACzD,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IACA,cAACE,GAAA,EAAD,CAAKL,QAAQ,iBAAiBb,KAAK,UAAUmB,WAAY,cAa3EsR,GAFS,IAAVnS,EACgB,IAAdtU,EAAKgS,OACQ,qBAAKjQ,UAAU,yBAAf,SACE,8DAGFykB,EAKhB,qBAAKzkB,UAAU,yBAAf,SACE,cAAC,KAAD,CAAUyS,MAAM,UAAUpS,OAAQ,IAAKD,MAAO,IAAKsS,SAAS,cAQhE,sBAAK/S,MAAM,cAAX,UACI,sBAAKK,UAAU,YAAf,UACE,oBAAIL,MAAM,iCAAV,wBAEE,qBAAKA,MAAM,YAAX,SACA,cAAC,IAAD,CACE0P,SAAUqU,EACVhV,SAAU,SAACY,GACTqU,EAAarU,IAEf4U,cAAY,EACZR,UAAWA,EACXE,QAASA,EACTrU,WAAa,iBAIf,qBAAK5P,MAAM,YAAX,SACA,cAAC,IAAD,CACE0P,SAAUuU,EACVlV,SAAU,SAACY,GACTuU,EAAWvU,IAEb6U,YAAU,EACVT,UAAWA,EACXE,QAASA,EACTQ,QAASV,EACTnU,WAAa,iBAKf,sBAAKvP,UAAU,cAAf,UACE,cAACmO,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,UACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG+Y,EAAa,MAE/B,cAAC1W,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,QACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG+Y,EAAa,MAE/B,cAAC1W,EAAA,EAAKsB,MAAN,CACEC,QAAM,EACNC,MAAM,OACN9O,KAAK,QACLH,KAAK,SACLyF,GAAI,iBACJuI,SAAY,SAAA5C,GAAC,OAAG+Y,EAAa,SAIjC,qBAAK7kB,UAAU,mBAAf,SAEE,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOhE,EAAM/G,SACnCgN,SAAY,SAAA5C,GACV,IAAIoZ,EAAK7lB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAC7BiL,EAAcwN,IAHpB,UAKE,wBAAQzY,MAAQpN,KAAKC,UAAUyI,GAA/B,SAAiDA,EAAerG,WAE9D+G,EAAMmG,KAAI,SAAC7J,EAAM+J,GACf,OAAG/J,EAAKrD,WAAWqG,EAAerG,SACzB,wBAAoB+K,MAAOpN,KAAKC,UAAUyF,GAA1C,SAAkDA,EAAKrD,UAA1CoN,GAEV,QAGhB,wBAAQrC,MAAOpN,KAAKC,UA3Lf,CACf,SAAY,OACZ,OAAU,MAyLA,+BAQPolB,M,6BChQMS,OA9Bf,WAII,OACA,eAAC,KAAD,CAAYC,WAAW,KAAvB,UACE,cAAC,KAAD,UACE,eAAC,KAAD,CAAMC,UAAU,SAAhB,UAGA,eAAC,KAAD,CAAUC,KAAM,cAAC,KAAD,IAAhB,uBAEA,cAAC,IAAD,CAAMzjB,GAAG,gBAET,eAAC,KAAD,CAAUyjB,KAAM,cAAC,KAAD,IAAhB,yBAEA,cAAC,IAAD,CAAMzjB,GAAG,uBAET,eAAC,KAAD,CAAUyjB,KAAM,cAAC,KAAD,IAAhB,qBAEA,cAAC,IAAD,CAAMzjB,GAAG,8BAIX,qBAAK1B,MAAO,CAACE,OAAQ,OAAQuP,QAAS,gB,6BCzBtC2V,GAAc,SAACC,EAAWC,EAAQC,GAGhC,IARkBhC,EAAWE,EAQzB+B,EAAO,IAAI5c,KACX6c,EAASD,EAAK1c,UAAUyc,EAAWC,EAAKE,SAAS,EAEjD9B,EAAQ5Y,IAAOwa,EAAK3c,QAAQ4c,IAAQxa,OAAO,uBAI3C0a,EAAS,CACTC,KAFO5a,IAAOwa,GAAMva,OAAO,SAG3B4a,QAAS,EACTC,OAAQ,EACRC,QAAS,EACTC,KAAM,EACNC,MAAO,GA4Bf,OAjDsB1C,EAwBLK,EAvBVhnB,MAAM,2BAA2B2mB,EAAU,IAAIE,GACrD5mB,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,WAsBKF,MAAK,SAAA+P,GACzBA,EAAI6B,KAAI,SAACiB,GAEW,YAAbA,EAAEnO,SACDokB,EAAOE,QAAUnW,EAAEwW,MAED,WAAbxW,EAAEnO,SACPokB,EAAOG,OAASpW,EAAEwW,MAED,YAAbxW,EAAEnO,SACNokB,EAAOI,QAAUrW,EAAEwW,MAEF,UAAbxW,EAAEnO,SACNokB,EAAOM,MAAQvW,EAAEwW,MAEA,SAAbxW,EAAEnO,WACNokB,EAAOK,KAAOtW,EAAEwW,aAM5Bb,EAAUtmB,KAAK4mB,GAGRN,GAIsBtT,gBAyElBoU,OA3Df,WAEI,IAoBI5B,EApBJ,EAAmCnnB,mBAAS,IAA5C,mBAAOgpB,EAAP,KAAkBC,EAAlB,KACA,EAA+BjpB,oBAAS,GAAxC,mBAAOgV,EAAP,KAAgBC,EAAhB,KA8CA,OA5CAlU,qBAAU,WACNkU,GAAW,GAIX,IAHA,IAAIvU,EAAO,GACPwoB,EAAY,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAE3C3W,EAAE,EAAGA,EAAE2W,EAAUxW,OAAQH,IAE7B0W,EAAajB,GAAYtnB,EAAM6R,EAAK2W,EAAU3W,KAKlDvR,YAAW,WACPiU,GAAW,KACV,OACN,IAMGkS,GAFO,IAAVnS,EAEiB,cAACmU,GAAA,EAAD,CAAqBtmB,MAAM,OAAOC,OAAO,OAAzC,SACA,eAACsS,GAAA,EAAD,CAAUvS,MAAO,KAAMC,OAAQ,IAAKpC,KAAMsoB,EAA1C,UACI,cAAC3T,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAOC,QAAQ,OAAOzS,OAAQ,GAAI0S,SAAU,EAAIpD,MAAO,CAAElD,MAAO,oBAAqByG,MAAO,EAAG1L,SAAU,iBACzG,cAACyL,GAAA,EAAD,CAAQtD,MAAO,CAAElD,MAAO,QAASyG,OAAQ,GAAI1L,SAAU,gBACvD,cAAC,KAAD,IACA,cAACmf,GAAA,EAAD,IACI,cAACxT,GAAA,EAAD,CAAKL,QAAQ,UAAUb,KAAK,YAC5B,cAACkB,GAAA,EAAD,CAAKL,QAAQ,SAASb,KAAK,YAC3B,cAACkB,GAAA,EAAD,CAAKL,QAAQ,UAAUb,KAAK,YAC5B,cAACkB,GAAA,EAAD,CAAKL,QAAQ,QAAQb,KAAK,YAC1B,cAACkB,GAAA,EAAD,CAAKL,QAAQ,OAAOb,KAAK,iBAMjD,qBAAKjS,UAAU,yBAAf,SACE,cAAC,KAAD,CAAUyS,MAAM,UAAUpS,OAAQ,IAAKD,MAAO,IAAKsS,SAAS,cAM9D,qBAAK1S,UAAU,OAAf,SAEK0kB,KCtGEkC,OApBf,WAEI,OADA1f,SAASgQ,MAAQ,wBAEb,qBAAKlX,UAAU,UAAf,SAEE,eAAC,IAAD,WACE,cAAC,GAAD,IACA,eAAC,IAAD,WAEE,cAAC,IAAD,CAAO6mB,KAAK,WAAWC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAOF,KAAK,kBAAkBC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OACrD,cAAC,IAAD,CAAOF,KAAK,oBAAoBC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,gBCM/DC,GAAe,SAACC,GAClB,OAAOlqB,MAAM,iBAAmBkqB,GAAMjqB,MAAK,SAAAC,GACzC,OAAOA,EAASC,WAIhBgqB,GAAe,WACjB,OAAOnqB,MAAM,iBAAiBC,MAAK,SAAAC,GACjC,OAAOA,EAASC,WAehBJ,GAAW,SAAC+R,GAChB,OAAO9R,MAAM,kBAAmB8R,GAAU7R,MAAK,SAAAC,GAC7C,OAAOA,EAASC,WA8BZiqB,GAAe,SAACC,EAAQ/X,GAE5B,IAAIgY,EAAe,GACnBpW,OAAOC,KAAK7B,GAAUxD,SAAQ,SAASsF,GAEnCkW,EAAanoB,KAAKiS,MAnBF,SAACpF,EAASqb,GAC9B,IAAMxgB,EAASvH,KAAKC,UAAUyM,GAExBxJ,EAAiB,CACrBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBoE,QAASkD,EACT0gB,OAAQF,KAGLrqB,MAAM,iBAAkBwF,GAW/BglB,CAAcF,EAAcD,IAyQjBI,OAtQf,WACEtgB,SAASgQ,MAAQ,uBAEf,MAAkC3Z,mBAAS,IAA3C,mBAAOkqB,EAAP,KAAkBC,EAAlB,KACA,EAA8CnqB,mBAAS,IAAvD,mBAAOslB,EAAP,KAAwB8E,EAAxB,KACA,EAAkCpqB,mBAAS,IAA3C,mBAAOwI,EAAP,KAAkByC,EAAlB,KACA,EAA0BjL,qBAA1B,mBAAOY,EAAP,KAAcD,EAAd,KAIAI,qBAAU,WACN,IAAIqK,GAAU,EAiDd,OA9CU,GACNqe,GAAa3nB,KAAKsC,MAAMxC,aAAasC,QAAQ,uBAAuBiD,cAAc1H,MAAK,SAACiB,GACnF0K,GACC+e,EAAazpB,MAIrBipB,KACKlqB,MAAK,SAAA+I,GACD4C,GACDH,EAAazC,MAInBjJ,GAASuC,KAAKsC,MAAMxC,aAAasC,QAAQ,uBAAuBiD,cAAc1H,MAAK,SAAC6S,GAElF3R,EAAS2R,EAAE,GAAG,QAMlB8X,EAAmBtoB,KAAKsC,MAAMxC,aAAasC,QAAQ,wBACrC,IAGZulB,GAAanE,EAAgBne,cAAc1H,MAAK,SAACiB,GAC5C0K,GACC+e,EAAazpB,MAInBipB,KACKlqB,MAAK,SAAA+I,GACD4C,GACDH,EAAazC,MAIrBjJ,GAAS+lB,EAAgBne,cAAc1H,MAAK,SAAC6S,GAEzC3R,EAAS2R,EAAE,GAAG,SAKf,kBAAMlH,GAAU,KAExB,CAACka,IAEJ,IAAM+E,EAAa,SAAC/Y,GAElBmY,GAAanY,EAASnK,cAAc1H,MAAK,SAACiB,GAChCypB,EAAazpB,MAGvBnB,GAAS+R,EAASnK,cAAc1H,MAAK,SAAC6S,GAElC3R,EAAS2R,EAAE,GAAG,KACC,IAAXA,EAAE,GAAG,KACP8X,EAAmBxQ,OAMrB1W,EAAU,CACZ,CAACC,KAAM,gBAAiBC,OAAQ,WAAYE,KAAM,SAAUD,YAAa,GACzE,CAACF,KAAM,UAAWC,OAAQ,UAAWE,KAAM,SAAUD,YAAa,GAElE,CAACF,KAAM,YAAaC,OAAQ,aAAcE,KAAM,SAAUD,YAAa,EACnE8a,KAAM,SAAC9V,EAAG+V,GAIN,OAHA/V,EAAIuF,IAAOvF,EAAG,wBAAwB,GAAMwF,SAC5CuQ,EAAIxQ,IAAOwQ,EAAG,wBAAwB,GAAMvQ,SAErC,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGtC,CAACjb,KAAM,aAAcC,OAAQ,cAAeE,KAAM,SAAUD,YAAa,EACrE8a,KAAM,SAAC9V,EAAG+V,GAIN,OAHA/V,EAAIuF,IAAOvF,EAAG,wBAAwB,GAAMwF,SAC5CuQ,EAAIxQ,IAAOwQ,EAAG,wBAAwB,GAAMvQ,SAErC,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,MAS5C,EAAgCpe,mBAAS,IAAzC,mBAAO8R,EAAP,KAAiB+I,EAAjB,KAEQmD,EAAoB3c,uBAAY,YAAmB,IAAhByQ,EAAe,EAAfA,UACvB,IAAXA,GACD+I,EAAY/I,KAMb,IAEL,EAAoC9R,oBAAS,GAA7C,mBAAOqe,EAAP,KAAmBC,EAAnB,KACMC,EAAoB,WACxBD,GAAc,GACdzD,EAAY,IACZ7Z,YAAW,WACTqpB,EAAW/E,GACXqE,KACGlqB,MAAK,SAAA+I,GACFyC,EAAazC,QAElB,MAwBH+K,GAAiB,EAGnBA,EAFCzR,KAAKC,UAAU+P,GAAUY,OAAO,EASnC,IAAMkH,EAAe,CACnBzS,aAAc,EACdmjB,cAAe,aACfC,WAAY,GAGZ,OACI,qCACA,sBAAK9nB,UAAU,SAAf,UACA,sBAAKA,UAAU,UAAf,UAEA,sBAAKA,UAAU,aAAf,UACE,gDAAmB7B,KACnB,cAACqP,EAAA,EAAD,CAAkCC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,cAAZ,kCAFN,SAOF,cAACyH,EAAA,EAAD,CAAQzM,QAAS,YACfvB,QAAS,WACPic,GAAc,IAEhB9K,SAAUD,EACV9Q,UAAU,sBALZ,SAOM,cAAC,KAAD,OAdgB,kBAmBtB,qBAAKA,UAAU,aAAf,SACE,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAUujB,GAC1CnU,SAAY,SAAA5C,GACR6b,EAAmBtoB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,QAEvCmb,EAAWvoB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,SAJzC,UAMI,wBAAQA,MAAOpN,KAAKC,UAAU6X,GAA9B,SAA8CA,EAAa0Q,gBAEvD9hB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASgZ,eAAlD/Y,cAU5B,cAAC,IAAD,CACEtO,WAAW,UACXC,QAASA,EACTK,WAAY2mB,EACZtnB,MApHM,CAAEE,OAAQ,QAqHhBY,MApHE,eAqHFoO,SAAUA,EACV8P,gBAAc,EACd5D,kBAAmBA,EACnBgF,UAAU,OAWlB,eAACzS,EAAA,EAAD,CAAOpQ,KAAMke,EAAY7N,OAAQ+N,EAAjC,UACI,cAAChO,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,cAACH,EAAA,EAAMI,MAAP,4BAEF,cAACJ,EAAA,EAAMvN,KAAP,2DACA,eAACuN,EAAA,EAAM/L,OAAP,WACE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASkc,EAArC,oBAGA,cAAClO,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAAU,WAClCunB,GAAa,IAAK9X,GAClByM,KAFF,sBAMA,cAAClO,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAAU,WAClCunB,GAAa,IAAK9X,GAClByM,KAFF,iC,OC/GCiM,OAtKf,SAAqBzqB,GAGnB,IAAMiE,EAAcC,eAAeC,QAAQ,SAErCC,EADYrC,KAAKsC,MAAMJ,GACFK,SAGvBomB,GAAa,EACY,OAA1B1qB,EAAM2qB,QAAQC,YACfF,GAAa,GAIb,MAAwBzqB,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAEA,EAA8BJ,mBAAS,IAAvC,mBAAO4qB,EAAP,KAAgBC,EAAhB,KACA,EAA8B7qB,mBAAS,IAAvC,mBAAOwO,EAAP,KAAgBwV,EAAhB,KACA,EAAsBhkB,mBAAS,IAA/B,mBAAO8qB,EAAP,KAAYC,EAAZ,KACA,EAA8B/qB,mBAAS,IAAvC,mBAAOgrB,EAAP,KAAgBC,EAAhB,KAEMrO,EAAa,WACjBxc,GAAQ,GACRyqB,EAAW,IACX7G,EAAW,IACX+G,EAAO,IACPE,EAAW,KAKP9N,EAAW,WA7EZ3d,MAAM,gBAAgBC,MAAK,SAAAC,GAChC,OAAOA,EAASC,UA6EAF,MAAK,SAAAmJ,IAzEzB,SAAyBvE,EAAUumB,EAASM,GAC1C,IAAMlmB,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBoC,SAAUE,EACV8mB,QAASP,EACTD,UAAWO,KAGf,OAAO1rB,MAAM,oBAAqBwF,IAiE5BomB,CAAgBjnB,EAAUymB,EAAS7qB,EAAM2qB,QAAQC,WAAWlrB,MAAM,YA7D1E,SAAyB4rB,EAAU7c,EAASwc,GAC1C,IAAMhmB,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBupB,SAAUD,EACVllB,QAASqI,EACT+c,QAASP,KAGb,OAAOxrB,MAAM,oBAAqBwF,IAoD1BwmB,CAAgB5iB,EAAG,GAAG,IAAK4F,EAASwc,GAASvrB,MAAM,YAhD7D,SAAsB4rB,EAAUP,GAC9B,IAAM9lB,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACnBupB,SAAUD,EACVI,IAAKX,KAGT,OAAOtrB,MAAM,iBAAkBwF,IAwCrB0mB,CAAa9iB,EAAG,GAAG,IAAKkiB,GAAKrrB,MAAM,WACjCM,EAAM4rB,OAAO5rB,EAAM2qB,qBAM3B9N,KAIF,OACI,qCACA,cAAC3M,EAAA,EAAD,CAAiCC,UAAU,SACzCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,qBAAZ,yBAFJ,SAOA,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,GAC5CpB,QAAU,WACPjC,GAAQ,GACRY,YAAW,WACT2I,SAAS2G,eAAe,mBAAmBjB,UAC1C,KAEL5M,UAAU,qBACV+Q,SAAUiX,EARV,SAUG,cAAC,KAAD,OAjBiB,cAsBpB,eAACla,EAAA,EAAD,CAAOpQ,KAAMA,EAAMqQ,OAAQoM,EAAanM,KAAK,KAA7C,UACA,cAACF,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,eAACH,EAAA,EAAMI,MAAP,4BAA4B5Q,EAAM2qB,QAAQkB,YAA1C,SAEF,cAACrb,EAAA,EAAMvN,KAAP,UAGE,eAAC4N,EAAA,EAAD,WACA,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKc,GAAI,EAAT,SACE,4CAEF,cAACd,EAAA,EAAD,UACE,cAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,kBAAvC,SACE,cAACJ,EAAA,EAAKK,QAAN,CACArO,MAAO,CAACyP,QAAQ,UAChB5B,KAAK,KACLS,GAAG,WACHO,KAAM,EACNnO,KAAK,OACL4L,MAAO0b,EACPzZ,SAAY,SAAA5C,GAAC,OAAGsc,EAAWtc,EAAE6C,OAAOlC,QACpC8B,UAAU,2BAMhB,cAACH,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,kBAAvC,UACE,8CACA,cAACJ,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,oBACZxC,MAAOV,EACP2C,SAAY,SAAA5C,GAAC,OAAGyV,EAAWzV,EAAE6C,OAAOlC,QACpC5L,KAAK,OACLmN,KAAK,cAKb,cAACI,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,gBAAvC,UACE,sCACA,cAACJ,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,aACZxC,MAAO4b,EACP3Z,SAAY,SAAA5C,GAAC,OAAGwc,EAAOxc,EAAE6C,OAAOlC,QAChC5L,KAAK,OACLmN,KAAK,cAKb,cAACI,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,gBAAvC,UACE,0CACA,cAACJ,EAAA,EAAKK,QAAN,CACEC,GAAG,WACHO,KAAM,EACNC,YAAY,iBACZxC,MAAO8b,EACP7Z,SAAY,SAAA5C,GAAC,OAAG0c,EAAW1c,EAAE6C,OAAOlC,QACpC5L,KAAK,OACLmN,KAAK,mBAQf,eAACF,EAAA,EAAM/L,OAAP,WACE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,YAAYvB,QAASua,EAArC,mBAGA,cAACvM,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAAS,WACjC8a,IACAP,KAFF,sCCtMJiP,GAAoB,SAACjjB,GACvB,OAAOpJ,MAAM,sBAAwBoJ,GAAInJ,MAAK,SAAAC,GAC5C,OAAOA,EAASC,WAwHPmsB,OA5Gf,WACIniB,SAASgQ,MAAQ,yBAEjB,IAAMoS,EAAa,CACfC,YAAa,GACbrB,UAAW,KACXiB,YAAa,mBACbK,WAAY,IAGhB,EAAoCjsB,mBAAS,IAA7C,mBAAOuD,EAAP,KAAmBwW,EAAnB,KACA,EAA4C/Z,mBAAS+rB,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAAgCnsB,mBAAS,IAAzC,mBAAOosB,EAAP,KAAiBC,EAAjB,KAkBAtrB,qBAAU,WACN,IAAIqK,GAAU,EAOd,OA7CG5L,MAAM,sBAAsBC,MAAK,SAAAC,GACtC,OAAOA,EAASC,UAuCMF,MAAK,SAACiB,GACnB0K,GACCihB,EAAY3rB,MAGb,kBAAM0K,GAAU,KAExB,IAEH,IAAMlI,EAAU,CACZ,CAACC,KAAM,WAAYC,OAAQ,OAAQE,KAAM,SAAUD,YAAa,EAC5D8a,KAAM,SAAC9V,EAAG+V,GAIN,OAHA/V,EAAIuF,IAAOvF,EAAG,cAAc,GAAMwF,SAClCuQ,EAAIxQ,IAAOwQ,EAAG,cAAc,GAAMvQ,SAE3B,IAAIrC,KAAKnD,GAAK,IAAImD,KAAK4S,KAGtC,CAACjb,KAAM,UAAWC,OAAQ,UAAWE,KAAM,SAAUD,YAAa,GAClE,CAACF,KAAM,WAAYC,OAAQ,OAAQE,KAAM,SAAWD,YAAa,GACjE,CAACF,KAAM,aAAcC,OAAQ,cAAeE,KAAM,SAAU4a,SAAS,KAAO7a,YAAa,IAM7F,OACI,mCACA,sBAAKZ,UAAU,WAAf,UACI,eAACoO,EAAA,EAAD,CAAKJ,KAAK,KAAV,UACI,cAACK,EAAA,EAAD,UACI,cAAC,GAAD,CAAY4Z,QAASwB,EAAgBP,OA1ClC,SAACjB,GAEhBmB,GAAkBnB,EAAQC,WAAWlrB,MAAK,SAACiB,GACnCqZ,EAAcrZ,WAyCd,cAACoQ,EAAA,EAAD,UACA,6BAAKob,EAAeN,gBAEpB,cAAC9a,EAAA,EAAD,UACA,oBAAIrO,UAAU,aAAd,SAA2B,mBAAG6pB,KAAMJ,EAAeD,WAAxB,SAAqCC,EAAeD,iBAE/E,cAACnb,EAAA,EAAD,IAEA,cAACA,EAAA,EAAD,UACI,eAACF,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAShC,MAAOpN,KAAKC,UAAUmqB,GAAiBtpB,MAAO,CAAEyP,QAAQ,SAAU5O,OAAO,EAAGZ,MAAM,KACxGsO,SAAY,SAAA5C,GA7DT,IAACmc,EA8DAyB,EAAkBrqB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,QA9DtCwb,EAgEe5oB,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OA/DvD2c,GAAkBnB,EAAQC,WAAWlrB,MAAK,SAACiB,GACnCqZ,EAAcrZ,OA0DV,UAMI,wBAAgBwO,MAAOpN,KAAKC,UAAUgqB,GAAtC,SAAoDA,EAAWH,aAAlD,GAEXQ,EAAS/a,KAAI,SAACqZ,EAASnZ,GACnB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAU2oB,GAA1C,SAAqDA,EAAQkB,aAAhDra,cAMtC,cAACV,EAAA,EAAD,UACI,cAAC,IAAD,CACI5N,WAAW,KACXC,QAASA,EACTK,WAAYA,EACZX,MAxCE,CAAEY,UAAU,IAAKC,OAAO,IAyC1BC,MAxCF,eAyCEsf,UAAU,Y,qDCrH9B,8BAAA3a,EAAA,sEAC2B7I,MAAM,oBADjC,cACUE,EADV,gBAE4BA,EAASC,OAFrC,cAEU6I,EAFV,yBAGWA,GAHX,4C,sBAMA,IAiVe+jB,GA9SE1sB,IAAMC,MAAK,SAAAC,GACxB,MAAwBC,oBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAwBJ,mBAASD,EAAMyS,MAAvC,mBAAOA,EAAP,KAAaga,EAAb,KACA,EAAkCxsB,mBAAS,IAA3C,mBAAOwI,EAAP,KAAkByC,EAAlB,KAMM2R,EAAc,WAChBxc,GAAQ,GACRosB,EAAQzsB,EAAMyS,OAuBlB,OATAzR,qBAAU,WACNyrB,EAAQzsB,EAAMyS,M,2CAEdjK,GACK9I,MAAK,SAAA+I,GACFyC,EAAazC,QAEtB,IAGC,qCAEA,cAACyH,EAAA,EAAD,CAAgCC,UAAU,SACxCC,QACE,cAACC,EAAA,EAAD,CAASxH,GAAG,oBAAZ,4BAFJ,SAOE,cAACyH,EAAA,EAAD,CAAQzM,QAAQ,YAAYhB,MAAO,CAACa,OAAO,OAC9CpB,QAAU,WAvCTjC,GAAQ,IA2CRqC,UAAU,qBALR,SAQF,cAAC,KAAD,OAfoB,aAoBpB,eAAC8N,EAAA,EAAD,CAAOpQ,KAAMA,EAAMqQ,OAAQoM,EAA3B,UACF,cAACrM,EAAA,EAAMxN,OAAP,CAAc2N,aAAW,EAAzB,SACE,cAACH,EAAA,EAAMI,MAAP,0CAEA,cAACJ,EAAA,EAAMvN,KAAP,UACI,sBAAKP,UAAU,gBAAf,UACA,sBAAKA,UAAU,WAAf,UACA,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAUtO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACxD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASM,2BAEAsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAM9B,sBAAK9O,UAAU,WAAf,UACA,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASQ,2BAEFsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASQ,2BAEFsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASE,2BAEIsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UAUI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,oBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,EACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,cAKxB,sBAAK9O,UAAU,WAAf,UACN,qBAAKA,UAAU,WAAf,SACA,cAACmO,EAAA,EAAKiB,MAAN,qBAEA,qBAAKpP,UAAU,YAAf,SACA,eAACmO,EAAA,EAAKK,QAAN,CAAcC,GAAG,SAAStO,MAAO,CAACyP,QAAQ,SAAU5O,OAAO,GACvD0N,SAAY,SAAA5C,GACR,IAAIW,EAAQpN,KAAKsC,MAAMmK,EAAE6C,OAAOlC,OAChCsD,EAAK,GAAK,CACNia,mBAAqB,GACrB7R,cAAgB1L,EAAM0L,cACtB0P,cAAgBpb,EAAMhI,eANlC,UASI,2BAEEsB,EAAU6I,KAAI,SAACC,EAAUC,GACrB,OAAO,wBAAoBrC,MAAOpN,KAAKC,UAAUuP,GAA1C,SAAsDA,EAASpK,cAAlDqK,mBAQlC,cAAChB,EAAA,EAAM/L,OAAP,UAIE,cAAC6L,EAAA,EAAD,CAAQzM,QAAQ,UAAUvB,QAtRf,WACbua,IA5CGpd,MAAM,qBALU,CACnByF,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAiDPzF,MAAK,YA3CN,SAAC+S,GAKxB,IAAMxN,EAAiB,CACnBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMrD,KAAKC,UAAU,CACjB2qB,IAAKla,EAAK,GAAGoI,cACb+R,IAAKna,EAAK,GAAGoI,cACbgS,MAAOpa,EAAK,GAAGoI,cACfiS,KAAMra,EAAK,GAAGoI,cACdkS,KAAMta,EAAK,GAAGoI,cACdmS,IAAKva,EAAK,GAAGoI,cACboS,MAAOxa,EAAK,GAAGoI,cACfqS,MAAOza,EAAK,GAAGoI,cACfsS,KAAM1a,EAAK,GAAGoI,cACduS,IAAK3a,EAAK,GAAGoI,iBAKnB,OAAOpb,MAAM,sBAAuBwF,IAqB9BooB,CAAmB5a,GAAM/S,MAAK,WAC1BM,EAAMoR,kBAiRZ,qCCvUJkc,GAAiB,WACnB,OAAO7tB,MAAM,4BAA4BC,MAAK,SAAAC,GAC5C,OAAOA,EAASC,WA8FP2tB,OAzFf,WAEI,MAAsDttB,mBAAS,IAA/D,mBAAOutB,EAAP,KAA4BC,EAA5B,KACA,EAAkDxtB,mBAAS,IAA3D,mBAAOytB,EAAP,KAA0BC,EAA1B,KACA,EAA8B1tB,oBAAS,GAAvC,mBAAOgV,EAAP,KAAgBC,EAAhB,KAGM0Y,EAAY,CAAEnqB,UAAU,IAAKC,OAAO,IAY1C1C,qBAAU,WACNkU,GAAW,GA/BRzV,MAAM,2BAA2BC,MAAK,SAAAC,GAC3C,OAAOA,EAASC,UA+BEF,MAAK,SAAAiB,GACjB8sB,EAAuB9sB,MAE3B2sB,KAAiB5tB,MAAK,SAAAiB,GAClBgtB,EAAqBhtB,GACrBuU,GAAW,QAGhB,IAGH,IAAMjR,EAAcC,eAAeC,QAAQ,SAGrCY,EAFYhD,KAAKsC,MAAMJ,GAEJ6B,OAUrB+nB,EAAU,wBAOd,OANY,IAAT9oB,EAAsB,IAATA,EAAsB,IAATA,IACzBgL,QAAQC,IAAI0d,IACC,IAAVzY,IACC4Y,EAAU,cAAC,GAAD,CAAUpb,KAAMib,EAAmBtc,SAZtC,WACX8D,GAAW,GACXoY,KAAiB5tB,MAAK,SAAAiB,GAClBgtB,EAAqBhtB,GACrBuU,GAAW,WAYf,mCACA,sBAAKxS,UAAU,UAAf,UACI,qBAAKA,UAAU,UAAf,SAEQmrB,IAGR,sBAAKnrB,UAAU,QAAf,UACI,sBAAKA,UAAU,gBAAf,UACA,oBAAIL,MAAM,iCAAV,4BACI,cAAC,IAAD,CACAa,WAAW,gBACXC,QAnDQ,CACpB,CAACC,KAAM,qBAAsBC,OAAQ,IAAKE,KAAM,SAAUD,YAAa,GACvE,CAACF,KAAM,gBAAiBC,OAAQ,WAAYE,KAAM,SAAUD,YAAa,IAkD7DE,WAAYkqB,EACZ7qB,MAAO+qB,EACPjqB,MAAO,oBAGX,sBAAKjB,UAAU,gBAAf,UACA,oBAAIL,MAAM,iCAAV,iDACI,cAAC,IAAD,CACAa,WAAW,eACXC,QAlEO,CACnB,CAACC,KAAM,gBAAiBC,OAAQ,WAAYE,KAAM,SAAUD,YAAa,GACzE,CAACF,KAAM,cAAeC,OAAQ,iBAAkBE,KAAM,SAAUD,YAAa,IAiEjEE,WAAYgqB,EACZ3qB,MAAO+qB,EACPjqB,MAAO,6B,WCrGZ,OAA0B,mC,SCa1BmqB,G,iFAAf,WAAyBC,GAAzB,SAAAzlB,EAAA,+EACS7I,MAAM,SAAU,CACrByF,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMrD,KAAKC,UAAU+rB,KAEpBruB,MAAK,SAAAiB,GAAI,OAAIA,EAAKf,WARvB,4C,sBAWe,SAASouB,GAAT,GAA8B,IAAbC,EAAY,EAAZA,SAC9BrkB,SAASgQ,MAAQ,sBACjB,MAAgC3Z,mBAAS,IAAzC,mBAAOqE,EAAP,KAAiB4pB,EAAjB,KACA,EAAgCjuB,mBAAS,IAAzC,mBAAOkuB,EAAP,KAAiBC,EAAjB,KAEMC,EAAY,uCAAG,WAAM7f,GAAN,eAAAlG,EAAA,6DACnBgmB,IAGA9f,EAAE+f,iBAJiB,SAKCT,GAAU,CAC1BxpB,WACA6pB,aAPe,OAWF,qBANXK,EALa,QAWVA,MACPpgB,MAAM,6BAEN6f,EAASO,GAdQ,2CAAH,sDAoBZF,EAAe,WAMnB,OAAO7uB,MAAM,iBAJU,CACrByF,OAAQ,MACRC,QAAS,CAAE,eAAgB,uBAK/B,OACE,qCAGA,qBAAKzC,UAAU,aAAf,SAA4B,qBAAK+rB,IAAKC,GAAQC,IAAI,WAClD,sBAAKjsB,UAAU,gBAAf,UACE,sDACA,eAACmO,EAAA,EAAD,WACE,eAACA,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOuO,UAAU,aAAvC,UACE,cAACJ,EAAA,EAAKiB,MAAN,oBACA,cAACjB,EAAA,EAAKK,QAAN,CAAc3N,KAAK,QAAQoO,YAAY,iBAAiBP,SAAU,SAAA5C,GAAC,OAAI0f,EAAY1f,EAAE6C,OAAOlC,aAE9F,eAAC0B,EAAA,EAAKG,MAAN,CAAYtO,UAAU,OAAOksB,WAAW,gBAAxC,UACE,cAAC/d,EAAA,EAAKiB,MAAN,wBACA,cAACjB,EAAA,EAAKK,QAAN,CAAc3N,KAAK,WAAWoO,YAAY,WAAWP,SAAU,SAAA5C,GAAC,OAAI4f,EAAY5f,EAAE6C,OAAOlC,aAE3F,cAACmB,EAAA,EAAD,CAAQzM,QAAQ,YAAYN,KAAK,SAASjB,QAAS+rB,EAAc3rB,UAAU,sBAA3E,0BAMJ,cAAC,EAAD,O,OClCWmsB,OApCf,WAEE,MCVa,WACX,IAMA,EAA0B5uB,mBANT,WACb,IAAMgE,EAAcC,eAAeC,QAAQ,SACrC6G,EAAYjJ,KAAKsC,MAAMJ,GAC7B,cAAO+G,QAAP,IAAOA,OAAP,EAAOA,EAAWwjB,MAGaM,IAAnC,mBAAON,EAAP,KAAcP,EAAd,KAOA,MAAO,CACHA,SANc,SAAAjjB,GACd9G,eAAepC,QAAQ,QAASC,KAAKC,UAAUgJ,IAC/CijB,EAASjjB,EAAUwjB,QAKnBA,SDNsBO,GAApBP,EAAR,EAAQA,MAAOP,EAAf,EAAeA,SASf,OAPGO,GAAiB,oBAARA,IAEVpgB,MAAM,wBACNvM,aAAa2C,WAAW,UAItBgqB,EAOF,qBAAK9rB,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACE,qBAAKA,UAAU,eAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6mB,KAAK,IAAIC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OACvC,cAAC,IAAD,CAAOF,KAAK,WAAWC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAOF,KAAK,WAAWC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAOF,KAAK,YAAYC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAC/C,cAAC,IAAD,CAAOF,KAAK,UAAUC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,OAC7C,cAAC,IAAD,CAAOF,KAAK,aAAaC,OAAK,EAACC,UAAW,kBAAM,cAAC,GAAD,YAGtD,cAAC,EAAD,SAnBG,cAAC,GAAD,CAAOwE,SAAUA,KEVbe,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBxvB,MAAK,YAAkD,IAA/CyvB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF9lB,SAAS2G,eAAe,SAO1Bye,O","file":"static/js/main.4a6cfb84.chunk.js","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\nimport {FaRegBell} from 'react-icons/fa';\r\nimport './alerts.css';\r\n\r\nimport NotificationBadge from 'react-notification-badge';\r\nimport {Effect} from 'react-notification-badge';\r\n\r\nimport Toast from 'react-bootstrap/Toast'\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst returnAlerts = () => {\r\n  return fetch('/returnAlerts').then(response => {\r\n    return response.json()\r\n  });\r\n}\r\n\r\nconst getCount = () => {\r\n  return fetch('/getErrorCount/0').then(response => {\r\n    return response.json()\r\n  });\r\n}\r\n\r\nconst Alerter = React.memo( props => {\r\n\r\n\r\n    const [ countNotification, setCountNotification ] = useState(0);\r\n    const [show, setShow] = useState(false);\r\n    const [showAlert, setShowAlert] = useState(false);\r\n\r\n    const [alerts, setAlerts] = useState([]);\r\n\r\n    const showAlertList = () => {\r\n        //console.log(\"SHOW ME MY ALERTS\");\r\n        returnAlerts().then((data) => {\r\n          setCount(count + 1);\r\n          setAlerts(data);\r\n          setShow(true);\r\n        });\r\n    }\r\n\r\n    const [count, setCount] = useState(0);\r\n    const [errorCount, setErrorCount] = useState();\r\n\r\n    //const [tempName, setTempName] = useState(\"\");\r\n\r\n    \r\n    useEffect(() => {\r\n      if (count === 0) { // condition for checking if the API call being made is initial one or not.\r\n        getCount().then((data) => {\r\n          //console.log(data[0][\"\"]);\r\n          setErrorCount(data[0][\"\"]);\r\n        });\r\n        setCount(count + 1);\r\n\r\n        //returnAlerts().then((data) => {\r\n        //  setCount(count + 1);\r\n        //  setAlerts(data);\r\n        //});\r\n        //console.log(count);\r\n      } else {\r\n        //console.log(count);\r\n        \r\n        setTimeout(() => {\r\n          setCount(count + 1);\r\n          \r\n          getCount().then((data) => {  \r\n            // Check if count has changed\r\n            if(data[0][\"\"]>errorCount && errorCount!==undefined) {\r\n              setErrorCount(data[0][\"\"]);\r\n              // Show popup for new error\r\n              setCountNotification(countNotification+1);\r\n            }\r\n          });\r\n          /* -------- OLD WAY -------- */\r\n              /*\r\n          returnAlerts().then((data) => {\r\n            setCount(count + 1);\r\n            clearTimeout(timer);\r\n            //console.log(test);\r\n\r\n            if(alerts!==[]) {\r\n                            \r\n              //loop through 'alerts', check against data before setting new data as alerts\r\n\r\n              //console.log(data);\r\n              //console.log(alerts.length);\r\n\r\n              if(alerts.length<data.length && count>3){\r\n               \r\n                setTempName(\"New_Customer_in_HQS_ERRORS\"); \r\n                \r\n                setShowAlert(true);\r\n              }\r\n\r\n              for(let i=0; i<alerts.length; i++) {\r\n                for(let j=0; j<data.length; j++) {\r\n                  if(alerts[i].CustomerCode===data[j].CustomerCode){\r\n                    //same customer code\r\n                    if(alerts[i].ErrorCount<data[j].ErrorCount){\r\n                      //alert(\"You have a new error for: \" + data[j].Customer_Name);\r\n                      setTempName(data[j].Customer_Name);\r\n                      //setShowAlert(true);\r\n                      setCountNotification(countNotification+1);\r\n                      \r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            \r\n            }\r\n            */\r\n            \r\n\r\n            //console.log(\"ALERT CHECK\");\r\n            //setAlerts(data);\r\n          //});\r\n        }, 10000);\r\n      }\r\n\r\n      //console.log(alerts);\r\n    }, [count, countNotification, errorCount]);\r\n    \r\n    const theme = 'default-dark';\r\n    const columns = [\r\n      {name: 'Customer_Name', header: 'Company', defaultFlex:2, type: 'string'},\r\n      {name: 'ErrorCount', header: 'Errors', defaultFlex:1, type: 'number'}\r\n    ]\r\n    const gridStyle = { minHeight:250, margin:5 }\r\n    \r\n\r\n    const history = useHistory();\r\n\r\n\r\n    const onRowDoubleClick = useCallback((rowProps) => { \r\n      \r\n      if (window.location.pathname=='/Errors') {\r\n        window.location.reload(false);\r\n      } else {\r\n        history.push(\"/Errors\");\r\n      }\r\n      localStorage.setItem('CustomerErrorCheck', JSON.stringify(rowProps.data));\r\n      setShow(false);\r\n    }, [history]);\r\n\r\n    //Double click to bring up Error List\r\n    const onRenderRow = useCallback((rowProps) => {\r\n      const { onDoubleClick } = rowProps;      \r\n      \r\n      rowProps.onDoubleClick = (event) => {\r\n        onRowDoubleClick(rowProps);\r\n        if (onDoubleClick) {\r\n          onDoubleClick(event);\r\n        }\r\n      };\r\n      \r\n    }, [onRowDoubleClick])\r\n    \r\n    const onRowClick = useCallback((rowProps, event) => {\r\n      //Use this function if single click is needed\r\n    }, [])\r\n\r\n\r\n    \r\n    return(\r\n        <>\r\n        <Link class=\"nav-link\" onClick={() => {\r\n          showAlertList();\r\n          setCountNotification(0);\r\n        }}>\r\n          <NotificationBadge count={countNotification} effect={Effect.SCALE} />\r\n          <FaRegBell />\r\n        </Link>\r\n\r\n\r\n        <div className=\"alerts-toast\">\r\n            <Toast onClose={() => setShow(false)} show={show} style={{width:'330px', height: '330px'}} >\r\n          <Toast.Header>\r\n            <strong className=\"me-auto\">Alerts</strong>\r\n          </Toast.Header>\r\n          <Toast.Body>\r\n          <ReactDataGrid \r\n                idProperty=\"id\"\r\n                columns={columns}\r\n                dataSource={alerts}\r\n                style={gridStyle}\r\n                theme={theme}\r\n                onRenderRow={onRenderRow}\r\n                onRowClick={onRowClick}\r\n              />\r\n          </Toast.Body>\r\n        </Toast> \r\n        </div>\r\n\r\n        { \r\n            showAlert &&   \r\n            <div className={'alert-notification'}>\r\n                <Alert key={1} onClose={() => setShowAlert(false)} variant={'danger'} dismissible closeLabel={'Dismiss'}>\r\n                There is a new error!\r\n                </Alert>\r\n            </div>\r\n        }\r\n        \r\n        </>\r\n    )\r\n})\r\n\r\nexport default Alerter;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\n\r\n\r\nimport './components.css'\r\nimport Alerter from \"./Alerts/Alerter\";\r\n\r\nfunction Navigation(props) {\r\n  const tokenString = sessionStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  const Username = userToken.username;\r\n\r\n  const logout = () => {\r\n    sessionStorage.removeItem('token');\r\n    window.location.reload(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"navigation\">\r\n      <nav class=\"navbar navbar-expand navbar-dark grid-bg-colour\">\r\n        <div class=\"container\">\r\n          <Link class=\"navbar-brand\" to=\"/\">\r\n            {Username}'s HQ BUSINESS\r\n          </Link>\r\n          \r\n          \r\n          <div>\r\n            <ul class=\"navbar-nav ml-auto\">\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/\">\r\n                  Tasks\r\n                  <span class=\"sr-only\">(current)</span>\r\n                </Link>\r\n              </li>\r\n\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Report1\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/Report1\">\r\n                    Reports\r\n                </Link>\r\n              </li>\r\n\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Support\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/Support\">\r\n                    Support\r\n                </Link>\r\n              </li>\r\n\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Products\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/Products\">\r\n                  Products\r\n                </Link>\r\n              </li>\r\n\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Customers\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/Customers\">\r\n                  Customers\r\n                </Link>\r\n              </li>\r\n\r\n              <li>\r\n                <Alerter />\r\n              </li>\r\n              <li>\r\n                <div className=\"spacer\"></div>\r\n              </li>\r\n              <li\r\n                class={`nav-item  ${\r\n                  props.location.pathname === \"/Login\" ? \"active\" : \"\"\r\n                }`}\r\n              >\r\n                <Link class=\"nav-link\" to=\"/\" onClick={logout}>\r\n                    Sign Out\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            \r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Navigation);","import React from \"react\";\r\nimport './components.css'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"footer\">\r\n      <footer class=\"py-3 grid-bg-colour fixed-bottom\">\r\n        <div class=\"container\">\r\n          <p class=\"m-0 text-center text-white\">\r\n            Copyright &copy; HQ Software 2021, v1.86\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer; ","import React from \"react\";\r\n\r\nfunction Home() {\r\n  const tokenString = localStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  const Username = userToken.username;\r\n        \r\n  \r\n  return (\r\n    <div className=\"home\">\r\n      <div class=\"container\">\r\n        <div class=\"row align-items-center my-5\">\r\n          \r\n          <div class=\"col-lg-5\">\r\n            <h1 class=\"font-weight-light\">Welcome {Username}</h1>\r\n            <p>\r\n              Lorem Ipsum is simply dummy text of the printing and typesetting\r\n              industry. Lorem Ipsum has been the industry's standard dummy text\r\n              ever since the 1500s, when an unknown printer took a galley of\r\n              type and scrambled it to make a type specimen book.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","//export function getTasks() {\r\n//    return fetch('/queryTasks')\r\n//      .then(data => data.json())\r\n//  }\r\n\r\nexport function getHistory(taskID) {\r\n  return fetch('/taskHistory/' + taskID)\r\n    .then(data => data.json())\r\n}\r\n\r\nexport function addNote(note, taskID, UserID, Minutes) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      Notes: note,\r\n      Task: taskID,\r\n      userid: UserID,\r\n      minutes: Minutes\r\n    })\r\n  }\r\n  return fetch('/addHistory/', requestOptions)\r\n   \r\n}\r\n\r\nexport function updateTask(taskObject, customerName, customerCode, departmentCode, userId) {\r\n\r\n  if(!customerName) {\r\n    customerName=taskObject.Company_Name;\r\n    customerCode=taskObject.Account;\r\n  }\r\n  if(!departmentCode) {\r\n    departmentCode = taskObject.Department;\r\n  }\r\n  if(!userId) {\r\n    userId = taskObject.ActionByUserID;\r\n  }\r\n  //console.log(taskObject);\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      Task : taskObject.Issue_No,\r\n      Details: taskObject.Details,\r\n      Notes: taskObject.Notes,\r\n      Area: taskObject.Reference2,\r\n      Application: taskObject.Reference,\r\n      Contact: taskObject.Reference3,\r\n      Estimate: taskObject.Estimate,\r\n      Priority: taskObject.Priority,\r\n      Invoice: taskObject.Invoice,\r\n      DueDate: taskObject.DueDate,\r\n      Requested: taskObject.Requested,\r\n      Company_Name: customerName,\r\n      Account: customerCode,\r\n      Department: departmentCode,\r\n      User: userId\r\n    })\r\n  }\r\n  return fetch('/updateTask/', requestOptions)\r\n}\r\n\r\n\r\nexport function addNewTask(newTaskNo, CustomerName,CustomerCode, newDetails, newPriority, dueDate, reqDate, departmentCode, user, userID, ref1, contact, ref2, notes, estimate, invoice, urgent) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      Details: newDetails,\r\n      Task: newTaskNo,\r\n      CustomerName: CustomerName,\r\n      CustomerCode: CustomerCode,\r\n      Priority: newPriority,\r\n      DueDate: dueDate,\r\n      ReqDate: reqDate,\r\n      Department: departmentCode,\r\n      User: user,\r\n      Reference1: ref1,\r\n      Contact: contact,\r\n      Reference2: ref2,\r\n      Notes: notes,\r\n      Estimate: estimate,\r\n      Invoice: invoice,\r\n      UserID: userID,\r\n      Urgent: urgent\r\n    })\r\n  }\r\n  return fetch('/addNewTask/', requestOptions)\r\n   \r\n}\r\n\r\nexport async function getNewTaskID() {\r\n  const response = await fetch('/newTaskId');\r\n  const newtaskID = await response.json();\r\n  return newtaskID\r\n}\r\n\r\nexport async function returnCustomers() {\r\n  const response = await fetch('/returnCustomers');\r\n  const customers = await response.json();\r\n  return customers\r\n}\r\n\r\nexport async function returnDepartments() {\r\n  const response = await fetch('/returnDepartments');\r\n  const departments = await response.json();\r\n  return departments\r\n}\r\n\r\nexport async function returnUsers() {\r\n  const response = await fetch('/returnUsers');\r\n  const departments = await response.json();\r\n  return departments\r\n}\r\n\r\nexport async function getSelectedTask(id) {\r\n  const response = await fetch('/returnSelectedTask/' + id);\r\n  const thisTask = await response.json();\r\n  return thisTask\r\n}\r\n    \r\nexport async function returnReasons() {\r\n  const response = await fetch('/returnReasons');\r\n  const reasons = await response.json();\r\n  return reasons\r\n}\r\n\r\nexport function closeTask(taskID, reasonCode, minutes) {\r\n  var date = new Date();\r\n  \r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      Task : taskID,\r\n      Code: reasonCode,\r\n      Minutes: minutes,\r\n      Date: date\r\n    })\r\n  }\r\n  return fetch('/closeTask/', requestOptions)\r\n}\r\n\r\nexport function editMultiple( selectedIds, newPriority, newduedate ) {\r\n  let string = JSON.stringify(selectedIds);\r\n  //console.log(JSON.parse(string));\r\n  //console.log(newPriority);\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      tasks: string,\r\n      priority: newPriority,\r\n      duedate: newduedate\r\n    })\r\n  }\r\n\r\n  //console.log(requestOptions);\r\n  return fetch('/editMultiple', requestOptions)\r\n}\r\n\r\nexport function openHistory(newTaskNo, UserID) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      taskID: newTaskNo,\r\n      userid: UserID\r\n    })\r\n  }\r\n\r\n  return fetch('/openHistory', requestOptions)\r\n}\r\n\r\nexport function reOpenTask(task) {\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      taskID: task\r\n    })\r\n  }\r\n  return fetch('/reOpenTask', requestOptions)\r\n}\r\n\r\n\r\nexport const getSummary = (userID, priority) =>{\r\n  return fetch('/getSummary/' + userID + '&' + priority).then(response => {\r\n      return response.json()\r\n  });\r\n}\r\n\r\nexport const getTaskCount = () =>{\r\n  return fetch('/getTaskCount').then(response => {\r\n      return response.json()\r\n  });\r\n}\r\n\r\nexport function makeUrgent (taskId, input) {\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      taskID: taskId,\r\n      input: input\r\n    })\r\n  }\r\n  return fetch('/makeUrgent', requestOptions)\r\n}\r\n\r\nexport function getItems (taskId) {\r\n  return fetch('/getItems/' + taskId).then(response => {\r\n    return response.json()\r\n  });\r\n}\r\n\r\nexport function closeItem (itemId, input) {\r\n  let string = JSON.stringify(itemId);\r\n \r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json'},\r\n    body: JSON.stringify({\r\n      itemID: string,\r\n      input: input\r\n    })\r\n  }\r\n  return fetch('/closeItem', requestOptions)\r\n}\r\n\r\nexport function getTimeSpent (taskId) {\r\n  return fetch('/getTimeSpent/' + taskId).then(response => {\r\n    return response.json()\r\n  });\r\n}","export default __webpack_public_path__ + \"static/media/PDFLogo.d3482e1c.png\";","import jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\nimport PDFLogo from './Logos/PDFLogo.png'\r\n\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport moment from 'moment'\r\n\r\nexport const exportCSV = (gridRef) => {\r\n    //const columns = gridRef.current.visibleColumns;\r\n\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    \r\n    // Reformatting GridRef for inputing into csv file\r\n    gridRef.current.data.map((data) => {\r\n      data.Details = data.Details.toString().replace(',','');\r\n      data[\"Last Comment\"] = data[\"Last Comment\"].toString().replace(',','');\r\n      data.Details = data.Details.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n      return null;\r\n    });\r\n\r\n    //const header = columns.map((c) => c.name).join(',');\r\n    //const rows = gridRef.current.data.map((data) => columns.map((c) => data[c.id]).join(','));\r\n    //const contents = [header].concat(rows).join('\\n');\r\n\r\n    const ws = XLSX.utils.json_to_sheet(gridRef.current.data);\r\n    const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n    const blob = new Blob([excelBuffer], {type: fileType});\r\n\r\n    //const blob = new Blob([contents], { type: 'text/csv;charset=utf-8;' });\r\n    downloadBlob(blob);\r\n};\r\n\r\n\r\nconst downloadBlob = (blob, fileName = 'HQB_TASKS.xlsx') => {\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', fileName);\r\n    link.style.position = 'absolute';\r\n    link.style.visibility = 'hidden';\r\n  \r\n    document.body.appendChild(link);\r\n  \r\n    link.click();\r\n  \r\n    document.body.removeChild(link);\r\n};\r\n\r\n\r\nexport function  exportPDF(gridData, customer) {\r\n  var doc = new jsPDF('landscape', 'pt');\r\n  var closedIndex = [];\r\n  var urgentIndex = [];\r\n  var p1Index = [];\r\n  \r\n  //console.log(gridData.current.data);\r\n  var bodyData = [];\r\n  if(customer.Customer_Code===0){\r\n    bodyData= [[\r\n      gridData.current.data[0].Task, \r\n      gridData.current.data[0].Customer,\r\n      gridData.current.data[0].Details, \r\n      gridData.current.data[0].Area, \r\n      gridData.current.data[0].Application,\r\n      gridData.current.data[0].Requested,\r\n      gridData.current.data[0].Contact,\r\n      gridData.current.data[0][\"Last Comment\"],\r\n      gridData.current.data[0].Updated,\r\n      gridData.current.data[0].DueDate,\r\n      gridData.current.data[0].Invoice,\r\n      gridData.current.data[0].Priority,\r\n      gridData.current.data[0].ActionByUsername,\r\n      gridData.current.data[0].Owner_Name\r\n    ]];\r\n  } else {\r\n    bodyData= [[\r\n      gridData.current.data[0].Task, \r\n      gridData.current.data[0].Details, \r\n      gridData.current.data[0].Area, \r\n      gridData.current.data[0].Application,\r\n      gridData.current.data[0].Requested,\r\n      gridData.current.data[0].Contact,\r\n      gridData.current.data[0][\"Last Comment\"],\r\n      gridData.current.data[0].Updated,\r\n      gridData.current.data[0].DueDate,\r\n      gridData.current.data[0].Invoice,\r\n      gridData.current.data[0].Priority,\r\n      gridData.current.data[0].ActionByUsername,\r\n      gridData.current.data[0].Owner_Name\r\n    ]];\r\n  }\r\n\r\n  if(gridData.current.data[0].State===\"C\") {\r\n    closedIndex.push(0);\r\n  }\r\n\r\n  if(gridData.current.data[0].Urgent===true) {\r\n    urgentIndex.push(0);\r\n  }\r\n\r\n  if(gridData.current.data[0].P===1) {\r\n    p1Index.push(0);\r\n  }\r\n\r\n  var rowData = [];\r\n  for(let i=1; i<gridData.current.data.length; i++){\r\n    if(customer.Customer_Code===0){\r\n      rowData = [\r\n        gridData.current.data[i].Task, \r\n        gridData.current.data[i].Customer, \r\n        gridData.current.data[i].Details, \r\n        gridData.current.data[i].Area, \r\n        gridData.current.data[i].Application,\r\n        gridData.current.data[i].Requested,\r\n        gridData.current.data[i].Contact,\r\n        gridData.current.data[i][\"Last Comment\"], \r\n        gridData.current.data[i].Updated,\r\n        gridData.current.data[i].DueDate,\r\n        gridData.current.data[i].Invoice,\r\n        gridData.current.data[i].Priority,\r\n        gridData.current.data[i].ActionByUsername,\r\n        gridData.current.data[i].Owner_Name\r\n      ];\r\n    } else {\r\n      rowData = [\r\n        gridData.current.data[i].Task, \r\n        gridData.current.data[i].Details, \r\n        gridData.current.data[i].Area, \r\n        gridData.current.data[i].Application,\r\n        gridData.current.data[i].Requested,\r\n        gridData.current.data[i].Contact,\r\n        gridData.current.data[i][\"Last Comment\"], \r\n        gridData.current.data[i].Updated,\r\n        gridData.current.data[i].DueDate,\r\n        gridData.current.data[i].Invoice,\r\n        gridData.current.data[i].Priority,\r\n        gridData.current.data[i].ActionByUsername,\r\n        gridData.current.data[i].Owner_Name\r\n      ];\r\n    }\r\n\r\n    \r\n    \r\n    if(gridData.current.data[i].State===\"C\") {\r\n      closedIndex.push(i);\r\n    }\r\n\r\n    if(gridData.current.data[i].Urgent===true) {\r\n      urgentIndex.push(i);\r\n    }\r\n\r\n    if(gridData.current.data[i].P===1) {\r\n      p1Index.push(i);\r\n    }\r\n    \r\n    bodyData.push(rowData);\r\n\r\n  }\r\n\r\n  let formatDate = moment(new Date()).format(\"Do MMMM YYYY\"); \r\n  \r\n  let headerText = customer.CustomerName + \" Report    -    \" + formatDate;\r\n\r\n  let header=[];\r\n  if(customer.Customer_Code===0){\r\n    header= ['Task', 'Customer', 'Details', 'Area', 'Section', 'Requested', 'Requestor', 'Status', 'Updated', 'Due Date', 'Invoice', 'P', 'User', 'Owner']\r\n  } else {\r\n    header= ['Task', 'Details', 'Area', 'Section', 'Requested', 'Requestor', 'Status', 'Updated', 'Due Date', 'P', 'User', 'Invoice', 'Owner']\r\n  }\r\n  \r\n  doc.autoTable({\r\n    styles: { fontSize: 8 },\r\n    theme: 'grid',\r\n    headStyles: {fillColor: [55, 55, 55]},\r\n    head: [header],\r\n    body: bodyData,\r\n    didParseCell: function(data) {\r\n      \r\n      for (let i=0; i<closedIndex.length; i++) {\r\n        if(data.row.index===closedIndex[i]){\r\n          data.cell.styles.fillColor= [87, 222, 107]\r\n        }\r\n      }\r\n      for (let i=0; i<urgentIndex.length; i++) {\r\n        if(data.row.index===urgentIndex[i]){\r\n          data.cell.styles.fontStyle= \"bold\";\r\n        }\r\n      }\r\n      for (let i=0; i<p1Index.length; i++) {\r\n        if(data.row.index===p1Index[i] && data.cell.raw===1){\r\n          //console.log(data);\r\n          data.cell.styles.fillColor= [255, 157, 156]\r\n        }\r\n      }\r\n    },\r\n    didDrawPage: function (data) {\r\n      // Header\r\n      doc.setFontSize(18)\r\n      doc.setTextColor(40)\r\n      if (PDFLogo) {\r\n        doc.addImage(PDFLogo, 'png', 20, 20, 46.5, 48, PDFLogo, 'FAST', 0)\r\n      }\r\n      doc.text(headerText, data.settings.margin.left + 50, 50)\r\n\r\n      doc.setFontSize(8)\r\n\r\n     \r\n    },\r\n    margin: { top: 80 }\r\n  })\r\n\r\n  var docName = '';\r\n\r\n  let titleDate = moment(new Date()).format(\"DDMMYYYY\"); \r\n\r\n  if(customer.Customer_Code===0){\r\n    docName = 'HQSoftware_TASKS.pdf';\r\n  } else {\r\n    docName = customer.CustomerName + '_TASKS_' + titleDate\r\n  }\r\n\r\n  doc.save(docName)\r\n}\r\n\r\n\r\nexport function  exportClosedPDF(gridData, customer) {\r\n  var doc = new jsPDF('landscape', 'pt');\r\n  var closedIndex = [];\r\n  \r\n  \r\n\r\n  var bodyData= [[\r\n    gridData.current.data[0].Task, \r\n    gridData.current.data[0].Details, \r\n    gridData.current.data[0].Requested,\r\n    gridData.current.data[0].DateCompleted, \r\n    gridData.current.data[0].DaysToComplete,\r\n    gridData.current.data[0].TimeSpent,\r\n    gridData.current.data[0].ActionByUsername\r\n  ]];\r\n\r\n  if(gridData.current.data[0].State===\"C\") {\r\n    closedIndex.push(0);\r\n  }\r\n\r\n  for(let i=1; i<gridData.current.data.length; i++){\r\n    var rowData = [\r\n    gridData.current.data[i].Task, \r\n    gridData.current.data[i].Details, \r\n    gridData.current.data[i].Requested,\r\n    gridData.current.data[i].DateCompleted, \r\n    gridData.current.data[i].DaysToComplete,\r\n    gridData.current.data[i].TimeSpent,\r\n    gridData.current.data[i].ActionByUsername\r\n    ];\r\n    \r\n    if(gridData.current.data[i].State===\"C\") {\r\n      closedIndex.push(i);\r\n    }\r\n    bodyData.push(rowData);\r\n\r\n  }\r\n\r\n  let formatDate = moment(new Date()).format(\"Do MMMM YYYY\"); \r\n  \r\n  let headerText = customer.CustomerName + \" Closed Tasks    -    \" + formatDate;\r\n\r\n  \r\n  \r\n  doc.autoTable({\r\n    styles: { fontSize: 8 },\r\n    theme: 'grid',\r\n    headStyles: {fillColor: [55, 55, 55]},\r\n    head: [['Task', 'Details', 'Requested', 'Completed', 'Days', 'Time', 'User']],\r\n    body: bodyData,\r\n    didParseCell: function(data) {\r\n      \r\n      for (let i=0; i<closedIndex.length; i++) {\r\n        if(data.row.index===closedIndex[i]){\r\n          data.cell.styles.fillColor= [87, 222, 107]\r\n        }\r\n      }\r\n    },\r\n    didDrawPage: function (data) {\r\n      // Header\r\n      doc.setFontSize(18)\r\n      doc.setTextColor(40)\r\n      if (PDFLogo) {\r\n        doc.addImage(PDFLogo, 'png', 20, 20, 46.5, 48, PDFLogo, 'FAST', 0)\r\n      }\r\n      doc.text(headerText, data.settings.margin.left + 50, 50)\r\n\r\n      doc.setFontSize(8)\r\n\r\n     \r\n    },\r\n    margin: { top: 80 }\r\n  })\r\n\r\n  var docName = '';\r\n\r\n  let titleDate = moment(new Date()).format(\"DDMMYYYY\"); \r\n\r\n  if(customer.Customer_Code===0){\r\n    docName = 'HQSoftware_CLOSEDTASKS.pdf';\r\n  } else {\r\n    docName = customer.CustomerName + '_CLOSEDTASKS_' + titleDate\r\n  }\r\n\r\n  doc.save(docName)\r\n}\r\n\r\nexport function  exportHistoryPDF(gridData, task) {\r\n  var doc = new jsPDF('landscape', 'pt');\r\n  let closedIndex = []\r\n  \r\n  let headerText = task.Issue_No + \"  -  \" + task.Details;\r\n\r\n \r\n  \r\n\r\n  \r\n  let totalTime =gridData.current.data[0].Minutes;\r\n\r\n  var bodyData= [[\r\n    gridData.current.data[0].Username, \r\n    gridData.current.data[0].Time, \r\n    gridData.current.data[0].Notes,\r\n    gridData.current.data[0].Minutes \r\n  ]];\r\n\r\n  if(gridData.current.data[0].State===\"C\") {\r\n    closedIndex.push(0);\r\n  }\r\n\r\n  for(let i=1; i<gridData.current.data.length; i++){\r\n    var rowData = [\r\n      gridData.current.data[i].Username, \r\n      gridData.current.data[i].Time, \r\n      gridData.current.data[i].Notes,\r\n      gridData.current.data[i].Minutes \r\n    ];\r\n    bodyData.push(rowData);\r\n\r\n    totalTime = totalTime + gridData.current.data[i].Minutes;\r\n  }\r\n\r\n  totalTime = Math.round((totalTime/60)*100)/100;\r\n  //let formatDate = moment(new Date()).format(\"Do MMMM YYYY\"); \r\n  \r\n  \r\n\r\n  let minutes = 'Time Spent - ' + totalTime + ' hours';\r\n\r\n  \r\n\r\n  doc.autoTable({\r\n    styles: { fontSize: 8 },\r\n    theme: 'grid',\r\n    headStyles: {fillColor: [55, 55, 55]},\r\n    head: [['User', 'When', 'Notes', 'Minutes']],\r\n    body: bodyData,\r\n    didDrawPage: function (data) {\r\n      // Header\r\n      doc.setFontSize(18)\r\n      doc.setTextColor(40)\r\n      if (PDFLogo) {\r\n        doc.addImage(PDFLogo, 'png', 20, 20, 46.5, 48, PDFLogo, 'FAST', 0)\r\n      }\r\n      //doc.text(headerText, data.settings.margin.left + 50, 50)\r\n      doc.setFontSize(8)\r\n\r\n      doc.setFontSize(18)\r\n      doc.text(headerText, data.settings.margin.left + 50, 30)\r\n      doc.setFontSize(11)\r\n      doc.setTextColor(100)\r\n\r\n      // jsPDF 1.4+ uses getWidth, <1.4 uses .width\r\n      var pageSize = doc.internal.pageSize\r\n      var pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth()\r\n      var text = doc.splitTextToSize(task.Notes, pageWidth - 100, {})\r\n      doc.text(text, data.settings.margin.left + 50, 50)\r\n\r\n      doc.text(minutes, 700, data.settings.margin.left)\r\n\r\n      \r\n\r\n     \r\n    },\r\n    startY: 80\r\n  })\r\n\r\n  var docName = task.Issue_No;\r\n\r\n  //let titleDate = moment(new Date()).format(\"DDMMYYYY\"); \r\n\r\n\r\n  doc.save(docName)\r\n}","import React, {useState, useEffect} from 'react';\r\nimport moment from 'moment'\r\n\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport DatePicker from 'react-datepicker'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\n\r\n\r\n\r\nimport {addNewTask, getNewTaskID, returnCustomers, returnDepartments, returnUsers, openHistory} from './returnTasks.js'\r\n\r\nimport {HiOutlineMail} from \"react-icons/hi\";\r\nimport {RiFileAddLine} from \"react-icons/ri\"\r\nimport {BiPlus, BiMinus } from \"react-icons/bi\"\r\n\r\n\r\n\r\n\r\nconst HQDetails={\r\n    'SupportCode' : 0,\r\n    'Customer_Code' : 340,\r\n    'CustomerName' : \"HQ Software\",\r\n    'CustomerCode': 340\r\n}\r\n\r\n\r\nfunction addItem(task, details) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      Details: details,\r\n      taskID: task\r\n    })\r\n  }\r\n  return fetch('/addItem/', requestOptions)\r\n   \r\n}\r\n\r\n\r\n\r\n\r\nconst NewTask = React.memo( props => {\r\n  //console.log(\"NewTask Render\");\r\n  //console.log(props);\r\n  \r\n  const currentUserObj = {\r\n    'UserId': props.filterUser.UserId,\r\n    'Username':  props.filterUser.Username\r\n  }\r\n  const currentDepFilter = props.filterDepartment;\r\n  const currentCustFilter = props.filterCustomer;\r\n  \r\n  //----- GET CURRENT USER -----//\r\n  const tokenString = sessionStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  const Username = userToken.username;\r\n  const UserID = userToken.userId;\r\n  //-----------//\r\n    //setting departments/users/customers for drop downs\r\n  const [departments, setDepartments] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n   // Use Effect Hook to load data for the grid when webpage is loaded\r\n   useEffect(() => {\r\n    let mounted = true;\r\n    \r\n    returnCustomers()\r\n      .then(customers => {\r\n        if(mounted) {\r\n          setCustomers(customers)\r\n        }\r\n      })\r\n    returnDepartments()\r\n      .then(departments => {\r\n        if(mounted) {\r\n          setDepartments(departments);\r\n        }\r\n      })\r\n    returnUsers()\r\n      .then(users => {\r\n        if(mounted) {\r\n          setUsers(users)\r\n        }\r\n      })\r\n\r\n    return () => mounted = false;\r\n  }, [])\r\n\r\n//-----NEW TASK-----//  \r\n\r\n    const [showNewTask, setShowNewTask] = useState(false);\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    \r\n    //States inserting new values into the new task created\r\n\r\n    var tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate()+1);\r\n\r\n    const [dueDate, setDueDate] = useState(tomorrow);\r\n    const [reqDate, setReqDate] = useState(new Date());\r\n    const [newDetails, setNewDetails] = useState(\"\");\r\n    const [newTaskNo, setNewTaskNo] = useState();\r\n    const [newCustomer, setNewCustomer] = useState({});\r\n    const [newDepartment, setNewDepartment] = useState({});\r\n    const [newUser, setNewUser] = useState([]);\r\n    const [newRef1, setNewRef1] = useState(\"\");\r\n    const [newContact, setNewContact] = useState(\"\");\r\n    const [newRef2, setNewRef2] = useState(\"\");\r\n    const [newNotes, setNewNotes] = useState(\"\");\r\n    const [newInvoice, setNewInvoice] = useState(\"\");\r\n    const [newEstimate, setNewEstimate] = useState(\"\");\r\n    const [newTaskPriority, setNewTaskPriority] = useState(1);\r\n\r\n    const [urgent, setUrgent] = useState(null);\r\n\r\n    \r\n\r\n    const [emailBody, setEmailBody] = useState(\"\");\r\n\r\n    //Functions to handle show/hide modal\r\n    const handleCloseNewTask = () => { \r\n        setShowNewTask(false); \r\n\r\n        setTimeout(()=> {\r\n          //Resets all values after modal is closed\r\n          var fortnight = new Date();\r\n          fortnight.setDate(fortnight.getDate()+14);\r\n\r\n          setNewDetails(\"\");\r\n          setNewTaskPriority(2);\r\n          setDueDate(fortnight);\r\n          setReqDate(new Date());\r\n          setNewRef1(\"\");\r\n          setNewContact(\"\");\r\n          setNewRef2(\"\");\r\n          setNewNotes(\"\");\r\n          setNewEstimate(\"\");\r\n          setNewInvoice(\"\");\r\n          setNewDepartment({});\r\n          setNewCustomer({});\r\n          \r\n          setUrgent(null);\r\n\r\n          setInputList([{item: \"\"}]);\r\n        }, 200)\r\n          \r\n    }\r\n    \r\n    const handleShowNewTask = () => {\r\n      setShowNewTask(true);\r\n      setNewUser(currentUserObj);\r\n      \r\n      setTimeout(()=> {\r\n        document.getElementById(`inline-newTask-radio-${newTaskPriority}`).click();\r\n      },10)\r\n    }\r\n\r\n    //Function that handles the submit button for adding a new task\r\n    const onSubmitNewTask = () => {\r\n       \r\n\r\n        //Set Dates to correct format\r\n        var newDueDate = moment(dueDate).format('YYYY-MM-DD hh:mm:ss');\r\n        var newReqDate = moment(reqDate).format('YYYY-MM-DD hh:mm:ss'); \r\n        \r\n        var DepToAdd = {};\r\n        var CustToAdd = {};\r\n        \r\n        //console.log(newCustomer);\r\n        //console.log(currentCustFilter);\r\n        if(newCustomer.CustomerCode===undefined) {\r\n          CustToAdd = currentCustFilter;\r\n        } else {\r\n          CustToAdd = newCustomer;\r\n        }\r\n        //console.log(CustToAdd);\r\n        if(newDepartment.Code===undefined){\r\n          DepToAdd = currentDepFilter;\r\n        } else {\r\n          DepToAdd = newDepartment;\r\n        }\r\n        //console.log(DepToAdd);\r\n        //console.log(newUser);\r\n        getNewTaskID().then(task=> {\r\n          setNewTaskNo(task[0][\"\"])\r\n        //Check if Customer and Department have been Selected before adding new task\r\n          if(CustToAdd.CustomerCode===0){\r\n            alert(\"Please Select a Customer\");\r\n          } else if(DepToAdd.Code===0) {\r\n            alert (\"Please Select a Department\");\r\n          } else if(newUser.UserId === 0) {\r\n            alert (\"Please Select a User\");\r\n          }else{\r\n            //console.log(task.[0].[\"\"]);\r\n            addNewTask(task[0][\"\"], CustToAdd.CustomerName, CustToAdd.CustomerCode, newDetails, newTaskPriority, newDueDate, newReqDate, DepToAdd.Code, Username, newUser.UserId, newRef1, newContact, newRef2, newNotes, newEstimate, newInvoice, urgent);\r\n            openHistory(task[0][\"\"], UserID);\r\n            onTaskCreate(task[0][\"\"]);\r\n            \r\n            //console.log(inputList[0].item);\r\n            if(inputList[0].item!==''){\r\n              //console.log('test');\r\n              inputList.forEach(e => {\r\n                addItem(task[0][\"\"], e.item);\r\n              })\r\n            }\r\n            \r\n\r\n            handleCloseNewTask();\r\n          }\r\n        \r\n          //Reload task data\r\n          setTimeout(()=> {\r\n            props.onClick();\r\n          },500)\r\n        });\r\n        //console.log(urgent);\r\n        \r\n    }\r\n//----------//\r\n\r\n//----- Send Email of New Task -----//\r\n    const onTaskCreate = (nextTaskNum) => {\r\n      var thisDueDate = moment(dueDate).format('DD/MM/YYYY');\r\n      \r\n      setEmailBody(`mailto:?subject=Task:%20${nextTaskNum}&body=Issue:%20${newTaskNo}%0D%0ADetails:%20${newDetails}%0D%0APriority:%20${newTaskPriority}%0D%0ABy:%20${newUser.Username}%0D%0ADue:%20${thisDueDate}`);\r\n      \r\n      const textToCopy = `Task: ${nextTaskNum}\\r\\nDetails: ${newDetails}\\r\\nPriority: ${newTaskPriority}\\r\\nBy: ${newUser.Username}\\r\\nDue: ${thisDueDate}`; \r\n      \r\n      copyToClipboard(textToCopy)\r\n        .catch(() => console.log('error'));\r\n      setShowAlert(true);  \r\n    }\r\n    const createEmail = () => { \r\n      //Send email here\r\n      window.open(emailBody);\r\n    }\r\n\r\n    function copyToClipboard(textToCopy) {\r\n      // navigator clipboard api needs a secure context (https)\r\n      if (navigator.clipboard && window.isSecureContext) {\r\n          // navigator clipboard api method'\r\n          return navigator.clipboard.writeText(textToCopy);\r\n      } else {\r\n          // text area method\r\n          let textArea = document.createElement(\"textarea\");\r\n          textArea.value = textToCopy;\r\n          // make the textarea out of viewport\r\n          textArea.style.position = \"fixed\";\r\n          textArea.style.left = \"-999999px\";\r\n          textArea.style.top = \"-999999px\";\r\n          document.body.appendChild(textArea);\r\n          textArea.focus();\r\n          textArea.select();\r\n          return new Promise((res, rej) => {\r\n              // here the magic happens\r\n              document.execCommand('copy') ? res() : rej();\r\n              textArea.remove();\r\n          });\r\n      }\r\n  }\r\n\r\n  const [inputList, setInputList] = useState([{item: \"\"}]);\r\n    \r\n\r\n    // handle input change\r\n    const handleInputChange = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...inputList];\r\n        list[index][name] = value;\r\n        setInputList(list);\r\n    };\r\n\r\n    // handle click event of the Remove button\r\n    const handleRemoveClick = index => {\r\n      const list = [...inputList];\r\n      list.splice(index, 1);\r\n      setInputList(list);\r\n    };\r\n\r\n    // handle click event of the Add button\r\n    const handleAddClick = () => {\r\n      setInputList([...inputList, { item: \"\"}]);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n        <OverlayTrigger key='NewTask' placement='bottom'\r\n          overlay={\r\n            <Tooltip id='tooltip-newtask'>\r\n              New Task\r\n            </Tooltip>\r\n          }\r\n        >\r\n        <Button variant=\"secondary\" style={{margin:'5px'}}\r\n      \tonClick={ () => {\r\n          handleShowNewTask();  \r\n          //getNewTaskID().then(task=> setNewTaskNo(task.[0].[\"\"])); \r\n          setNewContact(Username);  \r\n        }}\r\n        className=\"button-to-the-left\"\r\n        >\r\n           <RiFileAddLine/>\r\n        </Button>\r\n        </OverlayTrigger>\r\n\r\n        <Modal show={showNewTask} onHide={handleCloseNewTask} size='lg'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Create New Task</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          \r\n          \r\n          <Form>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group controlId=\"newTask.CustomerSelect\">\r\n              <h7>Customer:</h7>\r\n                <Form.Control size=\"sm\" as=\"select\" value={customers.CustomerName}\r\n                    onChange = {e=> setNewCustomer(JSON.parse(e.target.value))}>\r\n                  <option value ={JSON.stringify(currentCustFilter)}>{currentCustFilter.CustomerName}</option>\r\n                  \r\n                  <option value={JSON.stringify(HQDetails)}>{HQDetails.CustomerName}</option>\r\n                  {\r\n                    customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                  }\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"newTask.DepartmentSelect\">\r\n              <h7>Department:</h7>\r\n                <Form.Control size=\"sm\" as=\"select\" value={departments.Department}\r\n                    onChange = {e=> setNewDepartment(JSON.parse(e.target.value))}>\r\n                  <option value ={JSON.stringify(currentDepFilter)}>{currentDepFilter.Department}</option>\r\n                  {\r\n                    departments.map((department, index) => {\r\n                      if(department.Department!==currentDepFilter.Department){\r\n                        return(<option key={index} value={JSON.stringify(department)}>{department.Department}</option>)\r\n                      } else {\r\n                        return null;\r\n                      } \r\n                    })\r\n                  }\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"newTask.UserSelect\">\r\n                <h7>For:</h7>\r\n                <Form.Control size=\"sm\" as=\"select\" value={users.Username}\r\n                    onChange = {e=> setNewUser(JSON.parse(e.target.value))}>\r\n                  <option value ={JSON.stringify(currentUserObj)}>{currentUserObj.Username}</option>\r\n                  {\r\n                    users.map((user, index) => {\r\n                    if(user.Username!==currentUserObj.Username) {\r\n                      return(<option key={index} value={JSON.stringify(user)}>{user.Username}</option>)\r\n                    } else return null;\r\n                    })\r\n                  }\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"newTask.Details\">\r\n                <h7>Details:</h7>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={3} \r\n                  placeholder=\"Add Details...\"\r\n                  value={newDetails}\r\n                  onChange = {e=> setNewDetails(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"newTask.Notes\">\r\n                <h7>Notes:</h7>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={3} \r\n                  placeholder=\"Add Notes...\"\r\n                  value={newNotes}\r\n                  onChange = {e=> setNewNotes(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          \r\n\r\n          <Form.Group as={Row} className=\"mb-3\" controlId=\"newTask.Dates\" style={{marginTop: 5}}>\r\n                  <Col xs={2}>\r\n                    <Form.Label>Due:</Form.Label>\r\n                  </Col>\r\n                  <Col >\r\n                    <DatePicker \r\n                      selected={dueDate} \r\n                      onChange={(date) => setDueDate(date)} \r\n                      dateFormat = 'dd/MM/yyyy' \r\n                      calendarStartDay={1} \r\n                      \r\n                    />\r\n                  </Col>\r\n                  <Col xs={2}>\r\n                    <Form.Label>Requested:</Form.Label>\r\n                  </Col>\r\n                  <Col>\r\n                    <DatePicker \r\n                      selected={reqDate} \r\n                      onChange={(date) => setReqDate(date)} \r\n                      dateFormat = 'dd/MM/yyyy'  \r\n                      calendarStartDay={1}\r\n                    />\r\n                  </Col>\r\n                  \r\n          </Form.Group>    \r\n            \r\n              <Form.Group as={Row} className=\"mb-3\" controlId=\"newTask.Reference1-2\" style={{marginTop: 5}}>\r\n              <Col xs={1}>\r\n                    <Form.Label>P:</Form.Label>\r\n                  </Col>\r\n                  <Col xs={3}>\r\n                    <Form.Check\r\n                      size=\"sm\"\r\n                      inline\r\n                      label=\"1\"\r\n                      type=\"radio\"\r\n                      name=\"group1\"\r\n                      id={'inline-newTask-radio-1'}\r\n                      onChange = {e=> setNewTaskPriority(1)}\r\n                    />\r\n                    <Form.Check\r\n                      size=\"sm\"\r\n                      inline\r\n                      label=\"2\"\r\n                      type=\"radio\"\r\n                      name=\"group1\"\r\n                      id={'inline-newTask-radio-2'}\r\n                      onChange = {e=> setNewTaskPriority(2)}\r\n                    />\r\n                    <Form.Check\r\n                      size=\"sm\"\r\n                      inline\r\n                      label=\"3\"\r\n                      type=\"radio\"\r\n                      name=\"group1\"\r\n                      id={'inline-newTask-radio-3'}\r\n                      onChange = {e=> setNewTaskPriority(3)}\r\n                    />\r\n                  </Col>\r\n                <Col xs={2}>\r\n                  <h7>Reference 1:</h7>\r\n                </Col>\r\n                <Col>  \r\n                  <Form.Control \r\n                    style={{display:'inline'}}\r\n                    size=\"sm\"\r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    value={newRef1}\r\n                    onChange = {e=> setNewRef1(e.target.value)}\r\n                  />\r\n                </Col>\r\n                <Col xs={2}>\r\n              <Form.Label>Reference 2:</Form.Label>\r\n            </Col>\r\n            <Col>\r\n                  <Form.Control \r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    value={newRef2}\r\n                    onChange = {e=> setNewRef2(e.target.value)}\r\n                    size=\"sm\"\r\n                  />\r\n            </Col>\r\n              </Form.Group>          \r\n            \r\n            <Form.Group as={Row} className=\"mb-3\" controlId=\"newTask.Contact\" style={{marginTop: 5}}>\r\n                <Col xs={2}>\r\n                  <Form.Label>Requester:</Form.Label>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Control \r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    value={newContact}\r\n                    onChange = {e=> setNewContact(e.target.value)}\r\n                    size=\"sm\"\r\n                  />\r\n                </Col>\r\n                <Col xs={1}>\r\n                  <Form.Label>Estimate:</Form.Label>\r\n                </Col>\r\n                <Col xs={2}>\r\n                  <Form.Control \r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    value={newEstimate}\r\n                    onChange = {e=> setNewEstimate(e.target.value)}\r\n                    size=\"sm\"\r\n                  />\r\n                </Col>\r\n                <Col xs={1}>\r\n                  <Form.Label>Invoice:</Form.Label>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Control \r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    value={newInvoice}\r\n                    onChange = {e=> setNewInvoice(e.target.value)}\r\n                    size=\"sm\"\r\n                  />\r\n                </Col>        \r\n            </Form.Group> \r\n        </Form>\r\n\r\n         <div>\r\n            <Form.Label>Items:</Form.Label>\r\n        {inputList.map((x, i) => {\r\n        return (\r\n          <div className=\"box\">\r\n            <Form.Group as={Row} controlId=\"newItems\" style={{marginTop: 5}}>\r\n                <Col>\r\n                <Form.Control\r\n                    size=\"sm\"\r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    name=\"item\"\r\n                    value={x.item}\r\n                    onChange={e => handleInputChange(e, i)}\r\n                />\r\n                </Col>\r\n                <Col xs={1}>\r\n                    {inputList.length !== 1 && \r\n                      <OverlayTrigger key='RemoveItem' placement='bottom'\r\n                      overlay={\r\n                        <Tooltip id='tooltip-removeitem'>\r\n                          Remove Item\r\n                        </Tooltip>\r\n                      }\r\n                      > \r\n                        <Button size=\"sm\" className=\"mr10\" variant=\"secondary\" onClick={() => handleRemoveClick(i)}><BiMinus/></Button>\r\n                      </OverlayTrigger>\r\n                    }\r\n                </Col>\r\n                \r\n                <Col xs={1}>    \r\n                    {inputList.length - 1 === i && \r\n                      <OverlayTrigger key='AddItem' placement='bottom'\r\n                      overlay={\r\n                        <Tooltip id='tooltip-additem'>\r\n                          Add Item\r\n                        </Tooltip>\r\n                      }\r\n                      > \r\n                      <Button size=\"sm\" variant=\"secondary\" onClick={handleAddClick}><BiPlus/></Button>\r\n                      </OverlayTrigger>\r\n                    }\r\n                </Col>\r\n            </Form.Group>\r\n          </div>\r\n        );\r\n      })}\r\n      \r\n    </div>\r\n    \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n\r\n          <Form.Check \r\n              type=\"checkbox\" \r\n              label=\"Make Urgent\"\r\n              style={{margin:5, right:450 }}\r\n              onChange = {e=> {\r\n                if(urgent===null){\r\n                  setUrgent(1);\r\n                } else {\r\n                  setUrgent(null);\r\n                }\r\n              }}  \r\n          />\r\n          \r\n          <Button variant=\"secondary\" onClick={handleCloseNewTask}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{ \r\n            onSubmitNewTask();\r\n          }}>\r\n            Create Task\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        size=\"sm\"\r\n        show={showAlert}\r\n        onHide={() => setShowAlert(false)}\r\n        aria-labelledby=\"success-alert\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"success-alert-title\">\r\n            Task {newTaskNo} Created\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Details copied to clipboard\r\n          <br/>\r\n          <Button variant='success' onClick={()=> createEmail()} className=\"button-to-the-right\">\r\n          <HiOutlineMail/>\r\n          </Button>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n    </>\r\n    )\r\n});\r\n\r\n\r\nexport default NewTask;  ","import React, {useState} from 'react';\r\nimport moment from 'moment'\r\n\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport DatePicker from 'react-datepicker'\r\n\r\nimport { editMultiple, makeUrgent } from './returnTasks.js'\r\nimport {FiEdit} from \"react-icons/fi\"\r\n\r\n\r\n\r\nconst MultiEdit = React.memo(props => {\r\n  //Make Multiple Urgent\r\n  const [urgent, setUrgent] = useState(0);\r\n\r\n  //console.log(\"MultiEdit Render\");\r\n  //console.log(props);\r\n\r\n  //----- EDIT MULTIPLE TASKS -----//\r\n  //Handle Show/Hide modal\r\n  const [showMultiEdit, setShowMultiEdit] = useState(false);\r\n  const handleShowMultiEdit = () => {\r\n    setShowMultiEdit(true);\r\n    //console.log(selected);\r\n  }\r\n\r\n  const handleCloseMultiEdit = () => {\r\n    setShowMultiEdit(false);\r\n  }  \r\n  //Hold temporary values for update\r\n  const [tempPriority, setTempPriority] = useState();\r\n  const [tempDueDate, setTempDueDate] = useState();\r\n\r\n  //Function when submitting updates\r\n  const onSubmitMultiEdit = () => {\r\n    setShowMultiEdit(false);\r\n    \r\n    //Create array with TaskIDs or the selected tasks\r\n    const selectedIds =[];\r\n    \r\n      Object.keys(props.selected).forEach(function(key) {\r\n        selectedIds.push(key);\r\n        if(urgent===1){\r\n          /*\r\n          //console.log(props.selected[key]);\r\n          if(props.selected[key].Urgent===true){\r\n            //console.log(key + \" is Urgent\");\r\n            makeUrgent(key, null);\r\n          } else {\r\n            //console.log(key + \" is NOT Urgent\");\r\n            makeUrgent(key, 1);\r\n          }\r\n          \r\n          //makeUrgent(key, urgent);\r\n          */\r\n          makeUrgent(key, urgent);\r\n        } else {\r\n          makeUrgent(key, null);\r\n        }\r\n        //console.log(key);\r\n      });\r\n    \r\n    \r\n\r\n    //Correctly formatting the data\r\n    let duedate = \"\";\r\n    if(tempDueDate){\r\n      duedate= moment(tempDueDate).format('YYYY-MM-DDThh:mm:ss.000');\r\n    }\r\n    \r\n    //Function to update\r\n    //console.log(tempPriority);\r\n    //console.log(duedate);\r\n    if(tempPriority!==undefined || duedate!==\"\"){\r\n      editMultiple(selectedIds, tempPriority, duedate);\r\n      //console.log('Update happened');\r\n      \r\n    }\r\n    \r\n\r\n    //Reset temporary values and re-load grid data\r\n    setTempPriority();\r\n    setTempDueDate();\r\n    setUrgent(0);\r\n\r\n    setTimeout(()=> {\r\n      props.onClick();  \r\n    },500)\r\n    \r\n  }\r\n\r\n\r\n    //Allows button to be pressed when some tasks are selected\r\n    let editIsDisabled = true;\r\n    if(JSON.stringify(props.selected).length<3) {\r\n      //console.log(selected);\r\n      editIsDisabled = true;\r\n    } else {\r\n      editIsDisabled = false;\r\n    }\r\n    //----------//\r\n\r\n  \r\n\r\n\r\n    return(\r\n        <>\r\n        \r\n        <OverlayTrigger key='MultiEdit' placement='bottom'\r\n          overlay={\r\n            <Tooltip id='tooltip-multiedit'>\r\n              Edit Multiple\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <Button variant=\"secondary\" style={{margin:'5px'}}\r\n      \tonClick={ () => {\r\n          handleShowMultiEdit();\r\n          //props.onClick();\r\n        }}\r\n        className=\"button-to-the-left\"\r\n        disabled={editIsDisabled}\r\n        >\r\n        <FiEdit/>\r\n        </Button>\r\n        </OverlayTrigger>\r\n        \r\n        \r\n        \r\n    <Modal show={showMultiEdit} onHide={handleCloseMultiEdit}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Update Selected Tasks</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form.Label>Priority:</Form.Label>\r\n            <br/>\r\n            <Form.Check\r\n              inline\r\n              label=\"1\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-1'}\r\n              onChange = {e=> setTempPriority(1)} \r\n            />\r\n            <Form.Check\r\n              inline\r\n              label=\"2\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-2'}\r\n              onChange = {e=> setTempPriority(2)}             \r\n            />\r\n            <Form.Check\r\n              inline\r\n              label=\"3\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-3'}\r\n              onChange = {e=> setTempPriority(3)} \r\n            />\r\n            <br/>\r\n            <Form.Label>Due Date:&nbsp;&nbsp;&nbsp;</Form.Label>\r\n            <DatePicker\r\n              selected={tempDueDate}\r\n              onChange={(date) => {\r\n                setTempDueDate(date);\r\n              }}\r\n              dateFormat = 'dd/MM/yyyy'\r\n              calendarStartDay={1}\r\n            />\r\n\r\n            <Form.Check \r\n              type=\"checkbox\" \r\n              label=\"Mark Urgent\"\r\n              style={{margin:5 }}\r\n              onChange = {e=> {\r\n                  setUrgent(1);\r\n              }}  \r\n            />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseMultiEdit}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={onSubmitMultiEdit}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      </>\r\n    )\r\n});\r\n\r\nexport default MultiEdit; ","import React, { useEffect, useState, PureComponent } from 'react'\r\n\r\n//ReCharts\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Label, ResponsiveContainer } from 'recharts';\r\n\r\nimport { TailSpin } from  'react-loader-spinner'\r\n\r\n\r\n\r\nclass CustomizedAxisTick extends PureComponent {\r\n    render() {\r\n      const { x, y, stroke, payload } = this.props;\r\n  \r\n      return (\r\n        <g transform={`translate(${x},${y})`}>\r\n          <text x={0} y={0} dy={5} textAnchor=\"start\" fill=\"#666\" transform=\"rotate(90)\">\r\n            {payload.value}\r\n          </text>\r\n        </g>\r\n      );\r\n    }\r\n  }\r\n\r\n  function getEstimate(startDate, endDate, filterUser) {\r\n    return fetch('/getEstimateSummary/')\r\n      .then(data => data.json())\r\n  }\r\n\r\nfunction HoursEstimate() {\r\n\r\n    const [userData, setUserData] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getEstimate().then(e=> {\r\n            setUserData(e);\r\n            setLoading(false)\r\n        })\r\n    }, [])\r\n\r\n    let estimateGrid;\r\n    if(loading===true){\r\n        estimateGrid = <TailSpin color=\"#282c34\" height={200} width={200} ariLabel='Loading'/>;\r\n    } else {\r\n        estimateGrid=  <BarChart width={400} height={250} data={userData}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Username\" height={60} interval={0} tick={<CustomizedAxisTick/>} />\r\n                            <YAxis  label={{ value: 'Hours', angle: -90, position: 'outsideLeft' }}/>\r\n                            <Tooltip />\r\n                            <Bar dataKey=\"Estimate\" fill=\"#202c40\" maxBarSize={50} />\r\n                        </BarChart> \r\n    }\r\n    return(\r\n        <>\r\n        {estimateGrid}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default HoursEstimate;","\r\nimport React, {useState, useEffect} from 'react';\r\nimport Button from 'react-bootstrap/Button'\r\nimport Toast from 'react-bootstrap/Toast'\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\nimport '../custom-grid-styling.css';\r\n\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\n\r\nimport { getSummary, getTaskCount } from './returnTasks'\r\nimport {BsTable} from \"react-icons/bs\"\r\n\r\nimport { default as HoursEstimate } from './HoursEstimate.jsx'\r\n\r\nimport './custom-styling.css';\r\n\r\n\r\nconst Summary = React.memo( props => {\r\n    \r\n    //console.log(\"Summary Render\");\r\n    \r\n    const [show, setShow] = useState(false);\r\n    //const [dataSource, setDataSource] = useState([]);\r\n    const [r1, setR1] = useState();\r\n    const [r2, setR2] = useState();\r\n    const [r3, setR3] = useState();\r\n    const [w1, setW1] = useState();\r\n    const [w2, setW2] = useState();\r\n    const [w3, setW3] = useState();\r\n    const [s1, setS1] = useState();\r\n    const [s2, setS2] = useState();\r\n    const [s3, setS3] = useState();\r\n    const [g1, setG1] = useState();\r\n    const [g2, setG2] = useState();\r\n    const [g3, setG3] = useState();\r\n    const [n1, setN1] = useState();\r\n    const [n2, setN2] = useState();\r\n    const [n3, setN3] = useState();\r\n\r\n    const [fullCount, setFullCount] = useState();\r\n\r\n\r\n    const handleShow = () => {\r\n        if(show===false){\r\n            setShow(true);\r\n        } else {\r\n            setShow(false);\r\n        }\r\n        \r\n    }\r\n\r\n    //GRID SET UP\r\n    //Default Sorting Info for the grid\r\n   const defaultSortInfo = { name: 'All', dir: -1 }\r\n\r\n    const theme = 'default-dark'\r\n    const columns = [\r\n        {name: 'User', header: 'User', maxWidth:100, type: 'string'},\r\n        {name: 'p1', header: '1', maxWidth:60, type: 'number'},\r\n        {name: 'p2', header: '2', maxWidth:60, type: 'number'},\r\n        {name: 'p3', header: '3', maxWidth:60, type: 'number'},\r\n        {name: 'All', header: 'All', maxWidth:72, type: 'number'}\r\n    ]\r\n    const gridStyle = { minHeight:250, margin:5 }\r\n    \r\n    const userSource = [\r\n        {id: 1, User: 'Richard', p1: 0, p2: 0, p3: 0},\r\n        {id: 2, User: 'Wesley', p1: 0, p2: 0, p3: 0},\r\n        {id: 5, User: 'Stephen', p1: 0, p2: 0, p3: 0},\r\n        {id: 6, User: 'Gavin', p1: 0, p2: 0, p3: 0},\r\n        {id: 7, User: 'Neil', p1: 0, p2: 0, p3: 0}\r\n    ]\r\n    \r\n    // eslint-disable-next-line\r\n    const getDataSource = () => {\r\n        const priorities = [1,2,3];\r\n        \r\n\r\n        userSource.forEach(user => {   \r\n            priorities.forEach(p => {\r\n               getSummary(user.id, p)\r\n                .then(result => {\r\n                    //console.log(result);\r\n                    if(user.id===1 && p===1){\r\n                        setR1(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===1 && p===2){\r\n                        setR2(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===1 && p===3){\r\n                        setR3(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===2 && p===1){\r\n                        setW1(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===2 && p===2){\r\n                        setW2(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===2 && p===3){\r\n                        setW3(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===5 && p===1){\r\n                        setS1(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===5 && p===2){\r\n                        setS2(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===5 && p===3){\r\n                        setS3(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===6 && p===1){\r\n                        setG1(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===6 && p===2){\r\n                        setG2(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===6 && p===3){\r\n                        setG3(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===7 && p===1){\r\n                        setN1(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===7 && p===2){\r\n                        setN2(result[0][\"\"]);\r\n                    }\r\n                    if(user.id===7 && p===3){\r\n                        setN3(result[0][\"\"]);\r\n                    }\r\n                }) \r\n            })\r\n        });        \r\n    }\r\n    \r\n    \r\n    const count = ()=> {\r\n        getTaskCount().then(c=>{\r\n            setFullCount(c[0][\"\"]);            \r\n        })\r\n    }\r\n\r\n    let x=0;\r\n    useEffect(() => {\r\n        if(x===0){\r\n            getDataSource();  \r\n            count();\r\n            x=x+1; \r\n        }\r\n\r\n        //console.log(x);\r\n    })\r\n    \r\n\r\n    const dataSource = [\r\n        {id: 1, User: 'Richard', p1: r1, p2: r2, p3: r3, All: [r1+r2+r3]},\r\n        {id: 2, User: 'Wesley', p1: w1, p2: w2, p3: w3, All: [w1+w2+w3]},\r\n        {id: 5, User: 'Stephen', p1: s1, p2: s2, p3: s3, All: [s1+s2+s3]},\r\n        {id: 6, User: 'Gavin', p1: g1, p2: g2, p3: g3, All: [g1+g2+g3]},\r\n        {id: 7, User: 'Neil', p1: n1, p2: n2, p3: n3, All: [n1+n2+n3]}\r\n    ]\r\n\r\n    //var numbers = [r1+r2+r3, w1+w2+w3, s1+s2+s3, g1+g2+g3, n1+n2+n3];\r\n    //console.log(numbers);\r\n    //numbers.sort(function(a, b) {\r\n    //  return b - a;\r\n    //});\r\n    //console.log(numbers);\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n        \r\n        <OverlayTrigger key='Summary' placement='bottom'\r\n          overlay={\r\n            <Tooltip id='tooltip-summary'>\r\n              Show Summary Table\r\n            </Tooltip>\r\n          }\r\n        >\r\n            <Button  onClick={ () => {\r\n            handleShow();\r\n            getDataSource();  \r\n            count();   \r\n        }}\r\n        style={{margin:'5px'}}\r\n          variant={'secondary'}\r\n          >\r\n            <BsTable/>\r\n          </Button>\r\n        </OverlayTrigger>\r\n        \r\n\r\n\r\n        <div className=\"summary\">\r\n        <Toast onClose={() => setShow(false)} show={show} style={{width:'800px', height: '320px'}} >\r\n          <Toast.Header>\r\n            <strong className=\"me-auto\">Summary&nbsp;-&nbsp;&nbsp;{fullCount}</strong>\r\n            \r\n          </Toast.Header>\r\n          <Toast.Body>\r\n          <div className=\"summary-grid\">\r\n              <ReactDataGrid \r\n                idProperty=\"id\"\r\n                columns={columns}\r\n                dataSource={dataSource}\r\n                style={gridStyle}\r\n                theme={theme}\r\n                defaultSortInfo={defaultSortInfo}\r\n              />\r\n            </div>\r\n            <div className=\"estimate-chart\">\r\n                <HoursEstimate />\r\n            </div>\r\n\r\n              \r\n          </Toast.Body>\r\n        </Toast> \r\n        </div>\r\n        \r\n      </>\r\n    )\r\n});\r\n\r\nexport default Summary;","export function LoadDataSource (user, priority, showingClosed, filterCustCode, department, urgent, search) {\r\n\r\n    //-----LOAD TASKS FOR THE GRID -----//\r\n    //const [dataSource, setDataSource] = useState([]);\r\n    //const [taskAmount, setTaskAmount] = useState(0);\r\n\r\n    let dataSource = []\r\n    let taskAmount = 0;\r\n\r\n    const filterUser = user;\r\n    const filterPriority = priority;\r\n    const isShowClosed = showingClosed;\r\n    const filterCustomer = filterCustCode;\r\n    const departmentCode = department;\r\n    const urgentOnly = urgent;\r\n    let Search = search;\r\n    if(search === '') {\r\n      Search = 'nosearchentered';\r\n    }\r\n    \r\n      const newDataSource = (filterUser, filterPriority, isShowClosed, filterCustomer, departmentCode, urgentOnly, Search) =>{\r\n        return fetch('/queryTasks/' + filterUser + '&' + filterPriority + '&' + isShowClosed + '&' + filterCustomer + '&' + departmentCode + '&' + urgentOnly + '&' + Search).then(response => {\r\n\r\n          return response.json().then(data => {\r\n            taskAmount = data.length;\r\n            return { data, count: data.length };\r\n          })\r\n        });\r\n      }\r\n      dataSource = newDataSource(filterUser, filterPriority, isShowClosed, filterCustomer, departmentCode, urgentOnly, Search);\r\n    \r\n    //----------//\r\n\r\n    let returnValues = {\r\n      data: dataSource,\r\n      count: taskAmount\r\n    }\r\n\r\n    return returnValues;\r\n}","import React, {  useState, useEffect, useCallback } from 'react';\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\n//Bootstrap Used for buttons, modals and styling\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\n\r\n//React-DatePicker used for date inputs\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport moment from 'moment'\r\n\r\n// Importing functions to fetch data from express.js server\r\nimport { addNewTask, openHistory, getNewTaskID, getHistory, addNote, updateTask, returnCustomers, returnDepartments, returnUsers, getSelectedTask, returnReasons, closeTask, reOpenTask, makeUrgent, getItems, closeItem, getTimeSpent } from './returnTasks.js'\r\n// Function to export grid to excel\r\nimport { exportCSV, exportPDF, exportHistoryPDF } from '../excelExport.js'\r\n\r\nimport NewTask from './NewTask.jsx'\r\nimport MultiEdit from './MultiEdit.jsx'\r\nimport Summary from './Summary.jsx'\r\nimport {LoadDataSource} from './LoadDataSource'\r\n\r\n\r\nimport {RiFileExcel2Line} from 'react-icons/ri'\r\nimport {ImFilePdf} from 'react-icons/im'\r\nimport {IoReload} from 'react-icons/io5'\r\nimport {MdCancel} from 'react-icons/md'\r\nimport { FaExclamation, FaSave} from 'react-icons/fa'\r\nimport {HiOutlineMail} from \"react-icons/hi\";\r\nimport {AiFillCloseCircle, AiOutlineCopy} from \"react-icons/ai\";\r\nimport {BiPlus, BiMinus } from \"react-icons/bi\"\r\n\r\n\r\n\r\n\r\nfunction addItem(task, details) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      Details: details,\r\n      taskID: task\r\n    })\r\n  }\r\n  return fetch('/addItem/', requestOptions)\r\n   \r\n}\r\n\r\n//CSS File for changing row colours\r\n \r\n\r\n//This function adds a className to a row that allows custom styling of that row\r\nconst rowClassName = ({data})=> {\r\n  \r\n  \r\n  if (data.State === 'C') {\r\n    return \"global-custom-row-green\"\r\n  } else if(data.Urgent===true){\r\n    return \"global-custom-row-red\"\r\n  }\r\n  return 'global-custom-row'\r\n  \r\n}\r\n\r\nconst itemRowClassName = ({data})=> {\r\n\r\n  if(data.Complete===true) {\r\n    return \"global-custom-row-light-green\"\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n//Overall Tasks function that handles the 'Tasks' page\r\nfunction Tasks() {\r\n  //console.log(\"Tasks Render\");\r\n  document.title = 'HQ Business - Tasks';\r\n\r\n  //----- GET CURRENT USER -----//\r\n  const tokenString = sessionStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  //const Username = userToken.username;\r\n  const UserID = userToken.userId;\r\n\r\n  const AllCustomers = {\r\n    \"SupportCode\":0,\r\n    \"Customer_Code\":0,\r\n    \"CustomerName\":\"All Customers\",\r\n    \"CustomerCode\":0\r\n  }\r\n  const AllDepartments = {\r\n    'Code': 0,\r\n    'Department': 'All Departments'\r\n  }\r\n  const AllUsers = {\r\n    'Username': 'None Selected',\r\n    'UserId': 0\r\n  }\r\n  const currentUserObj = {\r\n    'UserId': userToken.userId,\r\n    'Username':  userToken.username\r\n  }\r\n  \r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [itemDataSource, setItemDataSource] = useState([]);\r\n  const [taskAmount, setTaskAmount] = useState();\r\n  \r\n  const [filterUser, setFilterUser] = useState(currentUserObj);\r\n  const [filterPriority, setFilterPriority] = useState(1);\r\n  const [filterCustomer, setFilterCustomer] = useState(AllCustomers);\r\n  const [filterDepartment, setFilterDepartment] = useState(AllDepartments);\r\n  const [showingClosed, setShowingClosed] = useState(false);\r\n  const [urgentOnly, setUrgentOnly] = useState(false);\r\n  const [searchString, setSearchString] = useState('');\r\n\r\n\r\n  //const [allCurrTasks, setAllCurrTasks] = useState({});\r\n\r\n  const reLoadDataExt = () => {\r\n    setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n    setSelected({});\r\n  }\r\n  \r\n  // Use Effect Hook to load data for the grid when webpage is loaded\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    \r\n    setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n    //console.log(dataSource);\r\n    returnCustomers()\r\n      .then(customers => {\r\n        if(mounted) {\r\n          setCustomers(customers)\r\n        }\r\n      })\r\n    returnDepartments()\r\n      .then(departments => {\r\n        if(mounted) {\r\n          setDepartments(departments);\r\n        }\r\n      })\r\n    returnUsers()\r\n      .then(users => { \r\n        if(mounted) {\r\n          setUsers(users)\r\n        }\r\n      }) \r\n      if(filterPriority===1) {\r\n        document.getElementById(\"inline-radio-1\").click();\r\n      }\r\n      if(filterPriority===2) {\r\n        document.getElementById(\"inline-radio-2\").click();\r\n      }\r\n      if(filterPriority===3) {\r\n        document.getElementById(\"inline-radio-3\").click();\r\n      }\r\n\r\n\r\n      //let gridData=gridRef.current.data;\r\n      //console.log(gridData);\r\n      //let allTasks={};\r\n      //for(let i=0; i<gridData.length; i++) {\r\n      //  allTasks[gridData[i].Task] = gridData[i]\r\n      //}\r\n      //console.log(allTasks);\r\n      //setAllCurrTasks(allTasks);\r\n      //console.log(allCurrTasks);\r\n\r\n      //console.log(dataSource);\r\n    return () => mounted = false;\r\n  }, [filterUser, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString])\r\n  //Store reference to grid for exporting PDF/CSV\r\n  const [gridRef, setGridRef] = useState(null);\r\n  const [historyRef, setHistoryRef] = useState(null);\r\n\r\n  const [noteValue, setNoteValue] = useState(\"\");\r\n  const [historyMinutes, setHistoryMinutes] = useState();\r\n\r\n  \r\n  \r\n\r\n\r\n\r\n  //----- DOUBLE-CLICK ON ROW -----//\r\n  \r\n  //setting departments/users/customers for drop downs\r\n  const [departments, setDepartments] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  //Store current taskID of row that has been double clicked\r\n  var [taskID, setTaskID] = useState();\r\n  //Store History of current task\r\n  const [history, setHistory] = useState([]);\r\n  //Dates to update\r\n  const [updateDueDate, setUpdateDueDate] = useState(new Date());\r\n  const [updateReqDate, setUpdateReqDate] = useState(new Date());\r\n  //State to load in the task that will be updated\r\n  const [taskToUpdate, setTaskToUpdate] = useState({});\r\n  //Holds values of dropdowns to update task with\r\n  const [editCustomer, setEditCustomer] = useState([]);\r\n  const [editDepartment, setEditDepartment] = useState([]);\r\n  const [editUser, setEditUser] = useState([]);\r\n  const [departmentValue, setDepartmentValue] = useState({});\r\n  const [tasksUser, setTasksUser] = useState({});\r\n\r\n\r\n  const [closedStatus, setClosedStatus] = useState('O');\r\n\r\n\r\n  //-- SHOW/HIDE MODAL --//\r\n  const [show, setShow] = useState(false);\r\n  const [showCloseTask, setShowCloseTask] = useState(false);\r\n\r\n  const [emailBody, setEmailBody] = useState(\"\");\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setSelected({}); \r\n    setHistoryMinutes(); \r\n    setSelectedItems();\r\n  }\r\n  const handleShow = () => {setShow(true);}\r\n\r\n  //-- ALLOW DOUBLE CLICK --//\r\n  const onRowDoubleClick = useCallback((rowProps) => {   \r\n    \r\n    var taskID = rowProps.data.Task;\r\n\r\n    setItemDataSource(getItems(rowProps.data.Task));\r\n\r\n    getSelectedTask(taskID).then(task=> {\r\n      setTaskToUpdate(task[0]);\r\n\r\n      //console.log(task[0]);\r\n      setUpdateDueDate(new Date(task[0].DueDate));\r\n      setUpdateReqDate(new Date(task[0].Requested));\r\n      for(let i=0; i<departments.length; i++) {\r\n        if(departments[i].Code===task[0].Department) {\r\n          setDepartmentValue(departments[i]);\r\n        }\r\n      }\r\n      for(let j=0; j<users.length; j++) {\r\n        if(task[0].ActionBy===users[j].UserId){\r\n          setTasksUser(users[j]);\r\n          \r\n        }\r\n      }\r\n      \r\n      setClosedStatus(task[0].State);\r\n\r\n      \r\n      \r\n      let duedate= new Date(task[0].DueDate)\r\n      let taskDate = moment(duedate).format(\"DD-MM-YYYY\")\r\n      \r\n      setEmailBody(`mailto:?subject=Task:%20${task[0].Issue_No}&body=Company:%20${task[0].Company_Name}%0D%0AIssue:%20${task[0].Issue_No}%0D%0ADetails:%20${task[0].Details}%0D%0APriority:%20${task[0].Priority}%0D%0ADue:%20${taskDate}`);\r\n    });\r\n\r\n   \r\n\r\n    //console.log(departmentValue);\r\n    \r\n    handleShow();    \r\n       \r\n    setTimeout(() => {\r\n        document.getElementById('addHistory').focus();\r\n        /*\r\n        if(urgentStatus==true) {\r\n          document.getElementById('mark-urgent-check').click();\r\n        }\r\n        */\r\n    },20)\r\n        \r\n    setTaskID(taskID)\r\n    //var items = getHistory(taskID)\r\n    //setHistory(items)\r\n    \r\n    getHistory(taskID)\r\n      .then(history => {  \r\n        setHistory(history);        \r\n      })  \r\n      \r\n  }, [departments, users]);\r\n\r\n  const onRenderRow = useCallback((rowProps) => {\r\n    const { onDoubleClick } = rowProps;\r\n    \r\n    setTaskAmount(rowProps.dataSourceArray.length);\r\n    \r\n    \r\n    rowProps.onDoubleClick = (event) => {\r\n      onRowDoubleClick(rowProps);\r\n      if (onDoubleClick) {\r\n        onDoubleClick(event);\r\n      }\r\n    };\r\n\r\n\r\n    \r\n  }, [onRowDoubleClick])\r\n  \r\n  //-- SUBMIT BUTTONS --//\r\n  const onSubmit = () => {\r\n    \r\n    \r\n    handleClose();\r\n    //console.log(editUser);\r\n    //console.log(tasksUser);\r\n    \r\n\r\n    if(editUser.UserId === undefined) {\r\n      updateTask(taskToUpdate, editCustomer.CustomerName, editCustomer.CustomerCode, editDepartment.Code, tasksUser.UserId);\r\n      //console.log(tasksUser);\r\n    } else {\r\n      updateTask(taskToUpdate, editCustomer.CustomerName, editCustomer.CustomerCode, editDepartment.Code, editUser.UserId);\r\n      // console.log(editUser);\r\n\r\n      //Add Note to History tracking change of User for the Task\r\n      //  editUser.Username == User task was changed to.\r\n      //  tasksUser.Username == User it was previously\r\n\r\n      let userChanged = \"From \" + tasksUser.Username + \" to \" + editUser.Username; \r\n      \r\n      addNote(userChanged, taskID, UserID);\r\n\r\n    }\r\n   \r\n    \r\n    if(noteValue !== \"\") {\r\n      addNote(noteValue, taskID, UserID, historyMinutes);\r\n      setNoteValue(\"\");\r\n    }\r\n    setEditCustomer([]);\r\n    setEditUser([]);\r\n    \r\n    setTimeout(()=> {\r\n      setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n    },500)\r\n  \r\n  \r\n\r\n\r\n    if(selectedItems!==undefined) {\r\n      const selectedIds =[];\r\n\r\n      Object.keys(selectedItems).forEach(function(key) {\r\n        selectedIds.push(key);\r\n        //console.log(selectedItems[key].Complete);\r\n        if(selectedItems[key].Complete===false){\r\n          closeItem(key, 1);\r\n          //console.log(key);\r\n          //console.log(\"is being closed\");\r\n        } else {\r\n          closeItem(key, 0);\r\n          //console.log(key);\r\n          //console.log(\"is being opened\");\r\n        }\r\n      });\r\n    }\r\n\r\n    //console.log(inputList);\r\n    if(inputList[0].item!==''){\r\n      //console.log(\"NEW ITEM(S) ADDED\")\r\n      inputList.forEach(e => {\r\n        addItem(taskToUpdate.Issue_No, e.item);\r\n      })\r\n\r\n      setInputList([{item: \"\"}]);\r\n    }\r\n    \r\n\r\n    //closeItem(selectedIds, 1);\r\n  }\r\n\r\n  //States for closing tasks\r\n  const [reasons, setReasons] = useState([]);\r\n  const [reasonToClose, setReasonToClose] = useState([]);\r\n  const [closingMinutes, setClosingMinutes] = useState();\r\n  \r\n  const onSubmitCloseTask = () => {\r\n    handleCloseCloseTask();\r\n    \r\n    let closingNote = \"Task Closed: \" + reasonToClose.Reason\r\n    if(reasonToClose.Code!==undefined){\r\n      addNote(closingNote, taskID, UserID, closingMinutes);\r\n      closeTask(taskID, reasonToClose.Code, closingMinutes);\r\n    } else {\r\n      alert(\"Please select Reason for Closing Task\");\r\n      handleShowCloseTask();\r\n    }\r\n    \r\n    setTimeout(()=> {\r\n      setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n    },500)\r\n\r\n    setClosingMinutes();\r\n  }\r\n\r\n  const [timeSpent, setTimeSpent] = useState(0);\r\n  //Handles Show/Hide Modal for closing tasks\r\n  const handleCloseCloseTask = () => {\r\n    setShowCloseTask(false);\r\n    //alert(reasonToClose.Reason + \" \" + reasonToClose.Code);\r\n    setClosingMinutes(0);\r\n    setReasonToClose([]);\r\n    setTimeSpent(0);\r\n  }\r\n  const handleShowCloseTask = () => {\r\n    getTimeSpent(taskID)\r\n      .then(res=> {\r\n        //console.log(res[0].TimeSpent);\r\n        setTimeSpent(res[0].TimeSpent);\r\n        setShowCloseTask(true);\r\n      });    \r\n    \r\n    returnReasons()\r\n      .then(reasons => {\r\n        setReasons(reasons)\r\n      })  \r\n  }\r\n  //----------//\r\n\r\n  //Sets data for the rows that are checked\r\n  const [selected, setSelected] = useState({});\r\n  \r\n  const onSelectionChange = useCallback(({ selected }) => {\r\n    if(selected!==true){\r\n      setSelected(selected);\r\n    }\r\n\r\n    //console.log(JSON.stringify(toArray(selected)));\r\n    //console.log(selected)\r\n      \r\n  }, [])\r\n\r\n//For Items Grid\r\n  //Sets data for the rows that are checked\r\n  const [selectedItems, setSelectedItems] = useState();\r\n  \r\n  const onSelectionItemChange = useCallback(({ selected }) => {\r\n    \r\n    if(selected!==true){\r\n      setSelectedItems(selected);\r\n    }\r\n\r\n    //console.log(JSON.stringify(toArray(selected)));\r\n    //console.log(selectedItems);\r\n      \r\n  }, [])\r\n\r\n\r\n  //const [filterUserName, setFilterUserName] = useState(Username);\r\n  //const [filterPriority, setFilterPriority] = useState(1);\r\n\r\n\r\n  //----- GRID INFO -----//\r\n  //Default Sorting Info for the grid\r\n  const defaultSortInfo = { name: 'Task', dir: -1 }\r\n  //Column set-up for the grid\r\n  const columns = [\r\n    {name:'Task', header:'ID', type: 'number', defaultFlex: 1, maxWidth:70},\r\n    {name:'Customer', header:'Customer', defaultFlex: 1, maxWidth: 200, minWidth: 150},\r\n    {name:'Details', header:'Details', defaultFlex: 1, minWidth: 500},\r\n    {name:'Area', header:'Department', defaultFlex: 1, maxWidth: 130},\r\n    {name:'Application', header:'Ref 1', defaultFlex: 1, maxWidth: 100},\r\n    {name:'Reference2', header:'Ref 2', defaultFlex: 1, maxWidth: 100},\r\n    {name:'Last Comment', header:'Last Comment', defaultFlex: 1},\r\n    {name:'Requested', header:'Requested', defaultFlex: 1, maxWidth: 115, \r\n      sort: (a, b) => {\r\n        a = moment(a, 'DD/MM/YYYY', true).format();\r\n        b = moment(b, 'DD/MM/YYYY', true).format();\r\n\r\n        return new Date(a) - new Date(b);\r\n     }\r\n    },\r\n    {name:'Updated', header:'Updated', defaultFlex: 1, maxWidth: 115,\r\n      sort: (a, b) => {\r\n        a = moment(a, 'DD/MM/YYYY', true).format();\r\n        b = moment(b, 'DD/MM/YYYY', true).format();\r\n\r\n        return new Date(a) - new Date(b);\r\n      }\r\n    },\r\n    {name:'DueDate', header:'Due Date', defaultFlex: 1, maxWidth: 115,  \r\n      sort: (a, b) => {\r\n        a = moment(a, 'DD/MM/YYYY', true).format();\r\n        b = moment(b, 'DD/MM/YYYY', true).format();\r\n\r\n        return new Date(a) - new Date(b);\r\n      }\r\n    },\r\n    {name:'Mins', header:'Estimate', type: 'number', defaultFlex: 1, maxWidth: 120},\r\n    {name:'Invoice', header:'Invoice', type: 'number', defaultFlex: 1},\r\n    {name:'P', header:'P', type: 'number', defaultFlex: 1, maxWidth: 75},\r\n    {name:'ActionByUsername', header:'User', defaultFlex: 1},\r\n    {name:'Owner_Name', header:'Owner', defaultFlex: 1}\r\n  ]\r\n  //Styling that is used on main grid\r\n  const gridStyle = {\r\n    height: '100%', \r\n    marginRight: 10,\r\n    marginLeft: 10\r\n    //border: '1px solid black',\r\n    //boxShadow:  '0 0 8px 2px rgba(0, 0, 0)'\r\n  }\r\n\r\n  const historyStyle = {\r\n    minHeight: 400\r\n  }\r\n  const theme = 'default-dark'\r\n  //Column set-up for the 'history' grid\r\n  const itemsColumns = [\r\n    {name: 'ID', header: 'ID', defaultVisible:false},\r\n    {name: 'Details', header: 'Details', minWidth:730}\r\n  ]\r\n\r\n  const HQDetails={\r\n    'SupportCode' : 0,\r\n    'Customer_Code' : 340,\r\n    'CustomerName' : \"HQ Software\",\r\n    'CustomerCode': 340\r\n  }\r\n\r\n  const itemsStyle = {\r\n    minHeight: 400\r\n  }\r\n  const historyColumns = [\r\n    {name: 'Username', header: 'User'},\r\n    {name: 'Time', header: 'When'},\r\n    {name: 'Notes', header: 'Notes', minWidth: 315},\r\n    {name: 'Minutes', header: 'Minutes'}\r\n  ]\r\n\r\n  const createEmail = () => { \r\n    //Send email here\r\n    window.open(emailBody);\r\n  } \r\n  \r\n  const [showPrompt, setShowPrompt] = useState(false);\r\n  const handleClosePrompt = () => setShowPrompt(false);\r\n  \r\n  //Copy the selected Task\r\n  const copyTask = () => {\r\n    //console.log(taskToUpdate);\r\n    \r\n    handleClosePrompt();\r\n    \r\n    getNewTaskID().then(task=> {\r\n      setTaskID(task[0][\"\"])\r\n    \r\n      //console.log(task.[0].[\"\"]);\r\n      addNewTask(task[0][\"\"], taskToUpdate.Company_Name, taskToUpdate.Account, taskToUpdate.Details, taskToUpdate.Priority, taskToUpdate.DueDate, taskToUpdate.Requested, taskToUpdate.Department, taskToUpdate.Owner_Name, taskToUpdate.ActionBy, taskToUpdate.Reference, taskToUpdate.Reference3, taskToUpdate.Reference2, taskToUpdate.Notes, taskToUpdate.Reference4, taskToUpdate.Invoice, taskToUpdate.Urgent);\r\n      openHistory(task[0][\"\"], UserID);\r\n      //onTaskCreate(task.[0].[\"\"]);\r\n      setTaskToUpdate(prevTask => {\r\n        return { \r\n          ...prevTask, \r\n          Issue_No: task[0][\"\"]\r\n        }\r\n      })\r\n      let minutes = 0;\r\n      getHistory(task[0][\"\"])\r\n        .then(history => {  \r\n          setHistory(history);\r\n          //console.log(history);\r\n          history.forEach(item => {\r\n            minutes=minutes+item.Minutes\r\n          }); \r\n          setShow(true);\r\n      }) \r\n\r\n      \r\n      //Reload task data\r\n      setTimeout(()=> {\r\n        reLoadDataExt();\r\n        //setShow(true);\r\n      },300)\r\n    });\r\n\r\n  }\r\n\r\n  //Adding new Items to task\r\n\r\n  const [inputList, setInputList] = useState([{item: \"\"}]);\r\n    \r\n\r\n    // handle input change\r\n    const handleInputChange = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...inputList];\r\n        list[index][name] = value;\r\n        setInputList(list);\r\n    };\r\n\r\n    // handle click event of the Remove button\r\n    const handleRemoveClick = index => {\r\n      const list = [...inputList];\r\n      list.splice(index, 1);\r\n      setInputList(list);\r\n    };\r\n\r\n    // handle click event of the Add button\r\n    const handleAddClick = () => {\r\n      setInputList([...inputList, { item: \"\"}]);\r\n    };\r\n\r\n  \r\n  return(\r\n    <>\r\n    <h5 className='task-amount-heading'>Total: {taskAmount}</h5>\r\n    <div className='filter-row'>\r\n      <div className='button-group-left'>\r\n        {/*New Task */}\r\n      <NewTask filterUser={filterUser}  filterDepartment={filterDepartment} filterCustomer={filterCustomer} onClick={reLoadDataExt}/>\r\n      {/* Edit Multiple */}\r\n      <MultiEdit selected={selected} onClick={reLoadDataExt}/> \r\n      {/* Clear Filters */}\r\n      <OverlayTrigger key='ClearFilters' placement='bottom'\r\n        overlay={\r\n          <Tooltip id='tooltip-clear'>\r\n            Clear Filters\r\n          </Tooltip>\r\n        }\r\n      >\r\n           <Button variant=\"secondary\" style={{margin:'5px'}}\r\n        \tonClick={ () => {\r\n            setFilterCustomer(AllCustomers);\r\n            setFilterUser(AllUsers);\r\n            //setFilterUserName(Username);\r\n            setFilterDepartment(AllDepartments);\r\n            document.getElementById('inline-radio-4-all').click();\r\n          }}\r\n        >\r\n          <MdCancel />\r\n        </Button>    \r\n      </OverlayTrigger>\r\n      {/* Re-Load Grid */}\r\n      <OverlayTrigger key='Refresh' placement='bottom'\r\n              overlay={\r\n                <Tooltip id='tooltip-refresh'>\r\n                  Refresh\r\n                </Tooltip>\r\n              }\r\n            >\r\n              <Button variant=\"secondary\" style={{margin:'5px'}}\r\n              onClick={() => {\r\n                setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n                //console.log(dataSource)\r\n              }}>\r\n                <IoReload/>\r\n              </Button>\r\n            </OverlayTrigger>\r\n      </div>\r\n       {/* Search Field */}\r\n       <Form.Control  value={searchString} style={{width:300, margin: '5px'}} placeholder='Search...'\r\n                onChange = {e=> {\r\n                  setSearchString(e.target.value);\r\n                  // console.log(e.target.value);\r\n                }}>\r\n              </Form.Control>\r\n      {/* Customer Select */}\r\n              <Form.Control as=\"select\" value={JSON.stringify(filterCustomer)} style={{width:300, margin: '5px'}}\r\n                onChange = {e=> {\r\n                  setFilterCustomer(JSON.parse(e.target.value));\r\n                  // console.log(e.target.value);\r\n                }}>\r\n              <option value={JSON.stringify(AllCustomers)}>{AllCustomers.CustomerName}</option>\r\n              <option value={JSON.stringify(HQDetails)}>{HQDetails.CustomerName}</option>\r\n              {\r\n                customers.map((customer, index) => {\r\n                  return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                })\r\n              }\r\n              </Form.Control>\r\n      {/* User Select */}\r\n      <Form.Control as=\"select\" value={JSON.stringify(filterUser)}  style={{width:150, margin: '5px'}}\r\n                onChange = {e=> {\r\n                  //let temp=JSON.parse(e.target.value);\r\n                  //setFilterUserName(temp.Username);\r\n                  setFilterUser(JSON.parse(e.target.value));\r\n                }}>\r\n              <option value ={JSON.stringify(currentUserObj)}>{currentUserObj.Username}</option>\r\n              {\r\n                users.map((user, index) => {\r\n                  if(user.Username!==currentUserObj.Username) {\r\n                    return(<option key={index} value={JSON.stringify(user)}>{user.Username}</option>)\r\n                  }\r\n                  else return null;\r\n                })\r\n              }\r\n              <option value={JSON.stringify(AllUsers)}>All Users</option>\r\n      </Form.Control>\r\n      {/* Department Select */}\r\n        <Form.Control as=\"select\" value={JSON.stringify(filterDepartment)} style={{width:200, margin: '5px'}}\r\n                    onChange = {e=> setFilterDepartment(JSON.parse(e.target.value))}>\r\n                  <option value={JSON.stringify(AllDepartments)}>{AllDepartments.Department}</option>\r\n                  {\r\n                    departments.map((department, index) => {\r\n                      return(<option key={index} value={JSON.stringify(department)}>{department.Department}</option>)\r\n                    })\r\n                  }\r\n        </Form.Control>\r\n      {/* Priority Radios */}\r\n        <div className='filter-P-radios' style={{margin: '5px'}}>\r\n        <Form.Check\r\n              inline\r\n              label=\"1\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-1'}\r\n              onChange = {e=> setFilterPriority(1)} \r\n            />\r\n            <Form.Check\r\n              inline\r\n              label=\"2\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-2'}\r\n              onChange = {e=> setFilterPriority(2)}             \r\n            />\r\n            <Form.Check\r\n              inline\r\n              label=\"3\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-3'}\r\n              onChange = {e=> setFilterPriority(3)} \r\n            />\r\n            <Form.Check\r\n              inline\r\n              label=\"ALL\"\r\n              type=\"radio\"\r\n              name=\"group1\"\r\n              id={'inline-radio-4-all'}\r\n              onChange = {e=> setFilterPriority(0)} \r\n            />\r\n        </div>    \r\n      {/* Closed Checkbox */}\r\n      <Form.Check \r\n              type=\"checkbox\" \r\n              label=\"Closed\"\r\n              onChange = {e=> {\r\n                if (showingClosed===false) {\r\n                  setShowingClosed(true);\r\n                } else {\r\n                  setShowingClosed(false);\r\n                }\r\n              }}  \r\n              style={{margin: '5px'}}\r\n      />\r\n      {/* Urgent CheckBox */}\r\n      <Form.Check \r\n              type=\"checkbox\" \r\n              label=\"Urgent Only\"\r\n              onChange = {e=> {\r\n                if (urgentOnly===false) {\r\n                  setUrgentOnly(true);\r\n                } else {\r\n                  setUrgentOnly(false);\r\n                  \r\n                }\r\n              }}  \r\n              style={{margin: '5px'}}\r\n      />\r\n      <div className='button-group-right'>\r\n             {/* Summary */}\r\n      <Summary />\r\n      {/* Export to Excel */}\r\n      <OverlayTrigger key='CSVEXPORT' placement='bottom'\r\n              overlay={\r\n                <Tooltip id='tooltip-excel'>\r\n                  Export to Excel\r\n                </Tooltip>\r\n              }\r\n            >\r\n        <Button variant=\"secondary\"  style={{margin:'5px'}}\r\n        \tonClick={ () => {\r\n            const gridData = gridRef;\r\n            exportCSV(gridData);\r\n          }}\r\n          \r\n        >\r\n        <RiFileExcel2Line />\r\n        </Button>\r\n      </OverlayTrigger>\r\n      {/* Export to PDF */}\r\n      <OverlayTrigger key='PDFEXPORT' placement='bottom'\r\n        overlay={\r\n          <Tooltip id='tooltip-pdf'>\r\n            Export to PDF\r\n          </Tooltip>\r\n        } \r\n      >\r\n           <Button variant=\"secondary\" style={{margin:'5px'}}\r\n        \tonClick={ () => {\r\n            const gridData = gridRef;\r\n            exportPDF(gridData, filterCustomer);\r\n          }}\r\n         \r\n        >\r\n          <ImFilePdf />\r\n        </Button>    \r\n      </OverlayTrigger>\r\n      </div>\r\n     \r\n    \r\n    </div>\r\n      \r\n           \r\n            \r\n            \r\n            \r\n            \r\n          \r\n              <div className='grid-div'>\r\n\r\n      <ReactDataGrid\r\n        \r\n        rowClassName={rowClassName}\r\n        handle={setGridRef}\r\n        idProperty=\"Task\"\r\n        columns={columns}\r\n        dataSource={dataSource}\r\n        style={gridStyle}\r\n        theme={theme}\r\n        onRenderRow={onRenderRow}\r\n        selected={selected}\r\n        checkboxColumn\r\n        onSelectionChange={onSelectionChange}\r\n        defaultSortInfo={defaultSortInfo}\r\n        \r\n        />\r\n        </div>\r\n\r\n      \r\n      <Modal show={show} onHide={handleClose} size=\"lg\" backdrop=\"static\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Task: {taskID}</Modal.Title> \r\n          \r\n          <OverlayTrigger key='Make-Urgent' placement='bottom'\r\n        overlay={\r\n          <Tooltip id='tooltip-pdf'>\r\n            Mark/Unmark as Urgent\r\n          </Tooltip>\r\n        }\r\n      >\r\n        <Button variant =\"danger\" style={{Margin:10 , position:'absolute', left: 160}} \r\n          onClick={() => {\r\n            let input=null;\r\n              if(taskToUpdate.Urgent===null) {\r\n                input = 1;\r\n              } else {\r\n                input = null;\r\n              }\r\n            makeUrgent(taskID, input);\r\n            handleClose();\r\n            onSubmit();\r\n          }}\r\n          >\r\n            <FaExclamation/>\r\n          </Button>\r\n        </OverlayTrigger>\r\n        {\r\n          closedStatus==='C' &&\r\n          <Button variant =\"danger\" style={{Margin:10, position: 'absolute', left:210}}\r\n          onClick={() => {\r\n            handleClose();\r\n            reOpenTask(taskID);\r\n            setTimeout(() => {\r\n              setDataSource(LoadDataSource(filterUser.UserId, filterPriority, showingClosed, filterCustomer.Customer_Code, filterDepartment.Code, urgentOnly, searchString).data);\r\n            }, 50)\r\n            \r\n          }}\r\n          >Reopen Task</Button>\r\n        }\r\n        {\r\n          closedStatus==='O' &&\r\n          <OverlayTrigger key='close-task' placement='bottom'\r\n            overlay={\r\n              <Tooltip id='tooltip-close'>\r\n                Close this Task\r\n              </Tooltip>\r\n            }\r\n          >\r\n            <Button variant=\"danger\" style={{Margin: 10, position: 'absolute', left:210}}\r\n            onClick={ () => {\r\n              handleClose(); \r\n              handleShowCloseTask();\r\n              onSubmit();\r\n              \r\n            }}\r\n            >\r\n              <AiFillCloseCircle/>\r\n            </Button>\r\n          </OverlayTrigger>\r\n          \r\n        }\r\n\r\n        {/* Export to PDF */}\r\n      <OverlayTrigger key='PDFEXPORT' placement='bottom'\r\n        overlay={\r\n          <Tooltip id='tooltip-pdf'>\r\n            Export history to PDF\r\n          </Tooltip>\r\n        } \r\n      >\r\n           <Button variant=\"secondary\" style={{position: 'absolute', right:200}}\r\n        \tonClick={ () => {\r\n            const gridData = historyRef;\r\n\r\n            //console.log(historyRef);\r\n            //console.log(taskToUpdate);\r\n            exportHistoryPDF(gridData, taskToUpdate);\r\n          }}\r\n         \r\n        >\r\n          <ImFilePdf />\r\n        </Button>    \r\n      </OverlayTrigger>\r\n\r\n        <OverlayTrigger key='save-task' placement='bottom'\r\n            overlay={\r\n              <Tooltip id='tooltip-save'>\r\n                Save Changes\r\n              </Tooltip>\r\n            }\r\n        >\r\n          <Button variant=\"secondary\" onClick={handleClose && onSubmit} style={{position: 'absolute', right:50}}>\r\n            <FaSave />\r\n          </Button>\r\n        </OverlayTrigger>\r\n\r\n          <OverlayTrigger key='send-email' placement='bottom'\r\n            overlay={\r\n              <Tooltip id='tooltip-email'>\r\n                Email Task\r\n              </Tooltip>\r\n            }\r\n          >\r\n            <Button variant='secondary' style={{position: 'absolute', right:100}} onClick={()=> createEmail()}>\r\n              <HiOutlineMail/>\r\n            </Button>\r\n        </OverlayTrigger>\r\n\r\n        <OverlayTrigger key='copy-task' placement='bottom'\r\n            overlay={\r\n              <Tooltip id='tooltip-save'>\r\n                Copy Task\r\n              </Tooltip>\r\n            }\r\n        >\r\n          <Button variant=\"secondary\" onClick={()=> {\r\n            setShowPrompt(true); \r\n            setShow(false);\r\n          }} style={{position: 'absolute', right:150}}>\r\n            <AiOutlineCopy />\r\n          </Button>\r\n        </OverlayTrigger>\r\n          \r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Tabs className=\"mb-3\" onSelect={(k) => { \r\n          if(k===\"editTask\"){\r\n            document.getElementById(`inline-editradio-${taskToUpdate.Priority}`).click();\r\n          }\r\n        }}>\r\n            <Tab eventKey=\"history\" title=\"History\">\r\n              <Form>\r\n                \r\n                <Form.Group className=\"mb-3\" controlId=\"addHistory\">\r\n                  <Form.Label>Add History:</Form.Label>\r\n                  <Form.Control \r\n                    as=\"textarea\" \r\n                    rows={3} \r\n                    placeholder=\"Add History...\"\r\n                    value={noteValue}\r\n                    onChange = {e=> setNoteValue(e.target.value)}\r\n                    type=\"text\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                \r\n                <Form.Group className=\"mb-3\" controlId=\"closeTask.Minutes\">\r\n                <Form.Label>Add Time Spent:</Form.Label>\r\n                <Form.Control \r\n                  as=\"input\" \r\n                  rows={1}\r\n                  type=\"number\"\r\n                  placeholder=\"Minutes...\"\r\n                  value={historyMinutes}\r\n                  onChange = {e=> setHistoryMinutes(e.target.value)}/>\r\n            </Form.Group>\r\n              </Form>\r\n          \r\n              <ReactDataGrid \r\n                columns={historyColumns}\r\n                dataSource={history}\r\n                editable={true}\r\n                style={historyStyle}\r\n                handle={setHistoryRef}\r\n              />\r\n            </Tab>\r\n            <Tab eventKey=\"editTask\" title=\"Edit\">\r\n            <Form>\r\n              <Row>\r\n                <Col>\r\n                  <Form.Group controlId=\"editTask.CustomerSelect\">\r\n                  <h7>Customer:</h7>\r\n                    <Form.Control size='sm' as=\"select\" value={customers.CustomerName}\r\n                      onChange = {e=> {\r\n                        setEditCustomer(JSON.parse(e.target.value));\r\n                      }}\r\n                    >\r\n                      <option>{taskToUpdate.Company_Name}</option>\r\n                      <option value={JSON.stringify(HQDetails)}>{HQDetails.CustomerName}</option>\r\n                      {\r\n                        customers.map((customer, index) => {\r\n                        return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                        })\r\n                      }\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"editTask.Department\">\r\n                  <Form.Label style={{display:'inline'}}>Department:</Form.Label>\r\n                    <Form.Control size='sm' as=\"select\" value={departments.Department}\r\n                      onChange = {e=> {\r\n                        setEditDepartment(JSON.parse(e.target.value))\r\n                        console.log(JSON.parse(e.target.value))  \r\n                      }}\r\n                    >\r\n                      <option value={JSON.stringify(departmentValue)}>{departmentValue.Department}</option>\r\n                      {\r\n                        departments.map((department, index) => {\r\n                        if(departmentValue.Department!==department.Department){\r\n                          return(<option key={index} value={JSON.stringify(department)}>{department.Department}</option>)\r\n                        }\r\n                        else return null;\r\n                        })\r\n                      }\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group controlId=\"editTask.UserSelect\">\r\n                    <Form.Label style={{display:'inline'}}>For:</Form.Label>\r\n                    <Form.Control size='sm' as=\"select\" value={users.UserName}\r\n                      onChange = {e=> {setEditUser(JSON.parse(e.target.value))\r\n                      //console.log(JSON.parse(e.target.value));\r\n                      }}\r\n                    >\r\n                      <option value={tasksUser}>{tasksUser.Username}</option>\r\n                      {\r\n                        users.map((user, index) => {\r\n                        if(tasksUser.Username!==user.Username){\r\n                          return(<option key={index} value={JSON.stringify(user)}>{user.Username}</option>)\r\n                        }\r\n                        else return null;\r\n                        })\r\n                      }\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"editTask.Details\">\r\n                    <Form.Label>Details:</Form.Label>\r\n                    <Form.Control \r\n                      as=\"textarea\" \r\n                      rows={3} \r\n                      placeholder=\"Details...\"\r\n                      value={taskToUpdate.Details}\r\n                      onChange = {e=> setTaskToUpdate(prevTask => {\r\n                        return { \r\n                          ...prevTask, \r\n                          Details: e.target.value\r\n                        }\r\n                      })}\r\n                      type=\"text\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"editTask.Notes\">\r\n                    <Form.Label>Notes:</Form.Label>\r\n                    <Form.Control \r\n                      as=\"textarea\" \r\n                      rows={3} \r\n                      placeholder=\"Notes...\"\r\n                      value={taskToUpdate.Notes}\r\n                      onChange = {e=> setTaskToUpdate(prevTask => {\r\n                        return { \r\n                          ...prevTask, \r\n                          Notes: e.target.value\r\n                        }\r\n                      })}\r\n                      type=\"text\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <Form.Label>Due Date:&nbsp;&nbsp;&nbsp;</Form.Label>\r\n                  <DatePicker \r\n                    selected={updateDueDate} \r\n                    onChange={(date) => setTaskToUpdate(prevTask => {\r\n                      setUpdateDueDate(new Date(date))\r\n\r\n                      return {\r\n                        ...prevTask,\r\n                        DueDate: moment(date).format('YYYY-MM-DDThh:mm:ss.000')\r\n                      }\r\n                    \r\n                    })} \r\n                    dateFormat = 'dd/MM/yyyy'\r\n                    calendarStartDay={1}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Form.Label>Requested Date:&nbsp;&nbsp;&nbsp;</Form.Label>\r\n                  <DatePicker \r\n                    selected={updateReqDate} \r\n                    onChange={(date) => setTaskToUpdate(prevTask => {\r\n                      setUpdateReqDate(date)\r\n\r\n                      return {\r\n                        ...prevTask,\r\n                        Requested: moment(date).format('YYYY-MM-DDThh:mm:ss.000')\r\n                      }\r\n                    }\r\n                    )}  \r\n                    dateFormat = 'dd/MM/yyyy'  \r\n                    calendarStartDay={1}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Form.Label>Priority:&nbsp;&nbsp;</Form.Label>\r\n                    <br/>\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"1\"\r\n                    type=\"radio\"\r\n                    name=\"group1\"\r\n                    id={'inline-editradio-1'}\r\n                    onChange = {e=> setTaskToUpdate(prevTask => {\r\n                      return { \r\n                        ...prevTask, \r\n                        Priority: 1\r\n                      }\r\n                    })} \r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"2\"\r\n                    type=\"radio\"\r\n                    name=\"group1\"\r\n                    id={'inline-editradio-2'}\r\n                    onChange = {e=> setTaskToUpdate(prevTask => {\r\n                      return { \r\n                        ...prevTask, \r\n                        Priority: 2\r\n                      }\r\n                    })}             \r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"3\"\r\n                    type=\"radio\"\r\n                    name=\"group1\"\r\n                    id={'inline-editradio-3'}\r\n                    onChange = {e=> setTaskToUpdate(prevTask => {\r\n                      return { \r\n                        ...prevTask, \r\n                        Priority: 3\r\n                      }\r\n                    })} \r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"editTask.Section\" style={{marginTop: 15}}>\r\n                    <Form.Label>Reference 1:</Form.Label>\r\n                      <Form.Control \r\n                        as=\"textarea\" \r\n                        rows={1}\r\n                        type=\"text\"\r\n                        value={taskToUpdate.Reference}\r\n                        onChange = {e=> setTaskToUpdate(prevTask => {\r\n                          return { \r\n                            ...prevTask, \r\n                            Reference: e.target.value\r\n                          }\r\n                        })}                \r\n                      />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"newTask.Area\" style={{marginTop: 15}}>\r\n                    <Form.Label>Reference 2:</Form.Label>\r\n                      <Form.Control \r\n                        as=\"textarea\" \r\n                        rows={1}\r\n                        type=\"text\"\r\n                        value={taskToUpdate.Reference2}\r\n                        onChange = {e=> setTaskToUpdate(prevTask => {\r\n                          return { \r\n                            ...prevTask, \r\n                            Reference2: e.target.value\r\n                          }\r\n                        })} \r\n                      />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"editTask.Contact\">\r\n                  <Form.Label>Requester:</Form.Label>\r\n                    <Form.Control \r\n                      as=\"textarea\" \r\n                      rows={1}\r\n                      type=\"text\"\r\n                      value={taskToUpdate.Reference3}\r\n                      onChange = {e=> setTaskToUpdate(prevTask => {\r\n                        return { \r\n                          ...prevTask, \r\n                          Reference3: e.target.value\r\n                        }\r\n                      })}                \r\n                    />\r\n                  </Form.Group> \r\n                </Col>\r\n                <Col>\r\n                  \t<Form.Group className=\"mb-3\" controlId=\"newTask.Estimate\">\r\n                    <Form.Label>Estimate:</Form.Label>\r\n                      <Form.Control \r\n                        as=\"textarea\" \r\n                        rows={1}\r\n                        type=\"text\"\r\n                        value={taskToUpdate.Estimate}\r\n                        onChange = {e=> setTaskToUpdate(prevTask => {\r\n                          return { \r\n                            ...prevTask, \r\n                            Estimate: e.target.value\r\n                          }\r\n                        })}                \r\n                      />\r\n                    </Form.Group> \r\n                </Col>\r\n                <Col>\r\n                  <Form.Group className=\"mb-3\" controlId=\"newTask.Invoice\">\r\n                  <Form.Label>Invoice:</Form.Label>\r\n                    <Form.Control \r\n                      as=\"textarea\" \r\n                      rows={1}\r\n                      type=\"text\"\r\n                      value={taskToUpdate.Invoice}\r\n                      onChange = {e=> setTaskToUpdate(prevTask => {\r\n                        return { \r\n                          ...prevTask, \r\n                          Invoice: e.target.value\r\n                        }\r\n                      })}                \r\n                    />\r\n                  </Form.Group> \r\n                </Col>\r\n              </Row>   \r\n          </Form> \r\n          <Form.Label>Items:</Form.Label>\r\n        {inputList.map((x, i) => {\r\n        return (\r\n          <div className=\"box\">\r\n            <Form.Group as={Row} controlId=\"newItems\" style={{marginTop: 5}}>\r\n                <Col>\r\n                <Form.Control\r\n                    size=\"sm\"\r\n                    as=\"textarea\" \r\n                    rows={1}\r\n                    type=\"text\"\r\n                    name=\"item\"\r\n                    value={x.item}\r\n                    onChange={e => handleInputChange(e, i)}\r\n                />\r\n                </Col>\r\n                <Col xs={1}>\r\n                    {inputList.length !== 1 && \r\n                      <OverlayTrigger key='RemoveItem' placement='bottom'\r\n                      overlay={\r\n                        <Tooltip id='tooltip-removeitem'>\r\n                          Remove Item\r\n                        </Tooltip>\r\n                      }\r\n                      > \r\n                        <Button size=\"sm\" className=\"mr10\" variant=\"secondary\" onClick={() => handleRemoveClick(i)}><BiMinus/></Button>\r\n                      </OverlayTrigger>\r\n                    }\r\n                </Col>\r\n                \r\n                <Col xs={1}>    \r\n                    {inputList.length - 1 === i && \r\n                      <OverlayTrigger key='AddItem' placement='bottom'\r\n                      overlay={\r\n                        <Tooltip id='tooltip-additem'>\r\n                          Add Item\r\n                        </Tooltip>\r\n                      }\r\n                      > \r\n                      <Button size=\"sm\" variant=\"secondary\" onClick={handleAddClick}><BiPlus/></Button>\r\n                      </OverlayTrigger>\r\n                    }\r\n                </Col>\r\n            </Form.Group>\r\n          </div>\r\n        );\r\n      })}        \r\n          \r\n\r\n         </Tab>\r\n         \r\n         <Tab eventKey=\"items\" title=\"Items\">\r\n         <ReactDataGrid \r\n                idProperty=\"ID\"\r\n                selected={selectedItems}\r\n                checkboxColumn\r\n                onSelectionChange={onSelectionItemChange}\r\n                columns={itemsColumns}\r\n                dataSource={itemDataSource}\r\n                style={itemsStyle}   \r\n                rowClassName={itemRowClassName}\r\n                editable={true}             \r\n          />\r\n\r\n\r\n              \r\n         </Tab>\r\n        </Tabs>\r\n          \r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      <Modal show={showCloseTask} onHide={handleCloseCloseTask}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Close Task: {taskID}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form.Group controlId=\"closeTask.ReasonSelect\">  \r\n            <Form.Control as=\"select\" value={reasons.Reason}\r\n                onChange = {e=> setReasonToClose(JSON.parse(e.target.value))}>\r\n                <option value={{}}>Select Close Reason . . .</option>\r\n              {\r\n                reasons.map((reason, index) => {\r\n                  return(<option key={index} value={JSON.stringify(reason)}>{reason.Reason}</option>)\r\n                })\r\n              }\r\n            </Form.Control>\r\n            </Form.Group>\r\n            <Form.Label>Time Spent: {timeSpent}</Form.Label>\r\n            <Form.Group className=\"mb-3\" controlId=\"closeTask.Minutes\">\r\n              <Form.Label>Additional Minutes:</Form.Label>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={1}\r\n                  type=\"text\"\r\n                  value={closingMinutes}\r\n                  placeholder=\"Additional Minutes...\"\r\n                  onChange = {e=> setClosingMinutes(e.target.value)}                />\r\n            </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          \r\n          <Button variant=\"secondary\" onClick={handleCloseCloseTask}>\r\n            Cancel\r\n          </Button>\r\n          \r\n          <Button variant=\"danger\" onClick={handleCloseCloseTask && onSubmitCloseTask}>\r\n            Close Task\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal show={showPrompt} onHide={handleClosePrompt}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Copying task {taskID}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Are you sure you want to copy Task: {taskID} ?</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClosePrompt}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClosePrompt && copyTask}>\r\n            Yes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n     \r\n\r\n      \r\n    </>       \r\n    \r\n  )\r\n}\r\n\r\n\r\n\r\nexport default Tasks;  ","import React, {  useState, useEffect} from 'react';\r\n\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\n\r\nasync function returnSupportSummary(customer) {\r\n    const response = await fetch('/returnSupportSummary/' + customer);\r\n    const customers = await response.json();\r\n    return customers\r\n}\r\n\r\nfunction SupportSummary(customer) {\r\n\r\n    const [dataSource, setDataSource] = useState([]);\r\n\r\n    const columns = [\r\n        {name:'Username', header:'User', type: 'strin', defaultFlex: 1},\r\n        {name:'Datetime', header:'When',  defaultFlex: 1},\r\n        {name:'Details', header:'Details', defaultFlex: 5, editable:true},\r\n        {name:'TimeSpent', header:'Time', defaultFlex: 1}\r\n    ]\r\n\r\n    const gridStyle = {\r\n        minHeight: 700, \r\n        marginRight: 10,\r\n        marginLeft: 10\r\n    }\r\n\r\n    const theme = 'default-dark'\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n    \r\n        //console.log(customer.customer);\r\n    \r\n        returnSupportSummary(customer.customer)\r\n            .then(summary => {\r\n              if(mounted) {\r\n                //console.log(summary);\r\n                setDataSource(summary);\r\n              }\r\n            })\r\n        //console.log(dataSource);\r\n        return () => mounted = false;\r\n    },[customer])\r\n    return(\r\n        <>\r\n        <ReactDataGrid\r\n        \r\n        //rowClassName={rowClassName}\r\n        //handle={setGridRef}\r\n        //idProperty=\"Task\"\r\n        columns={columns}\r\n        dataSource={dataSource}\r\n        style={gridStyle}\r\n        theme={theme}\r\n        //onRenderRow={onRenderRow}\r\n        //selected={selected}\r\n        //checkboxColumn\r\n        //onSelectionChange={onSelectionChange}\r\n        //defaultSortInfo={defaultSortInfo}\r\n                \r\n      />\r\n      </>\r\n    )\r\n}\r\n\r\nexport default SupportSummary;","import  React, {useEffect, useState, useRef}  from \"react\";\r\n\r\n//Bootstrap Used for buttons, modals and styling\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Form from 'react-bootstrap/Form'\r\n//import Row from 'react-bootstrap/Row'\r\n//import Col from 'react-bootstrap/Col'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\n\r\n//React-DatePicker used for date inputs\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport moment from 'moment'\r\n\r\nimport { FaSave } from 'react-icons/fa'\r\n\r\nimport SupportSummary from './SupportSummary.jsx'\r\n\r\n\r\nasync function returnCustomers() {\r\n    const response = await fetch('/returnCustomers');\r\n    const customers = await response.json();\r\n    return customers\r\n}\r\nasync function returnReasons() {\r\n    const response = await fetch('/returnSupportReasons');\r\n    const reasons = await response.json();\r\n    return reasons\r\n}\r\n\r\nfunction addQuickSupport(support, details, formatDate, minutes, phone, email, remote, siteVisit, outOfHours, Reason, UserID) {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        SupportCode: support,\r\n        User: UserID,\r\n        Date: formatDate,\r\n        Details: details,\r\n        Phone: phone,\r\n        Email: email,\r\n        Site: siteVisit,\r\n        Minutes: minutes,\r\n        Remote: remote,\r\n        Reason: Reason,\r\n        OutOfHours: outOfHours\r\n      })\r\n    }\r\n    return fetch('/addQuickSupport/', requestOptions)\r\n     \r\n  }\r\n\r\nfunction QuickSupport() {\r\n    document.title = 'HQ Business - Support';\r\n    //----- GET CURRENT USER -----//\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    //const Username = userToken.username;\r\n    const UserID = userToken.userId;\r\n\r\n    const AllCustomers = {\r\n        \"SupportCode\":0,\r\n        \"Customer_Code\":0,\r\n        \"CustomerName\":\"Select Customer\",\r\n        \"CustomerCode\":0\r\n    }\r\n    \r\n    const AllReasons = {Code: 0, Reason: 'Select Reason'}\r\n    \r\n    const [customer, setCustomer] = useState(AllCustomers);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [details, setDetails] = useState(\"\");\r\n    const [date, setDate] = useState(new Date());\r\n    const [reasons, setReasons] = useState([]);\r\n    const [selectedReason, setSelectedReason] = useState(AllReasons);\r\n    const [minutes, setMinutes] = useState(0);\r\n    const [showOther, setShowOther] = useState(false);\r\n    const [phone, setPhone] = useState('N');\r\n    const [email, setEmail] = useState('N');\r\n    const [remote, setRemote] = useState('N');\r\n    const [siteVisit, setSiteVisit] = useState('N');\r\n    const [outOfHours, setOutOfHours] = useState('N');\r\n\r\n    const [validated, setValidated] = useState(false);\r\n    const formRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n\r\n        let mounted = true;\r\n\r\n        returnCustomers()\r\n            .then(customers => {\r\n                if(mounted) {\r\n                setCustomers(customers)\r\n                }\r\n            })\r\n        returnReasons()\r\n            .then(reasons => {\r\n              if(mounted) {\r\n                setReasons(reasons)\r\n              }  \r\n            })\r\n\r\n        return () => mounted = false;\r\n\r\n    },[])\r\n\r\n    \r\n    const onSubmit = () => {\r\n        //Set Date to correct format\r\n        var formatDate = moment(date).format('YYYY-MM-DD hh:mm:ss');\r\n\r\n        console.log(minutes);\r\n        if(customer.CustomerName===\"Select Customer\"){\r\n            alert(\"Please Select a Customer\");\r\n        } else if(details===\"\") {\r\n            alert(\"Please add Details\");\r\n        } else if(minutes===0) {\r\n            alert(\"Please add Time\");\r\n        } else if(selectedReason.Code===0) {\r\n            alert(\"Please Select a Reason\");\r\n        } else {\r\n            \r\n            addQuickSupport(customer.SupportCode, details, formatDate, minutes, phone, email, remote, siteVisit, outOfHours, selectedReason.Code, UserID);\r\n            handleReset();\r\n        }\r\n        \r\n        \r\n\r\n        \r\n    }\r\n\r\n    const handleReset = () => {\r\n        formRef.current.reset();\r\n        setValidated(false);\r\n\r\n        setDetails(\"\");\r\n        setDate(new Date());\r\n        setSelectedReason(AllReasons);\r\n        setMinutes(0);\r\n        setPhone('N');\r\n        setEmail('N');\r\n        setRemote('N');\r\n        setSiteVisit('N');\r\n        setOutOfHours('N');\r\n\r\n\r\n        let currentCustomer = customer;\r\n        setCustomer(AllCustomers);\r\n        setTimeout(()=>{\r\n            setCustomer(currentCustomer);\r\n        }, 50)\r\n    }\r\n\r\n\r\n    \r\n    return(\r\n        <>\r\n        <div style={{width:'35%',position: 'fixed', right: '60%', marginTop: '2%', marginBottom:'100'}}>\r\n        <Form ref={formRef} validated={validated}>\r\n        <Form.Group controlId=\"select.customer\">\r\n            <Form.Label>Customer: </Form.Label>\r\n            <Form.Control as=\"select\" value={JSON.stringify(customer)} style={{display:'inline', margin:5, width:'80%'}}\r\n                onChange = {e=> {\r\n                  setCustomer(JSON.parse(e.target.value));\r\n                  // console.log(e.target.value);\r\n                  \r\n                  document.getElementById('editTask.Details').focus();\r\n                \r\n                }}>\r\n              <option value={JSON.stringify(AllCustomers)}>{AllCustomers.CustomerName}</option>\r\n              {\r\n                customers.map((customer, index) => {\r\n                  return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                })\r\n              }\r\n            </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"editTask.Details\">\r\n            <Form.Control \r\n                as=\"textarea\" \r\n                rows={5} \r\n                placeholder=\"Details...\"\r\n                value={details}\r\n                onChange = {e=> setDetails(e.target.value)}\r\n                type=\"text\"\r\n                style={{backgroundColor:'#fbff85'}}\r\n            />\r\n        </Form.Group>\r\n        <Form.Group>\r\n            <DatePicker \r\n                selected={date} \r\n                onChange={(date) => setDate(date)} \r\n                dateFormat = 'dd/MM/yyyy'\r\n                calendarStartDay={1}\r\n            />\r\n        </Form.Group>\r\n        <Form.Group>\r\n        <Form.Label>Minutes:&nbsp;&nbsp;&nbsp;</Form.Label>\r\n            <Form.Check\r\n                inline\r\n                label=\"5\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-5m`}\r\n                onChange={e=> {\r\n                    setMinutes(5);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"10\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-10m`}\r\n                onChange={e=> {\r\n                    setMinutes(10);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"15\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-15m`}\r\n                onChange={e=> {\r\n                    setMinutes(15);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"30\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-30m`}\r\n                onChange={e=> {\r\n                    setMinutes(30);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"45\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-45m`}\r\n                onChange={e=> {\r\n                    setMinutes(45);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"60\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-60m`}\r\n                onChange={e=> {\r\n                    setMinutes(60);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"90\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-90m`}\r\n                onChange={e=> {\r\n                    setMinutes(90);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"120\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-120m`}\r\n                onChange={e=> {\r\n                    setMinutes(120);\r\n                    setShowOther(false);\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"Other\"\r\n                name=\"group1\"\r\n                type='radio'\r\n                id={`inline-radio-other`}\r\n                onChange={e=> {\r\n                    setMinutes();\r\n                    setShowOther(true);\r\n                }}\r\n            />\r\n            {\r\n                showOther===true &&\r\n                <Form.Control \r\n                as=\"textarea\" \r\n                rows={1} \r\n                placeholder=\"Minutes\"\r\n                value={minutes}\r\n                onChange = {e=> setMinutes(e.target.value)}\r\n                type=\"text\"\r\n                style={{position:'absolute', right:0,  width: 120, display: 'inline'}}\r\n                />\r\n            }\r\n        </Form.Group>\r\n        <Form.Group>\r\n            <Form.Label>Actions: &nbsp;&nbsp;&nbsp;</Form.Label>\r\n            <Form.Check\r\n                inline\r\n                label=\"Phone\"\r\n                name=\"group2\"\r\n                type='checkbox'\r\n                id={`inline-check-phone`}\r\n                onChange = {e=> {\r\n                    if (phone==='N') {\r\n                      setPhone('Y');\r\n                    } else {\r\n                      setPhone('N');\r\n                    }\r\n                }} \r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"Email\"\r\n                name=\"group2\"\r\n                type='checkbox'\r\n                id={`inline-check-email`}\r\n                onChange = {e=> {\r\n                    if (email==='N') {\r\n                      setEmail('Y');\r\n                    } else {\r\n                      setEmail('N');\r\n                    }\r\n                }} \r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"Remote Access\"\r\n                name=\"group2\"\r\n                type='checkbox'\r\n                id={`inline-check-remote`}\r\n                onChange = {e=> {\r\n                    if (remote==='N') {\r\n                      setRemote('Y');\r\n                    } else {\r\n                      setRemote('N');\r\n                    }\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"Site Visit\"\r\n                name=\"group2\"\r\n                type='checkbox'\r\n                id={`inline-check-sitevisit`}\r\n                onChange = {e=> {\r\n                    if (siteVisit==='N') {\r\n                      setSiteVisit('Y');\r\n                    } else {\r\n                      setSiteVisit('N');\r\n                    }\r\n                }}\r\n            />\r\n            <Form.Check\r\n                inline\r\n                label=\"Out of Hours\"\r\n                name=\"group2\"\r\n                type='checkbox'\r\n                id={`inline-check-outofhours`}\r\n                onChange = {e=> {\r\n                    if (outOfHours==='N') {\r\n                      setOutOfHours('Y');\r\n                    } else {\r\n                      setOutOfHours('N');\r\n                    }\r\n                }}\r\n            />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"support.ReasonSelect\">  \r\n            <Form.Label>Reason: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</Form.Label>\r\n            <Form.Control as=\"select\" value={reasons.Reason} style={{display:'inline', margin:5, width:'80%'}}\r\n                onChange = {e=> setSelectedReason(JSON.parse(e.target.value))}>\r\n                <option value={AllReasons}>{AllReasons.Reason}</option>\r\n              {\r\n                reasons.map((reason, index) => {\r\n                  return(<option key={index} value={JSON.stringify(reason)}>{reason.Reason}</option>)\r\n                })\r\n              }\r\n            </Form.Control>\r\n        </Form.Group>\r\n        <OverlayTrigger key='save-task' placement='bottom'\r\n            overlay={\r\n              <Tooltip id='tooltip-save'>\r\n                Save\r\n              </Tooltip>\r\n            }\r\n        >\r\n            <Button onClick={onSubmit} className=\"button-to-the-right\" variant=\"secondary\" >\r\n                <h4><FaSave /></h4>\r\n            </Button>\r\n        </OverlayTrigger>\r\n        \r\n        </Form>\r\n        </div>\r\n        <div style={{width:'40%',position: 'absolute', left: '50%', marginTop: '2%'}}>\r\n            <SupportSummary customer={customer.SupportCode} />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default QuickSupport;","import  React, {useEffect, useState}  from \"react\";\r\n\r\nimport {returnCustomers, returnUsers} from '../../Tasks/returnTasks';\r\nimport moment from 'moment'\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Button from 'react-bootstrap/Button'\r\nimport {ImFilePdf} from 'react-icons/im'\r\nimport {IoReload} from 'react-icons/io5'\r\n\r\n\r\n\r\n//React-DatePicker used for date inputs\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\n\r\nimport { exportClosedPDF } from '../../excelExport.js'\r\nimport '../Report1.css'\r\nimport { LoadDataSource } from \"../../Tasks/LoadDataSource\";\r\n\r\n\r\nfunction getClosedTasks(customer, user, startDate, endDate) {\r\n    \r\n  \r\n  \r\n  return fetch('/getCloseTaskGrid/' + customer + '&' + user + '&' + startDate + '&' + endDate)\r\n     .then(data => data.json())\r\n  }\r\n\r\nfunction Closed() {\r\n  //----- GET CURRENT USER -----//\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    //const Username = userToken.username;\r\n    //const UserID = userToken.userId;\r\n\r\n    const AllCustomers = {\r\n        \"SupportCode\":0,\r\n        \"Customer_Code\":0,\r\n        \"CustomerName\":\"All Customers\",\r\n        \"CustomerCode\":0\r\n      }\r\n      //const AllDepartments = {\r\n      //  'Code': 0,\r\n      //  'Department': 'All Departments'\r\n      //}\r\n      const AllUsers = {\r\n        'Username': 'None Selected',\r\n        'UserId': 0\r\n      }\r\n      const currentUserObj = {\r\n        'UserId': userToken.userId,\r\n        'Username':  userToken.username\r\n      }\r\n\r\n    \r\n\r\n    const HQDetails={\r\n        'SupportCode' : 0,\r\n        'Customer_Code' : 340,\r\n        'CustomerName' : \"HQ Software\",\r\n        'CustomerCode': 340\r\n    }\r\n\r\n    \r\n    const [dataSource, setDataSource] = useState([]);\r\n\r\n    //Store reference to grid for exporting PDF/CSV\r\n    const [gridRef, setGridRef] = useState(null);\r\n\r\n    //setting departments/users/customers for drop downs\r\n    //const [departments, setDepartments] = useState([]);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n\r\n    const [filterUser, setFilterUser] = useState(currentUserObj);\r\n    const [filterCustomer, setFilterCustomer] = useState(AllCustomers);\r\n    //const [filterDepartment, setFilterDepartment] = useState(AllDepartments);\r\n\r\n    //Dates for DateRange\r\n    var tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate()+1);\r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [endDate, setEndDate] = useState(tomorrow);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        \r\n        LoadData(startDate, endDate, filterCustomer, filterUser);\r\n        \r\n        \r\n        returnCustomers()\r\n        .then(customers => {\r\n            if(mounted) {\r\n          setCustomers(customers)\r\n            }\r\n        })\r\n        //returnDepartments()\r\n        //  .then(departments => {\r\n        //    if(mounted) {\r\n        //      setDepartments(departments);\r\n        //    }\r\n        //  })\r\n        returnUsers()\r\n          .then(users => { \r\n            if(mounted) {\r\n              setUsers(users)\r\n            }\r\n          })\r\n\r\n          return () => mounted = false;\r\n    },[filterUser, filterCustomer.Customer_Code, startDate, endDate])\r\n    \r\n    //Grid Info\r\n    const theme = 'default-dark'\r\n\r\n    const gridStyle = {\r\n      minHeight: '80vh'\r\n    }\r\n\r\n    const columns = [\r\n        {name:'Task', header:'ID', type: 'number', defaultFlex: 1, maxWidth:70},\r\n        {name:'Customer', header:'Customer', defaultFlex: 1, maxWidth: 200, minWidth: 150},\r\n        {name:'Details', header:'Details', defaultFlex: 1, minWidth: 500},\r\n        {name:'Owner_Name', header:'Owner', defaultFlex: 1},\r\n        {name:'ActionByUsername', header:'Allocated To', defaultFlex: 1},\r\n        {name:'Requested', header:'Requested', defaultFlex: 1, maxWidth: 115, \r\n          sort: (a, b) => {\r\n            a = moment(a, 'DD/MM/YYYY', true).format();\r\n            b = moment(b, 'DD/MM/YYYY', true).format();\r\n    \r\n            return new Date(a) - new Date(b);\r\n         }\r\n        },\r\n        {name:'DateCompleted', header:'Date Complete', defaultFlex: 1, maxWidth: 115, \r\n          sort: (a, b) => {\r\n            a = moment(a, 'DD/MM/YYYY', true).format();\r\n            b = moment(b, 'DD/MM/YYYY', true).format();\r\n    \r\n            return new Date(a) - new Date(b);\r\n         }\r\n        },\r\n        {name:'Estimate', header:'Estimate', defaultFlex: 1, maxWidth: 130},\r\n        {name:'TimeSpent', header:'Minutes Spent', defaultFlex: 1, maxWidth: 100},\r\n        {name:'DaysToComplete', header:'Days To Complete', defaultFlex: 1, maxWidth: 100}\r\n    ]\r\n\r\n    const LoadData = (startDate, endDate, filterCustomer, filterUser) => {\r\n      var sDate = moment(startDate).format('YYYY-MM-DDT00:00:00');\r\n      var eDate = moment(endDate).format('YYYY-MM-DDT11:59:59');\r\n\r\n\r\n      let data = getClosedTasks(filterCustomer.Customer_Code, filterUser.UserId, sDate, eDate);\r\n      //console.log(data);\r\n      setDataSource(data);\r\n    }\r\n\r\n    return (\r\n        <div class=\"closed-report\">\r\n          \r\n          <div className=\"first-row\">\r\n              \r\n              <div className=\"item\">\r\n                <h1 class=\"font-weight-light\">Closed Tasks</h1>    \r\n              </div>\r\n\r\n              <div className=\"item\">\r\n                 \r\n                  <Form.Control as=\"select\" value={JSON.stringify(filterCustomer)}\r\n                    onChange = {e=> {\r\n                      setFilterCustomer(JSON.parse(e.target.value));\r\n                      //console.log(e.target.value);\r\n                    }}>\r\n                  <option value={JSON.stringify(AllCustomers)}>{AllCustomers.CustomerName}</option>\r\n                  <option value={JSON.stringify(HQDetails)}>{HQDetails.CustomerName}</option>\r\n                  {\r\n                    customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                  }\r\n                  </Form.Control>\r\n                \r\n              </div>\r\n                \r\n              <div className=\"item\">\r\n                <Form.Control as=\"select\" value={JSON.stringify(filterUser)}\r\n                    onChange = {e=> {\r\n                      //let temp=JSON.parse(e.target.value);\r\n                      //setFilterUserName(temp.Username);\r\n                      setFilterUser(JSON.parse(e.target.value));\r\n                    }}>\r\n                  <option value ={JSON.stringify(currentUserObj)}>{currentUserObj.Username}</option>\r\n                  {\r\n                    users.map((user, index) => {\r\n                      if(user.Username!==currentUserObj.Username) {\r\n                        return(<option key={index} value={JSON.stringify(user)}>{user.Username}</option>)\r\n                      }\r\n                      else return null;\r\n                    })\r\n                  }\r\n                  <option value={JSON.stringify(AllUsers)}>All Users</option>\r\n                </Form.Control>\r\n              </div>\r\n                \r\n            \r\n              <div class=\"item\">\r\n                <DatePicker\r\n                selected={startDate}\r\n                onChange={(date) => {\r\n                  setStartDate(date);\r\n                }}\r\n                selectsStart\r\n                startDate={startDate}\r\n                endDate={endDate}\r\n                dateFormat = 'dd/MM/yyyy'\r\n                />\r\n              </div>\r\n            \r\n              <div class=\"item\">\r\n                <DatePicker\r\n                selected={endDate}\r\n                onChange={(date) => {\r\n                  setEndDate(date);\r\n                }}\r\n                selectsEnd\r\n                startDate={startDate}\r\n                endDate={endDate}\r\n                minDate={startDate}\r\n                dateFormat = 'dd/MM/yyyy'\r\n                />\r\n              </div>\r\n          \r\n              <div className=\"item\">\r\n                <OverlayTrigger key='PDFEXPORT'\r\n                  overlay={\r\n                  <Tooltip id='tooltip-pdf'>\r\n                  Export to PDF\r\n                  </Tooltip>\r\n                  } \r\n                >\r\n                  <Button variant=\"secondary\"\r\n              \t    onClick={ () => {\r\n                      const gridData = gridRef;\r\n                      exportClosedPDF(gridData, filterCustomer);\r\n                      //console.log(gridData);\r\n                    }}\r\n                    \r\n                  >\r\n                    <ImFilePdf />\r\n                  </Button>    \r\n                </OverlayTrigger>\r\n              \r\n                <OverlayTrigger key='refresh' \r\n                  overlay={\r\n                  <Tooltip id='tooltip-refresh'>\r\n                    Refresh\r\n                  </Tooltip>\r\n                  } \r\n                >\r\n                  <Button variant=\"secondary\" style={{marginLeft:'10px'}}\r\n              \t    onClick={ () => {\r\n                      LoadData(startDate, endDate, filterCustomer, filterUser);\r\n                    }}\r\n                    \r\n                  >\r\n                    <IoReload />\r\n                  </Button>    \r\n                </OverlayTrigger>\r\n              </div>\r\n          </div>\r\n            \r\n        \r\n          <div className=\"closed-grid\">\r\n            <ReactDataGrid\r\n              //rowClassName={rowClassName}\r\n              handle={setGridRef}\r\n              idProperty=\"Task\"\r\n              columns={columns}\r\n              dataSource={dataSource}\r\n              style={gridStyle}\r\n              theme={theme}\r\n              //onRenderRow={onRenderRow}\r\n              //selected={selected}\r\n              //checkboxColumn\r\n              //onSelectionChange={onSelectionChange}\r\n              //defaultSortInfo={defaultSortInfo}\r\n            />\r\n          </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Closed;","import React, { useState, useEffect, PureComponent } from \"react\";\r\n\r\n//React-DatePicker used for date inputs\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport moment from 'moment'\r\nimport Form from 'react-bootstrap/Form'\r\nimport '../Report1.css'\r\nimport {returnUsers} from '../../Tasks/returnTasks.js'\r\n\r\n//Charts\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Label, ResponsiveContainer } from 'recharts';\r\n\r\nimport { TailSpin } from  'react-loader-spinner'\r\n\r\n\r\n\r\n\r\nfunction getTimeSpent(startDate, endDate, filterUser) {\r\n  return fetch('/getTimeReport/'+startDate+'&'+endDate+'&'+filterUser)\r\n    .then(data => data.json())\r\n}\r\nfunction getUserTimeSpent(startDate, endDate) {\r\n  return fetch('/getUserTimeReport/'+startDate+'&'+endDate)\r\n    .then(data => data.json())\r\n}\r\n\r\nclass CustomizedAxisTick extends PureComponent {\r\n  render() {\r\n    const { x, y, stroke, payload } = this.props;\r\n\r\n    return (\r\n      <g transform={`translate(${x},${y})`}>\r\n        <text x={0} y={0} dy={5} textAnchor=\"start\" fill=\"#666\" transform=\"rotate(90)\">\r\n          {payload.value}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n\r\nfunction Reports() {\r\n    \r\n  \r\n    var tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate()+1);\r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [endDate, setEndDate] = useState(tomorrow);\r\n    const [loading, setLoading] = useState(true);\r\n    const [loadingUser, setLoadingUser] = useState(true);\r\n    const [users, setUsers] = useState([]);\r\n    const [chartType, setChartType] = useState(3);\r\n\r\n    \r\n    \r\n    //----- GET CURRENT USER -----//\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    //const Username = userToken.username;\r\n\r\n    const currentUserObj = {\r\n        'UserId': userToken.userId,\r\n        'Username':  userToken.username\r\n    }\r\n    const [filterUser, setFilterUser] = useState(currentUserObj);\r\n\r\n    const [data, setData] = useState([]);\r\n    const [userData, setUserData] = useState([]);\r\n    \r\n\r\n    useEffect(()=> {\r\n      \r\n      setLoading(true);\r\n      setLoadingUser(true);\r\n      var sDate = moment(startDate).format('YYYY-MM-DDT00:00:00');\r\n      var eDate = moment(endDate).format('YYYY-MM-DDT11:59:59');\r\n\r\n      getTimeSpent(sDate, eDate, filterUser.UserId).then(report=> {\r\n        setData(report);\r\n        setLoading(false);\r\n      })\r\n\r\n      getUserTimeSpent(sDate, eDate).then(report=> {\r\n        setUserData(report);\r\n        setLoadingUser(false);\r\n      })\r\n\r\n      returnUsers()\r\n      .then(users => { \r\n          setUsers(users)     \r\n      }) \r\n\r\n      if(chartType===1) {\r\n        document.getElementById(\"inline-radio-1\").click();\r\n      }\r\n      if(chartType===2) {\r\n        document.getElementById(\"inline-radio-2\").click();\r\n      }\r\n      if(chartType===3) {\r\n        document.getElementById(\"inline-radio-3\").click();\r\n      }\r\n\r\n      console.log(userData);\r\n    }, [startDate, endDate, filterUser]) \r\n\r\n    const AllUsers = {\r\n      'Username': 'none',\r\n      'UserId': '0'\r\n    }\r\n    \r\n\r\n    let selectedChart;\r\n    if(chartType===3){\r\n      selectedChart = <div className=\"bar-chart-wrap \">\r\n                        <div className=\"main-chart item\">\r\n                          \r\n                          <BarChart width={1100} height={700} data={data}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Customer\" height={250} interval={0} tick={<CustomizedAxisTick/>} />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n\r\n                            <Bar dataKey=\"SupportTime\" fill=\"#202c40\" maxBarSize={50} />\r\n                            <Bar dataKey=\"TaskTime\" fill=\"#c9b428\" maxBarSize={50} />\r\n                          </BarChart> \r\n                          </div>\r\n                    <div className=\"user-chart item\">\r\n                    <BarChart width={400} height={400} data={userData}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Username\" height={150} interval={0} tick={<CustomizedAxisTick/>} />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n\r\n                            <Bar dataKey=\"SupportMinutes\" fill=\"#202c40\" maxBarSize={50} />\r\n                            <Bar dataKey=\"TaskMinutes\" fill=\"#c9b428\" maxBarSize={50} />\r\n                          </BarChart> \r\n                    </div>\r\n                  </div>;\r\n\r\n    } else if (chartType===2) {\r\n      selectedChart = <div className=\"bar-chart-wrap \">\r\n                        <div className=\"main-chart item\">\r\n                          <BarChart width={1100} height={700} data={data}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Customer\" height={150} interval={0} tick={<CustomizedAxisTick/>} />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n                        \r\n                            <Bar dataKey=\"TaskTime\" fill=\"#c9b428\" maxBarSize={50}/>\r\n                          </BarChart>\r\n                          </div>\r\n                    <div className=\"user-chart item\">\r\n                    <BarChart width={400} height={400} data={userData}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Username\" height={40} interval={0} tick={<CustomizedAxisTick/>} />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n\r\n                            \r\n                            <Bar dataKey=\"TaskMinutes\" fill=\"#c9b428\" maxBarSize={50} />\r\n                          </BarChart> \r\n                    </div>\r\n                  </div>;\r\n\r\n    } else if (chartType===1) {\r\n      selectedChart = \r\n                  <div className=\"bar-chart-wrap \">\r\n                    <div className=\"main-chart item\"> \r\n\r\n                      <BarChart width={1100} height={700} data={data}>\r\n                        <CartesianGrid  />\r\n                        <XAxis dataKey=\"Customer\" height={150} interval={0} tick={<CustomizedAxisTick/>} />\r\n                        <YAxis />\r\n                        <Tooltip />\r\n\r\n                        <Bar dataKey=\"SupportTime\" fill=\"#202c40\" maxBarSize={50}/>\r\n                        \r\n                      </BarChart> \r\n                      \r\n                    </div>\r\n                    <div className=\"user-chart item\">\r\n                        <BarChart width={400} height={400} data={userData}>\r\n                          <CartesianGrid  />\r\n                          <XAxis dataKey=\"Username\" height={50} interval={0} tick={<CustomizedAxisTick/>} />\r\n                          <YAxis />\r\n                          <Tooltip />\r\n                          <Bar dataKey=\"SupportMinutes\" fill=\"#202c40\" maxBarSize={50} />\r\n                         \r\n                        </BarChart> \r\n                    </div>\r\n                  </div> ;\r\n    }\r\n\r\n\r\n    let chartLoaded;\r\n\r\n    //console.log(data.length);\r\n    if(loading===false) {\r\n      if(data.length===0){\r\n        chartLoaded = <div className=\"bar-chart-wrap spinner\">\r\n                        <h3>No Data for this selection</h3>\r\n                      </div>;\r\n      } else {\r\n        chartLoaded = selectedChart;\r\n      }\r\n\r\n    } else {\r\n      chartLoaded = \r\n      <div className=\"bar-chart-wrap spinner\">\r\n        <TailSpin color=\"#282c34\" height={200} width={200} ariLabel='Loading'/>\r\n      </div>\r\n    }\r\n\r\n    \r\n      \r\n  \r\n  return (\r\n    <div class=\"time-report\">\r\n        <div className=\"first-row\">\r\n          <h1 class=\"font-weight-light heading item\" >Time Spent</h1>\r\n            \r\n            <div class=\"date item\">\r\n            <DatePicker\r\n              selected={startDate}\r\n              onChange={(date) => {\r\n                setStartDate(date);\r\n              }}\r\n              selectsStart\r\n              startDate={startDate}\r\n              endDate={endDate}\r\n              dateFormat = 'dd/MM/yyyy'\r\n              />\r\n            </div>\r\n            \r\n            <div class=\"date item\">\r\n            <DatePicker\r\n              selected={endDate}\r\n              onChange={(date) => {\r\n                setEndDate(date);\r\n              }}\r\n              selectsEnd\r\n              startDate={startDate}\r\n              endDate={endDate}\r\n              minDate={startDate}\r\n              dateFormat = 'dd/MM/yyyy'\r\n              />\r\n            \r\n            </div>\r\n            \r\n            <div className=\"item radios\">\r\n              <Form.Check\r\n                inline\r\n                label=\"Support\"\r\n                type=\"radio\"\r\n                name=\"group1\"\r\n                id={'inline-radio-1'}\r\n                onChange = {e=> setChartType(1)} \r\n              />\r\n              <Form.Check\r\n                inline\r\n                label=\"Tasks\"\r\n                type=\"radio\"\r\n                name=\"group1\"\r\n                id={'inline-radio-2'}\r\n                onChange = {e=> setChartType(2)}             \r\n              />\r\n              <Form.Check\r\n                inline\r\n                label=\"Both\"\r\n                type=\"radio\"\r\n                name=\"group1\"\r\n                id={'inline-radio-3'}\r\n                onChange = {e=> setChartType(3)} \r\n              />\r\n            </div>\r\n\r\n            <div className=\"user-select item\">\r\n\r\n              <Form.Control as=\"select\" value={users.Username}  \r\n                  onChange = {e=> {\r\n                    let temp=JSON.parse(e.target.value);\r\n                    setFilterUser(temp);\r\n                  }}>\r\n                <option value ={JSON.stringify(currentUserObj)}>{currentUserObj.Username}</option>\r\n                {\r\n                  users.map((user, index) => {\r\n                    if(user.Username!==currentUserObj.Username) {\r\n                      return(<option key={index} value={JSON.stringify(user)}>{user.Username}</option>)\r\n                    }\r\n                    else return null;\r\n                  })\r\n                }\r\n                <option value={JSON.stringify(AllUsers)}>All Users</option>\r\n                </Form.Control>\r\n            </div>\r\n\r\n            \r\n            \r\n        </div>\r\n                \r\n        {chartLoaded}\r\n\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Reports","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nimport './custom.scss'\r\nimport { ProSidebar, Menu, MenuItem, SidebarContent } from 'react-pro-sidebar';\r\n//import 'react-pro-sidebar/dist/css/styles.css';\r\n\r\nimport { GoIssueClosed } from 'react-icons/go'\r\nimport { BiTimeFive } from 'react-icons/bi'\r\nimport { AiOutlineSchedule } from 'react-icons/ai'\r\n\r\n\r\n\r\nfunction ReportMenu() {\r\n\r\n    \r\n    \r\n    return(\r\n    <ProSidebar breakpoint=\"xl\">\r\n      <SidebarContent>\r\n        <Menu iconShape=\"circle\">\r\n        \r\n        \r\n        <MenuItem icon={<BiTimeFive/>}>\r\n            Time Spent\r\n        <Link to=\"/Report1\" />\r\n        </MenuItem>\r\n        <MenuItem icon={<GoIssueClosed />}>\r\n            Closed Tasks\r\n        <Link to=\"/Report1/Closed\" />\r\n        </MenuItem>\r\n        <MenuItem icon={<AiOutlineSchedule />}>\r\n            Schedule\r\n        <Link to=\"/Report1/Schedule\" />\r\n        </MenuItem>\r\n      </Menu>\r\n      </SidebarContent>\r\n      <div style={{height: '80vh', display: 'inline'}}></div>\r\n      \r\n    </ProSidebar>\r\n    ) \r\n}\r\n\r\nexport default ReportMenu;","import React, { useEffect, useState, PureComponent } from 'react'\r\nimport './schedule.css'\r\nimport moment from 'moment'\r\n//ReCharts\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { TailSpin } from  'react-loader-spinner'\r\n\r\n\r\nconst getScheduledTime = (startDate, endDate) => {\r\n    return fetch('/getScheduledTimeByWeek/'+startDate+'&'+endDate)\r\n    .then(data => data.json())\r\n}\r\n\r\nconst pushNewWeek = (dataArray, number, weekDay) => {\r\n    \r\n\r\n        var curr = new Date; // get current date\r\n        var first = (curr.getDate()+weekDay) - curr.getDay()+1; // First day is the day of the month - the day of the week\r\n        //var last = first + 6; // last day is the first day + 6\r\n        var sDate = moment(curr.setDate(first)).format('YYYY-MM-DDT00:00:00');\r\n        //var eDate = moment(curr.setDate(last)).format('YYYY-MM-DDT11:59:59');\r\n\r\n        var date = moment(curr).format(\"DD-MM\");\r\n        let newest = {\r\n            Week: date, \r\n            Richard: 0,\r\n            Wesley: 0,\r\n            Stephen: 0,\r\n            Neil: 0,\r\n            Gavin: 0\r\n        }\r\n\r\n    getScheduledTime(sDate).then(res => {\r\n        res.map((x) => {\r\n            //console.log(x);\r\n            if(x.Username==='Richard'){\r\n                newest.Richard = x.Hours;\r\n            }\r\n             else if(x.Username==='Wesley'){\r\n                newest.Wesley = x.Hours;\r\n            }\r\n            else if(x.Username==='Stephen'){\r\n                newest.Stephen = x.Hours;\r\n            }\r\n            else if(x.Username==='Gavin'){\r\n                newest.Gavin = x.Hours;\r\n            }\r\n            else if(x.Username==='Neil'){\r\n                newest.Neil = x.Hours;\r\n            }\r\n        })\r\n        //console.log(newest);\r\n    })\r\n\r\n    dataArray.push(newest);\r\n\r\n    //console.log(dataArray);\r\n    return dataArray;\r\n    \r\n}\r\n\r\nclass CustomizedAxisTick extends PureComponent {\r\n    render() {\r\n      const { x, y, stroke, payload } = this.props;\r\n  \r\n      return (\r\n        <g transform={`translate(${x},${y})`}>\r\n          <text x={0} y={0} dy={5} textAnchor=\"start\" fill=\"#666\" transform=\"rotate(90)\">\r\n            {payload.value}\r\n          </text>\r\n        </g>\r\n      );\r\n    }\r\n  }\r\n\r\nfunction Schedule() {\r\n\r\n    const[ graphData, setGraphData ] = useState([]);\r\n    const [loading, setLoading ] = useState(false)\r\n    \r\n    useEffect(() => {\r\n        setLoading(true);\r\n        let data = [];\r\n        let weekCount = [0, 7, 14, 21, 28, 35, 42, 49, 56, 63];\r\n\r\n        for(let i=0; i<weekCount.length; i++) {\r\n            //data = pushNewWeek(data, i+1, weekCount[i]);\r\n            setGraphData(pushNewWeek(data, i+1, weekCount[i]));\r\n            \r\n        }\r\n        //console.log(data);\r\n        //setGraphData(data);\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n          }, 3000);\r\n    }, [])\r\n    \r\n    let chartLoaded;\r\n\r\n    if(loading===false) {\r\n        \r\n          chartLoaded = <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <BarChart width={1600} height={700} data={graphData}>\r\n                            <CartesianGrid  />\r\n                            <XAxis dataKey=\"Week\" height={60} interval={0}  label={{ value: 'Week Starting on:', angle: 0, position: 'outsideLeft' }}/>\r\n                            <YAxis  label={{ value: 'Hours', angle: -90, position: 'insideLeft' }}/>\r\n                            <Tooltip />\r\n                            <Legend />\r\n                                <Bar dataKey=\"Richard\" fill=\"#ff3c2e\" />\r\n                                <Bar dataKey=\"Wesley\" fill=\"#dbbe00\" />\r\n                                <Bar dataKey=\"Stephen\" fill=\"#2eff35\" />\r\n                                <Bar dataKey=\"Gavin\" fill=\"#2e9dff\" />\r\n                                <Bar dataKey=\"Neil\" fill=\"#202c40\" />\r\n                        </BarChart> \r\n          </ResponsiveContainer>\r\n  \r\n      } else {\r\n        chartLoaded = \r\n        <div className=\"bar-chart-wrap spinner\">\r\n          <TailSpin color=\"#282c34\" height={200} width={200} ariLabel='Loading'/>\r\n        </div>\r\n      }\r\n  \r\n\r\n    return(\r\n        <div className=\"main\">\r\n\r\n            {chartLoaded}    \r\n        \r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Schedule;","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Reports, Closed, ReportMenu, Schedule } from \"./components1\";\r\nimport './Report1.css'\r\n\r\nfunction Report1() {\r\n    document.title = 'HQ Business - Reports';\r\n    return (\r\n        <div className=\"Report1\">\r\n          \r\n          <Router>\r\n            <ReportMenu />\r\n            <Switch>\r\n             \r\n              <Route path=\"/Report1\" exact component={() => <Reports />} />\r\n              <Route path=\"/Report1/Closed\" exact component={() => <Closed />} />\r\n              <Route path=\"/Report1/Schedule\" exact component={() => <Schedule />} />\r\n             \r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n\r\n      );\r\n}\r\n\r\nexport default Report1;","import React, {  useState, useEffect, useCallback } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport './alerts.css';\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport moment from 'moment'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { AiOutlineFlag } from 'react-icons/ai'\r\n\r\n\r\n\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\nconst returnErrors = (code) => {\r\n    return fetch('/returnErrors/' + code).then(response => {\r\n      return response.json()\r\n    });\r\n}\r\n\r\nconst returnAlerts = () => {\r\n    return fetch('/returnAlerts').then(response => {\r\n      return response.json()\r\n    });\r\n}\r\n\r\n  //const processErrorConfirmed = (key) => {\r\n  //    const requestOptions = {\r\n  //      method: 'PUT',\r\n  //      headers: { 'Content-Type': 'application/json'},\r\n  //      body: JSON.stringify({\r\n  //        detail: key\r\n  //      })\r\n  //    }\r\n  //    return fetch('/processErrorConfirmed', requestOptions)\r\n  //  }\r\n\r\nconst getCount = (customer) => {\r\n  return fetch('/getErrorCount/'+ customer).then(response => {\r\n    return response.json()\r\n  });\r\n  \r\n}\r\n\r\n  //const processErrorReviewed = (key) => {\r\n  //  const requestOptions = {\r\n  //    method: 'PUT',\r\n  //    headers: { 'Content-Type': 'application/json'},\r\n  //    body: JSON.stringify({\r\n  //      detail: key\r\n  //    })\r\n  //  }\r\n  //  return fetch('/processErrorReviewed', requestOptions)\r\n  //}\r\n\r\n  const processErrors = (details, status) => {\r\n    const string = JSON.stringify(details)\r\n    \r\n    const requestOptions = {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        Details: string,\r\n        Status: status\r\n      })\r\n    }\r\n    return fetch('/processErrors', requestOptions)\r\n  }\r\n\r\n  const submitErrors = (status, selected) => {\r\n    //console.log(selected);\r\n    let detailsArray = [];\r\n    Object.keys(selected).forEach(function(key) {\r\n        //console.log(key);\r\n        detailsArray.push(key);\r\n    })\r\n    //console.log(detailsArray);\r\n    processErrors(detailsArray, status);\r\n}\r\n\r\nfunction Errors() {\r\n  document.title = 'HQ Business - Errors';\r\n\r\n    const [errorList, setErrorList] = useState([]);\r\n    const [currentCustomer, setCurrentCustomer] = useState({});\r\n    const [customers, setCustomers] = useState([]);\r\n    const [count, setCount] = useState();\r\n\r\n\r\n    //const history= useHistory();\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        //console.log(JSON.parse(localStorage.getItem('CustomerErrorCheck')).CustomerCode);\r\n        let count=0\r\n        if (count=0) {\r\n            returnErrors(JSON.parse(localStorage.getItem('CustomerErrorCheck')).CustomerCode).then((data) => {\r\n              if(mounted) {\r\n                  setErrorList(data);   \r\n              }       \r\n          });\r\n\r\n          returnAlerts()\r\n              .then(customers => {\r\n                if(mounted) {\r\n                  setCustomers(customers)\r\n                }\r\n              })\r\n\r\n            getCount(JSON.parse(localStorage.getItem('CustomerErrorCheck')).CustomerCode).then((x) => {\r\n              //console.log(x[0][\"\"]);\r\n              setCount(x[0][\"\"]);\r\n            });\r\n\r\n\r\n          //console.log(customers);\r\n\r\n          setCurrentCustomer(JSON.parse(localStorage.getItem('CustomerErrorCheck')));\r\n          count = count+1;\r\n        }\r\n        else {\r\n            returnErrors(currentCustomer.CustomerCode).then((data) => {\r\n              if(mounted) {\r\n                  setErrorList(data);   \r\n              }       \r\n            });\r\n          \r\n            returnAlerts()\r\n                .then(customers => {\r\n                  if(mounted) {\r\n                    setCustomers(customers)\r\n                  }\r\n                })\r\n              \r\n            getCount(currentCustomer.CustomerCode).then((x) => {\r\n                //console.log(x[0][\"\"]);\r\n                setCount(x[0][\"\"]);\r\n            });\r\n\r\n            //console.log(customers);\r\n          }\r\n        return () => mounted = false;\r\n        //console.log(currentCustomer);\r\n    }, [currentCustomer]);\r\n\r\n    const reLoadGrid = (customer) => {\r\n      //console.log(\"HELLO THERE!\");  \r\n      returnErrors(customer.CustomerCode).then((data) => {\r\n                setErrorList(data);         \r\n      });\r\n\r\n      getCount(customer.CustomerCode).then((x) => {\r\n          //console.log(x[0][\"\"]);\r\n          setCount(x[0][\"\"]);\r\n          if (x[0][\"\"]===0) {\r\n            setCurrentCustomer(AllCustomers);\r\n          }\r\n      });\r\n      \r\n    }\r\n\r\n    const columns = [\r\n        {name: 'Customer_Name', header: 'Customer', type: 'string', defaultFlex: 1},\r\n        {name: 'Details', header: 'Details', type: 'string', defaultFlex: 9},\r\n        //{name: 'Status', header: 'Status', maxWidth:75, type: 'string'},\r\n        {name: 'ErrorDate', header: 'Error Date', type: 'string', defaultFlex: 1,\r\n            sort: (a, b) => {\r\n                a = moment(a, 'DD/MM/YYYY, HH:mm:ss', true).format();\r\n                b = moment(b, 'DD/MM/YYYY, HH:mm:ss', true).format();\r\n    \r\n                return new Date(a) - new Date(b);\r\n            }\r\n        },\r\n        {name: 'UploadDate', header: 'Upload Date', type: 'string', defaultFlex: 1,\r\n            sort: (a, b) => {\r\n                a = moment(a, 'DD/MM/YYYY, HH:mm:ss', true).format();\r\n                b = moment(b, 'DD/MM/YYYY, HH:mm:ss', true).format();\r\n    \r\n                return new Date(a) - new Date(b);\r\n            }\r\n        }\r\n    ]\r\n\r\n    const gridStyle = { height: '100%' }\r\n    const theme = 'default-dark'\r\n\r\n    //Sets data for the rows that are checked\r\n  const [selected, setSelected] = useState({});\r\n\r\n    const onSelectionChange = useCallback(({ selected }) => {\r\n        if(selected!==true){\r\n          setSelected(selected);\r\n        }\r\n    \r\n        //console.log(JSON.stringify(toArray(selected)));\r\n        //console.log(selected)\r\n          \r\n      }, [])\r\n\r\n    const [showPrompt, setShowPrompt] = useState(false);\r\n    const handleClosePrompt = () => {\r\n      setShowPrompt(false);\r\n      setSelected({});\r\n      setTimeout(()=> {\r\n        reLoadGrid(currentCustomer);\r\n        returnAlerts()\r\n          .then(customers => {\r\n              setCustomers(customers)\r\n          })\r\n      }, 500)\r\n    }\r\n\r\n//    const confirmErrors = () => {\r\n//        Object.keys(selected).forEach(function(key) {\r\n//            //console.log(key);\r\n//            processErrorConfirmed(key);\r\n//        })\r\n//\r\n//        handleClosePrompt();\r\n//    }\r\n//\r\n//    const reviewErrors = () => {\r\n//      Object.keys(selected).forEach(function(key) {\r\n//          //console.log(key);\r\n//          processErrorReviewed(key);\r\n//      })\r\n//\r\n//      handleClosePrompt();\r\n//  }\r\n\r\n \r\n\r\n  //Allows button to be pressed when some tasks are selected\r\n  let editIsDisabled = true;\r\n  if(JSON.stringify(selected).length<3) {\r\n    //console.log(selected);\r\n    editIsDisabled = true;\r\n  } else {\r\n    editIsDisabled = false;\r\n  }\r\n  //----------//\r\n\r\n\r\n  const AllCustomers = {\r\n    CustomerCode: 0,\r\n    Customer_Name: \"All Errors\",\r\n    ErrorCount: 0\r\n  }\r\n\r\n    return(\r\n        <>\r\n        <div className='errors'>\r\n        <div className=\"top-row\">\r\n\r\n        <div className=\"first-item\">\r\n          <h3>Total Errors: {count}</h3>\r\n          <OverlayTrigger key='Make-Urgent' placement='bottom'\r\n              overlay={\r\n                <Tooltip id='tooltip-pdf'>\r\n                  Flag Selected Errors\r\n                </Tooltip>\r\n              }\r\n            >\r\n        <Button variant =\"secondary\"  \r\n          onClick={() => {\r\n            setShowPrompt(true);\r\n          }}\r\n          disabled={editIsDisabled}\r\n          className='button-to-the-right'\r\n          >\r\n              <AiOutlineFlag />\r\n        </Button>\r\n        </OverlayTrigger>\r\n        </div>\r\n        \r\n        <div className=\"third-item\">\r\n          <Form.Control as=\"select\" value={JSON.stringify(currentCustomer)} \r\n                onChange = {e=> {\r\n                    setCurrentCustomer(JSON.parse(e.target.value));\r\n                    //console.log(JSON.parse(e.target.value));\r\n                    reLoadGrid(JSON.parse(e.target.value));\r\n                }}>\r\n              <option value={JSON.stringify(AllCustomers)}>{AllCustomers.Customer_Name}</option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.Customer_Name}</option>)\r\n                    })\r\n                }\r\n              </Form.Control>\r\n        </div>\r\n\r\n        </div>\r\n        \r\n            \r\n\r\n              <ReactDataGrid \r\n                idProperty=\"Details\"\r\n                columns={columns}\r\n                dataSource={errorList}\r\n                style={gridStyle}\r\n                theme={theme}\r\n                selected={selected}\r\n                checkboxColumn\r\n                onSelectionChange={onSelectionChange}\r\n                editable={true}\r\n              />\r\n\r\n\r\n\r\n\r\n        \r\n\r\n            \r\n       \r\n        </div>\r\n        <Modal show={showPrompt} onHide={handleClosePrompt}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Flag Errors</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>How do you want to flag the selected Errors?</Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleClosePrompt}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={ () => {\r\n                submitErrors('R', selected);\r\n                handleClosePrompt();\r\n              }}>\r\n                Reviewed\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={ () => {\r\n                submitErrors('C', selected);\r\n                handleClosePrompt();\r\n              }}>\r\n                Confirmed\r\n              </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Errors;","import React, {useState} from 'react'\r\n\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\n\r\nimport {RiFileAddLine} from \"react-icons/ri\"\r\n\r\nconst newUpdateID = () => {\r\n  return fetch('/newUpdateId').then(response => {\r\n    return response.json()\r\n  });\r\n}\r\n\r\nfunction addUpdateHeader(username, version, productID) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      Username: username,\r\n      Version: version,\r\n      ProductID: productID\r\n    })\r\n  }\r\n  return fetch('/addUpdateHeader/', requestOptions)\r\n   \r\n}\r\n\r\nfunction addUpdateDetail(updateId, details, comment) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      UpdateId: updateId,\r\n      Details: details,\r\n      Comment: comment\r\n    })\r\n  }\r\n  return fetch('/addUpdateDetail/', requestOptions)\r\n   \r\n}\r\n\r\nfunction addUpdateSQL(updateId, sql) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      UpdateId: updateId,\r\n      Sql: sql\r\n    })\r\n  }\r\n  return fetch('/addUpdateSQL/', requestOptions)\r\n   \r\n}\r\n\r\nfunction NewVersion (props) {\r\n\r\n  //----- GET CURRENT USER -----//\r\n  const tokenString = sessionStorage.getItem('token');\r\n  const userToken = JSON.parse(tokenString);\r\n  const Username = userToken.username;\r\n  //const UserID = userToken.userId;\r\n\r\n  let isDisabled = true;\r\n  if(props.product.ProductID!==null){\r\n    isDisabled = false;\r\n  }\r\n \r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const [version, setVersion] = useState(\"\");\r\n    const [details, setDetails] = useState(\"\");\r\n    const [sql, setSQL] = useState(\"\");\r\n    const [comment, setComment] = useState(\"\");\r\n\r\n    const handleClose= () => {\r\n      setShow(false);\r\n      setVersion(\"\");\r\n      setDetails(\"\");\r\n      setSQL(\"\");\r\n      setComment(\"\");\r\n\r\n      \r\n    }\r\n\r\n    const onSubmit = () => {\r\n      newUpdateID().then(id=> {\r\n          //console.log(id.[0].[\"\"]);\r\n        addUpdateHeader(Username, version, props.product.ProductID).then( ()=> {\r\n          addUpdateDetail(id[0][\"\"], details, comment).then( ()=> {\r\n            addUpdateSQL(id[0][\"\"], sql).then( () => {\r\n              props.reLoad(props.product);\r\n            });\r\n          });\r\n        });\r\n      });\r\n\r\n      handleClose();\r\n      \r\n    }\r\n\r\n    return(\r\n        <>\r\n        <OverlayTrigger key='NewVersion' placement='bottom'\r\n          overlay={\r\n            <Tooltip id='tooltip-newversion'>\r\n              New Version\r\n            </Tooltip>\r\n          }\r\n        >\r\n        <Button variant=\"secondary\" style={{margin:5}} \r\n      \tonClick={ () => {\r\n          setShow(true);  \r\n          setTimeout(() => {\r\n            document.getElementById('newVersionInput').focus();\r\n          }, 20);\r\n        }}\r\n        className=\"button-to-the-left\"\r\n        disabled={isDisabled}\r\n        >\r\n           <RiFileAddLine/>\r\n        </Button>\r\n        </OverlayTrigger>\r\n\r\n\r\n        <Modal show={show} onHide={handleClose} size='lg'>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Version - {props.product.ProductName} </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          \r\n          \r\n          <Form>\r\n          <Row>\r\n            <Col xs={2}>\r\n              <h7>Version:</h7>\r\n            </Col>\r\n            <Col> \r\n              <Form.Group className=\"mb-3\" controlId=\"newVersionInput\">\r\n                <Form.Control \r\n                style={{display:'inline'}}\r\n                size=\"sm\"\r\n                as=\"textarea\" \r\n                rows={1}\r\n                type=\"text\"\r\n                value={version}\r\n                onChange = {e=> setVersion(e.target.value)}\r\n                controlId=\"newVersionInput\"\r\n              />\r\n              </Form.Group> \r\n              \r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"newTask.Details\">\r\n                <h7>Description:</h7>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={3} \r\n                  placeholder=\"Add Decription...\"\r\n                  value={details}\r\n                  onChange = {e=> setDetails(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row>  \r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"newTask.Notes\">\r\n                <h7>SQL:</h7>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={3} \r\n                  placeholder=\"Add SQL...\"\r\n                  value={sql}\r\n                  onChange = {e=> setSQL(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row>  \r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"newTask.Notes\">\r\n                <h7>Comment:</h7>\r\n                <Form.Control \r\n                  as=\"textarea\" \r\n                  rows={3} \r\n                  placeholder=\"Add Comment...\"\r\n                  value={comment}\r\n                  onChange = {e=> setComment(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          </Form>\r\n    \r\n        </Modal.Body>\r\n        <Modal.Footer>          \r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{\r\n            onSubmit();\r\n            handleClose();\r\n          }}>\r\n            Create Version\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewVersion;","import React, {useState, useEffect} from 'react'\r\n\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport moment from 'moment'\r\n\r\nimport './products.css'\r\nimport NewVersion from './NewVersion.jsx';\r\n\r\nconst returnProductGrid = (id) => {\r\n    return fetch('/returnProductGrid/' + id).then(response => {\r\n      return response.json()\r\n    });\r\n}\r\n\r\nconst returnProductList = () => {\r\n    return fetch('/returnProductList').then(response => {\r\n      return response.json()\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction Products  () {\r\n    document.title = 'HQ Business - Products';\r\n\r\n    const noSelected = {\r\n        MailingList: \"\",\r\n        ProductID: null,\r\n        ProductName: \"Select a Product\",\r\n        ProductURL: \"\"\r\n    }\r\n\r\n    const [dataSource, setDataSource] = useState({});\r\n    const [currentProduct, setCurrentProduct] = useState(noSelected);\r\n    const [products, setProducts] = useState([]);\r\n\r\n\r\n    const onChangeSelect = (product) => {\r\n        returnProductGrid(product.ProductID).then((data) => {\r\n                setDataSource(data);         \r\n        });\r\n        //console.log(products);\r\n    }\r\n\r\n    const reLoadGrid = (product) => {\r\n        \r\n        returnProductGrid(product.ProductID).then((data) => {\r\n                setDataSource(data);         \r\n        });\r\n        //console.log(dataSource);\r\n    }\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        \r\n        returnProductList().then((data) => {\r\n            if(mounted) {\r\n                setProducts(data);   \r\n            }       \r\n        });        \r\n        return () => mounted = false;\r\n        \r\n    }, []);\r\n\r\n    const columns = [\r\n        {name: 'Datetime', header: 'Date', type: 'string', defaultFlex: 1,\r\n            sort: (a, b) => {\r\n                a = moment(a, 'DD/MM/YYYY', true).format();\r\n                b = moment(b, 'DD/MM/YYYY', true).format();\r\n    \r\n                return new Date(a) - new Date(b);\r\n            }\r\n        },\r\n        {name: 'Version', header: 'Version', type: 'string', defaultFlex: 1},\r\n        {name: 'Username', header: 'User', type: 'string' , defaultFlex: 1},\r\n        {name: 'UpdateDesc', header: 'Description', type: 'string', minWidth:1255 , defaultFlex: 1}\r\n    ]\r\n    const gridStyle = { minHeight:750, margin:10 }\r\n    const theme = 'default-dark'\r\n    //const defaultSortInfo = { name: 'Version', dir: -1 }\r\n\r\n    return(\r\n        <>\r\n        <div className='Products'>\r\n            <Row size='xs'>\r\n                <Col>\r\n                    <NewVersion product={currentProduct} reLoad={reLoadGrid}/>\r\n                </Col>\r\n                <Col>\r\n                <h3>{currentProduct.ProductName}</h3>\r\n                </Col>\r\n                <Col>\r\n                <h6 className='productURL'><a href={currentProduct.ProductURL}>{currentProduct.ProductURL}</a></h6>\r\n                </Col>\r\n                <Col>\r\n                </Col>\r\n                <Col >\r\n                    <Form.Control as=\"select\" value={JSON.stringify(currentProduct)} style={{ display:'inline', margin:5, width:400}}\r\n                        onChange = {e=> {\r\n                            setCurrentProduct(JSON.parse(e.target.value));\r\n                            //console.log(e.target.value);\r\n                            onChangeSelect(JSON.parse(e.target.value));\r\n                        }}>\r\n                        <option key={0} value={JSON.stringify(noSelected)}>{noSelected.ProductName}</option>\r\n                        {\r\n                          products.map((product, index) => {\r\n                              return(<option key={index} value={JSON.stringify(product)}>{product.ProductName}</option>)\r\n                            })\r\n                        }\r\n                    </Form.Control>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <ReactDataGrid \r\n                    idProperty=\"id\"\r\n                    columns={columns}\r\n                    dataSource={dataSource}\r\n                    style={gridStyle}\r\n                    theme={theme}\r\n                    editable={true}\r\n                    //defaultSortInfo={defaultSortInfo}\r\n                />\r\n            </Row>\r\n            \r\n\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products;","import React, { useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport {FiEdit} from \"react-icons/fi\"\r\nimport './Customers.css'\r\n\r\nasync function returnCustomers() {\r\n    const response = await fetch('/returnCustomers');\r\n    const customers = await response.json();\r\n    return customers\r\n} \r\n\r\nconst resetCustomerList = () =>{\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json'},\r\n    }\r\n\r\n    return fetch('/resetCustomerList', requestOptions)\r\n}\r\n\r\nconst updateCustomerList = (list) =>{\r\n    //console.log(list);\r\n    //Update Web_List_Placement' values from 'list'\r\n    \r\n\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n            one: list[0].Customer_Code,\r\n            two: list[1].Customer_Code,\r\n            three: list[2].Customer_Code,\r\n            four: list[3].Customer_Code,\r\n            five: list[4].Customer_Code,\r\n            six: list[5].Customer_Code,\r\n            seven: list[6].Customer_Code,\r\n            eight: list[7].Customer_Code,\r\n            nine: list[8].Customer_Code,\r\n            ten: list[9].Customer_Code\r\n        })\r\n      }\r\n    \r\n      //console.log(requestOptions);\r\n      return fetch('/updateCustomerList', requestOptions)\r\n}\r\n\r\nconst EditList = React.memo(props => {\r\n    const [show, setShow] = useState(false);\r\n    const [list, setList] = useState(props.list);\r\n    const [customers, setCustomers] = useState([]);\r\n\r\n    const handleShow = () => {\r\n        setShow(true);\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setShow(false);\r\n        setList(props.list);\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        handleClose();\r\n\r\n        resetCustomerList().then(()=>{\r\n            updateCustomerList(list).then(() => {\r\n                props.onChange();\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setList(props.list)\r\n        \r\n        returnCustomers()\r\n            .then(customers => {\r\n                setCustomers(customers);\r\n            })\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n\r\n        <OverlayTrigger key='MultiEdit' placement='bottom'\r\n          overlay={\r\n            <Tooltip id='tooltip-multiedit'>\r\n              Edit Customers\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <Button variant=\"secondary\" style={{margin:'5px'}}\r\n      \tonClick={ () => {\r\n          handleShow();\r\n          //props.onClick();\r\n        }}\r\n        className=\"button-to-the-left\"\r\n        //disabled={editIsDisabled}\r\n        >\r\n        <FiEdit/>\r\n        </Button>\r\n        </OverlayTrigger>\r\n\r\n\r\n        <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Update Selected Customers</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className=\"modal-wrapper\">\r\n            <div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>1: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\"  style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[0] = {\r\n                        Web_List_Placement : 1,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }\r\n                }}>\r\n                  <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div>\r\n            <div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>2: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[1] = {\r\n                        Web_List_Placement : 2,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }\r\n                }}>\r\n                    <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>3: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[2] = {\r\n                        Web_List_Placement : 3,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }          \r\n                }}>\r\n                    <option></option>              \r\n                {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>4: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[3] = {\r\n                        Web_List_Placement : 4,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }         \r\n                }}>\r\n              <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>5: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[4] = {\r\n                        Web_List_Placement : 5,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }             \r\n                }}>\r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>6: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[5] = {\r\n                        Web_List_Placement : 6,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }             \r\n                }}>\r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>7: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[6] = {\r\n                        Web_List_Placement : 7,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }           \r\n                }}>\r\n                \r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>8: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[7] = {\r\n                        Web_List_Placement : 8,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }                \r\n                }}>\r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>9: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[8] = {\r\n                        Web_List_Placement : 9,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }             \r\n                }}>\r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div><div className=\"item-row\">\r\n            <div className=\"left-col\">\r\n            <Form.Label>10: </Form.Label>\r\n            </div>\r\n            <div className=\"right-col\">\r\n            <Form.Control as=\"select\" style={{display:'inline', margin:5}}\r\n                onChange = {e=> {        \r\n                    let value = JSON.parse(e.target.value);                \r\n                    list[9] = {\r\n                        Web_List_Placement : 10,\r\n                        Customer_Code : value.Customer_Code,\r\n                        Customer_Name : value.CustomerName\r\n                    }              \r\n                }}>\r\n                <option></option>\r\n              {\r\n                  customers.map((customer, index) => {\r\n                      return(<option key={index} value={JSON.stringify(customer)}>{customer.CustomerName}</option>)\r\n                    })\r\n                }\r\n            </Form.Control>\r\n            </div>\r\n            </div>\r\n            </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          {/*<Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n            </Button>*/}\r\n          <Button variant=\"primary\" onClick={onSubmit}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      </>\r\n    )\r\n});\r\n\r\nexport default EditList;","import React, { useEffect, useState } from 'react';\r\nimport './Customers.css';\r\n\r\n//ReactDataGrid.io used for main grid\r\nimport ReactDataGrid from '@inovua/reactdatagrid-community'\r\nimport '@inovua/reactdatagrid-community/base.css'\r\nimport '@inovua/reactdatagrid-community/index.css'\r\nimport '@inovua/reactdatagrid-community/theme/default-dark.css'\r\n\r\nimport EditList from './EditList';\r\n\r\nconst getTopSupport = () => {\r\n    return fetch('/getTopSupportCustomers').then(response => {\r\n      return response.json()\r\n    });\r\n}\r\nconst getTopSelected = () => {\r\n    return fetch('/getTopSelectedCustomers').then(response => {\r\n      return response.json()\r\n    });\r\n}\r\n\r\n\r\nfunction Customers  () {\r\n\r\n    const [customerSupportData, setCustomerSupportData] = useState({});\r\n    const [selectedCustomers, setSelectedCustomers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n\r\n    const gridStyle = { minHeight:500, margin:10 }\r\n\r\n    const supportColumns = [\r\n        {name: 'Customer_Name', header: 'Customer', type: 'string', defaultFlex: 5},\r\n        {name: 'SupportTime', header: 'Support (Mins)', type: 'number', defaultFlex: 1}\r\n    ]\r\n\r\n    const selectedColumns = [\r\n        {name: 'Web_List_Placement', header: '#', type: 'number', defaultFlex: 1},\r\n        {name: 'Customer_Name', header: 'Customer', type: 'string', defaultFlex: 8}\r\n    ]\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getTopSupport().then(data => {\r\n            setCustomerSupportData(data);\r\n        })\r\n        getTopSelected().then(data => {\r\n            setSelectedCustomers(data);\r\n            setLoading(false);\r\n        })\r\n        \r\n    }, [])\r\n\r\n    //----- GET CURRENT USER -----//\r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    //const Username = userToken.username;\r\n    const UserID = userToken.userId;\r\n\r\n    const update = () => {\r\n        setLoading(true);\r\n        getTopSelected().then(data => {\r\n            setSelectedCustomers(data);\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    let Button1 = <div/>\r\n    if(UserID===1 | UserID===2 | UserID===6){\r\n        console.log(selectedCustomers)\r\n        if(loading===false){\r\n            Button1 = <EditList list={selectedCustomers} onChange={update}/>;\r\n        }\r\n    }\r\n    return(\r\n        <>\r\n        <div className=\"wrapper\">\r\n            <div className=\"top-row\">\r\n                {\r\n                    Button1\r\n                }\r\n            </div>\r\n            <div className=\"grids\">\r\n                <div className=\"item top-cust\">\r\n                <h4 class=\"font-weight-light heading item\" >Top Customers:</h4>\r\n                    <ReactDataGrid \r\n                    idProperty=\"Customer_Code\"\r\n                    columns={selectedColumns}\r\n                    dataSource={selectedCustomers}\r\n                    style={gridStyle}\r\n                    theme={'default-dark'}\r\n                    />\r\n                </div>\r\n                <div className=\"item top-supp\">\r\n                <h4 class=\"font-weight-light heading item\" >Time for Support in the Last Month:</h4>\r\n                    <ReactDataGrid \r\n                    idProperty=\"CustomerCode\"\r\n                    columns={supportColumns}\r\n                    dataSource={customerSupportData}\r\n                    style={gridStyle}\r\n                    theme={'default-dark'}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Customers;","export default __webpack_public_path__ + \"static/media/HQicon.9e6c548a.ico\";","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Login.css';\r\n\r\nimport Footer from './../Footer.jsx'\r\n\r\nimport HQicon from './HQicon.ico'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nasync function loginUser(credentials) {\r\n  return fetch('/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  document.title = 'HQ Business - Login';\r\n  const [username, setUserName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleSubmit = async e => {\r\n    checkDueDate();\r\n\r\n    \r\n    e.preventDefault();\r\n    const token = await loginUser({\r\n        username,\r\n        password\r\n    });\r\n    \r\n    \r\n    if(token.token!=='q>)*8n[TfhTyZAW'){  \r\n      alert('Invalid Username/Password');\r\n    } else{\r\n      setToken(token);\r\n    }\r\n     \r\n    \r\n  }\r\n\r\n  const checkDueDate = () =>{\r\n    //console.log(\"checkDueDate Method\");\r\n    const requestOptions = {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json'}\r\n    }\r\n    return fetch('/checkDueDate/', requestOptions)  \r\n  }\r\n  \r\n  return(\r\n    <>\r\n    \r\n    \r\n    <div className=\"login-logo\"><img src={HQicon} alt=\"logo\" /></div>\r\n    <div className=\"login-wrapper\">\r\n      <h2>HQ Business - Log In</h2>\r\n      <Form>\r\n        <Form.Group className=\"mb-3\" controlId=\"emailInput\">\r\n          <Form.Label>User:</Form.Label>\r\n          <Form.Control type=\"email\" placeholder=\"Enter username\" onChange={e => setUserName(e.target.value)}/>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" constrolId=\"passwordInput\">\r\n          <Form.Label>Password:</Form.Label>\r\n          <Form.Control type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\r\n        </Form.Group>\r\n        <Button variant=\"secondary\" type=\"submit\" onClick={handleSubmit} className=\"button-to-the-right\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n\r\n    <Footer />\r\n    </>\r\n  )\r\n\r\n  \r\n}\r\n\r\nLogin.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n}","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Navigation, Tasks, Footer, Report1, QuickSupport, Errors, Products, Customers } from \"./components\";\r\nimport useToken from './useToken.js';\r\nimport Login from './components/Login/Login'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n  \r\n  const { token, setToken } = useToken();\r\n  \r\n  if(token && token!=='q>)*8n[TfhTyZAW') {\r\n    //console.log(\"HI THERE\");\r\n    alert(\"Invalid Log-in Token\");\r\n    localStorage.removeItem('token');\r\n  }\r\n  \r\n  \r\n  if(!token) {\r\n    return <Login setToken={setToken} />\r\n  }\r\n  \r\n  \r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navigation />\r\n          <div className=\"main-wrapper\">\r\n            <Switch>\r\n              <Route path=\"/\" exact component={() => <Tasks />} />\r\n              <Route path=\"/Report1\" exact component={() => <Report1 />} />\r\n              <Route path=\"/Support\" exact component={() => <QuickSupport />} />\r\n              <Route path=\"/Products\" exact component={() => <Products />} />\r\n              <Route path=\"/Errors\" exact component={() => <Errors />} />\r\n              <Route path=\"/Customers\" exact component={() => <Customers />} />\r\n            </Switch>\r\n          </div>\r\n        <Footer /> \r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\nexport default App;","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n    };\r\n    \r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n        sessionStorage.setItem('token', JSON.stringify(userToken));\r\n        setToken(userToken.token);\r\n    };\r\n\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}